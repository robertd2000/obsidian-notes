https://habr.com/ru/articles/875794/

**Фасад** — это паттерн проектирования, который предоставляет **простой интерфейс** для работы с **сложной системой**. Вместо того чтобы разбираться с множеством деталей и компонентов, мы можем использовать фасад, который берёт на себя всю работу "под капотом". Простыми словами Фасад — это как кнопка "Выполнить всё". Он объединяет несколько действий в одном месте, чтобы тебе было проще.

#### Пример

Допустим, у нас есть умный дом. И мы хотим упростить повседневные задачи, например, **включение режима "Спокойной ночи"**. Для этого нужно:

1. Выключить свет.
    
2. Закрыть шторы.
    
3. Настроить температуру.
    
4. Включить сигнализацию.
    

Делать это вручную долго и неудобно, да и зачем оно надо. Вместо этого можно сделать **фасад**, который выполнит все действия одной командой.

```go
package main

import "fmt"

// Подсистема 1: Освещение
type Lights struct{}

func (l *Lights) Off() {
    fmt.Println("Свет: выключен")
}

// Подсистема 2: Шторы
type Curtains struct{}

func (c *Curtains) Close() {
    fmt.Println("Шторы: закрыты")
}

// Подсистема 3: Кондиционер
type Thermostat struct{}

func (t *Thermostat) SetTemperature(temp int) {
    fmt.Printf("Кондиционер: Установлена температура %d°C\n", temp)
}

// Подсистема 4: Сигнализация
type Alarm struct{}

func (a *Alarm) Activate() {
    fmt.Println("Сигнализация: активирована")
}

// Фасад: Умный дом
type SmartHomeFacade struct {
    lights     *Lights
    curtains   *Curtains
    thermostat *Thermostat
    alarm      *Alarm
}

// Конструктор фасада
func NewSmartHomeFacade() *SmartHomeFacade {
    return &SmartHomeFacade{
        lights:     &Lights{},
        curtains:   &Curtains{},
        thermostat: &Thermostat{},
        alarm:      &Alarm{},
    }
}

// Метод для включения режима "Спокойной ночи"
func (s *SmartHomeFacade) GoodNightMode() {
    fmt.Println("Активация режима `Спокойной ночи`...")
    s.lights.Off()
    s.curtains.Close()
    s.thermostat.SetTemperature(20) // Устанавливаем комфортную температуру
    s.alarm.Activate()
    fmt.Println("Режим `Спокойной ночи` активирован!")
}

func main() {
    // Создаём фасад для умного дома
    smartHome := NewSmartHomeFacade()
    
    // Активируем режим "Спокойной ночи"
    smartHome.GoodNightMode()
}
```

#### Пояснение

#### Подсистемы

- **Lights (Освещение)** — управляет светом в доме, метод `Off()` выключает свет.
    
- **Curtains (Шторы)** — управляет шторами, метод `Close()` закрывает их.
    
- **Thermostat (Кондиционер)** — управляет температурой в доме, метод `SetTemperature(int)` устанавливает температуру.
    
- **Alarm (Сигнализация)** — управляет сигнализацией, метод `Activate()` включает сигнализацию.
    

#### Фасад (SmartHomeFacade)

Фасад объединяет все эти подсистемы в один объект, предоставляя клиенту простой способ управлять всем умным домом. Вместо того, чтобы обращаться к каждой подсистеме по отдельности, можно просто использовать фасад.

- Конструктор `NewSmartHomeFacade` создает и инициализирует все подсистемы, а затем объединяет их в одном объекте.
    

#### Метод GoodNightMode

- Выключает свет, вызывая метод `s.lights.Off()`.
    
- Закрывает шторы, вызывая метод `s.curtains.Close()`.
    
- Устанавливает комфортную температуру (20°C) для кондиционера через `s.thermostat.SetTemperature(20)`.
    
- Активирует сигнализацию с помощью `s.alarm.Activate()`.
    

#### Основной код (main)

1. В `main` создается объект фасада `smartHome`, который автоматически управляет всеми подсистемами.
    
2. Затем вызывается метод `GoodNightMode()`, который активирует режим "Спокойной ночи", выполняя все необходимые действия для подготовки дома к ночному времени.