
##### –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ/ let/const/var
https://doka.guide/js/var-let/
https://learn.javascript.ru/variables#itogo
https://learn.javascript.ru/var

###### **1. –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (Scope)**
|           | `var`                  | `let`/`const`          |
|-----------|------------------------|------------------------|
| **–û–±–ª–∞—Å—Ç—å** | Function-scoped       | Block-scoped          |
| **–î–æ—Å—Ç—É–ø** | –í–∏–¥–Ω–∞ –≤–æ –≤—Å–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ | –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ `{}` |

**–ü—Ä–∏–º–µ—Ä:**
```javascript
function test() {
  if (true) {
    var a = 1;    // –í–∏–¥–Ω–∞ –≤–æ –≤—Å–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
    let b = 2;    // –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ if
    const c = 3;  // –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ if
  }
  console.log(a); // 1
  console.log(b); // –û—à–∏–±–∫–∞: b is not defined
}
```

---

###### **2. –ü–æ–¥–Ω—è—Ç–∏–µ (Hoisting)**
|           | `var`                  | `let`/`const`          |
|-----------|------------------------|------------------------|
| **–ü–æ–¥–Ω—è—Ç–∏–µ** | –î–∞ (—Å `undefined`)    | –î–∞ (–Ω–æ –≤ "TDZ")       |
| **TDZ**   | –ù–µ—Ç                    | –ï—Å—Ç—å (–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º—ë—Ä—Ç–≤–∞—è –∑–æ–Ω–∞) |

**–ü—Ä–∏–º–µ—Ä:**
```javascript
console.log(x); // undefined (var –ø–æ–¥–Ω—è—Ç–æ)
var x = 10;

console.log(y); // –û—à–∏–±–∫–∞: Cannot access 'y' before initialization
let y = 20;
```

---

###### **3. –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
|           | `var`       | `let`       | `const`     |
|-----------|-------------|-------------|-------------|
| **–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** | –ú–æ–∂–Ω–æ      | –ú–æ–∂–Ω–æ       | –ù–µ–ª—å–∑—è      |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**   | –ú–æ–∂–Ω–æ      | –ú–æ–∂–Ω–æ       | –ú–æ–∂–Ω–æ*      |

**–ü—Ä–∏–º–µ—Ä:**
```javascript
var name = "John";
var name = "Anna"; // OK

let age = 30;
let age = 40; // –û—à–∏–±–∫–∞: Identifier 'age' already declared

const pi = 3.14;
pi = 3.1415; // –û—à–∏–±–∫–∞: Assignment to constant variable
```
> *`const` –∑–∞–ø—Ä–µ—â–∞–µ—Ç –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ, –Ω–æ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤/–º–∞—Å—Å–∏–≤–æ–≤:
> ```javascript
> const user = { name: "John" };
> user.name = "Anna"; // OK
> ```

---

###### **4. –ì–ª–æ–±–∞–ª—å–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å**
–ü—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏:
- `var` —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ–π—Å—Ç–≤–æ –≤ `window` (–±—Ä–∞—É–∑–µ—Ä).
- `let`/`const` –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `window`.

**–ü—Ä–∏–º–µ—Ä:**
```javascript
var globalVar = "I'm global";
let globalLet = "I'm global too";

console.log(window.globalVar); // "I'm global"
console.log(window.globalLet); // undefined
```

---

###### **–ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
1. **`const`** ‚Äì –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å.
2. **`let`** ‚Äì –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è (—Å—á—ë—Ç—á–∏–∫–∏, —É—Å–ª–æ–≤–∏—è –≤ —Ü–∏–∫–ª–∞—Ö).
3. **`var`** ‚Äì –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏).

**–ü—Ä–∏–º–µ—Ä—ã:**
```javascript
// –•–æ—Ä–æ—à–∏–π —Å—Ç–∏–ª—å:
const API_URL = "https://api.example.com"; // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞
let isLoading = true;                      // –§–ª–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è

// –ü–ª–æ—Ö–æ–π —Å—Ç–∏–ª—å:
var counter = 0;                          // –£—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
```

---

###### **–°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞**
| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞       | `var`            | `let`            | `const`          |
|----------------------|------------------|------------------|------------------|
| **–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏** | Function-scoped  | Block-scoped     | Block-scoped     |
| **–ü–æ–¥–Ω—è—Ç–∏–µ**         | –î–∞ (—Å undefined) | –î–∞ (–≤ TDZ)       | –î–∞ (–≤ TDZ)       |
| **–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**  | –î–∞               | –ù–µ—Ç              | –ù–µ—Ç              |
| **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è** | –î–∞              | –î–∞               | –ù–µ—Ç*             |
| **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å** | –î–æ–±–∞–≤–ª—è–µ—Ç –≤ `window` | –ù–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ `window` | –ù–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ `window` |

> *–î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤/–º–∞—Å—Å–∏–≤–æ–≤, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `const`, –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞.

---

###### **–ü–æ—á–µ–º—É `var` —É—Å—Ç–∞—Ä–µ–ª?**
1. **–ù–µ–æ—á–µ–≤–∏–¥–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏** (–≤–∏–¥–Ω–∞ –≤–æ –≤—Å–µ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –±–ª–æ–∫–µ).
2. **–ü–æ–¥–Ω—è—Ç–∏–µ** –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –æ—à–∏–±–∫–∞–º.
3. **–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞** (`window` –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö).

**–ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä —Å `var`:**
```javascript
for (var i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100); // –í—ã–≤–µ–¥–µ—Ç 3, 3, 3 (–∏–∑-–∑–∞ function-scoped)
}
// –° let –≤—ã–≤–µ–¥–µ—Ç 0, 1, 2
```

---

###### **–ò—Ç–æ–≥**
- –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å `const`.  
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `let`, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è.  
- –ò–∑–±–µ–≥–∞–π—Ç–µ `var` –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∫–æ–¥–µ.  
- –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤/–º–∞—Å—Å–∏–≤–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Object.freeze()`:
  ```javascript
  const immutableObj = Object.freeze({ key: 'value' });
  immutableObj.key = 'new'; // –ù–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è (–≤ strict mode ‚Äî –æ—à–∏–±–∫–∞)
  ```

##### **TDZ (Temporal Dead Zone, –í—Ä–µ–º–µ–Ω–Ω–∞—è –º—ë—Ä—Ç–≤–∞—è –∑–æ–Ω–∞)**  

**TDZ** ‚Äî —ç—Ç–æ –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `let` –∏ `const` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (–±–ª–∞–≥–æ–¥–∞—Ä—è **–ø–æ–¥–Ω—è—Ç–∏—é**, Hoisting), –Ω–æ –∫ –Ω–∏–º **–Ω–µ–ª—å–∑—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è** –¥–æ –∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è.  

---

###### **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç TDZ?**
1. **–û–±—ä—è–≤–ª–µ–Ω–∏–µ `let`/`const` –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è (hoisting)** –≤ –Ω–∞—á–∞–ª–æ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (–±–ª–æ–∫–∞ `{}`).  
2. –ù–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Å—Ç–∞—ë—Ç—Å—è –≤ **TDZ** –¥–æ –º–æ–º–µ–Ω—Ç–∞ –µ—ë **–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** (–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è).  
3. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ TDZ ‚Äî **–æ—à–∏–±–∫–∞ `ReferenceError`**.  

---

###### 1. –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä
```javascript
console.log(x); // ReferenceError: Cannot access 'x' before initialization
let x = 10;
```
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `x` **–ø–æ–¥–Ω—è—Ç–∞**, –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ TDZ –¥–æ —Å—Ç—Ä–æ–∫–∏ `let x = 10`.  

###### 2. –í–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ `{}`
```javascript
{
  console.log(y); // ReferenceError: y is not defined
  let y = 20;
}
```
- `y` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞, –Ω–æ –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è ‚Äî TDZ.  

###### 3. –í —Ü–∏–∫–ª–µ
```javascript
for (let i = 0; i < 3; i++) {
  console.log(i); // 0, 1, 2 (–Ω–µ—Ç TDZ, —Ç–∞–∫ –∫–∞–∫ i —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞)
}
```
- –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `var`, `let` –≤ —Ü–∏–∫–ª–µ **–Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª—ã**.  

---

###### **–ß–µ–º TDZ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `var`?**
| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å      | `var`                          | `let`/`const` (TDZ)          |
|------------------|--------------------------------|-----------------------------|
| **–ü–æ–¥–Ω—è—Ç–∏–µ**     | –î–∞, —Å `undefined`              | –î–∞, –Ω–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å  |
| **–û–±–ª–∞—Å—Ç—å**      | Function-scoped                | Block-scoped                |
| **–î–æ—Å—Ç—É–ø –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è** | `undefined`            | **–û—à–∏–±–∫–∞ `ReferenceError`** |

**–ü—Ä–∏–º–µ—Ä:**
```javascript
console.log(a); // undefined (var –ø–æ–¥–Ω—è—Ç)
var a = 5;

console.log(b); // ReferenceError (let –≤ TDZ)
let b = 10;
```

---

###### **–ü–æ—á–µ–º—É TDZ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?**
1. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** ‚Äî –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–æ –µ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏—è.  
2. **–£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏** ‚Äî —è–≤–Ω–∞—è –æ—à–∏–±–∫–∞ –ª—É—á—à–µ, —á–µ–º –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ `undefined`.  
3. **–°—Ç—Ä–æ–≥–∞—è –±–ª–æ–∫–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏** ‚Äî `let`/`const` –≤–µ–¥—É—Ç —Å–µ–±—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.  

---

###### **–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å TDZ?**
1. **–í—Å–µ–≥–¥–∞ –æ–±—ä—è–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –Ω–∞—á–∞–ª–µ –±–ª–æ–∫–∞**:
   ```javascript
   let x = 10; // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
   console.log(x); // 10
   ```
2. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `var`** ‚Äî –æ–Ω –Ω–µ –∏–º–µ–µ—Ç TDZ, –Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ.  
3. **–î–ª—è `const` ‚Äî –≤—Å–µ–≥–¥–∞ –∑–∞–¥–∞–≤–∞–π—Ç–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**:
   ```javascript
   const PI = 3.14; // –ë–µ–∑ TDZ, —Ç.–∫. —Å—Ä–∞–∑—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
   ```

---

###### **–ü—Ä–∏–º–µ—Ä—ã, –≥–¥–µ TDZ –≤–∞–∂–µ–Ω**
###### 1. –í —Ñ—É–Ω–∫—Ü–∏—è—Ö
```javascript
function run() {
  console.log(value); // ReferenceError (TDZ)
  let value = "Hello";
}
run();
```

###### 2. –í –±–ª–æ–∫–∞—Ö `if`/`for`
```javascript
if (true) {
  console.log(tmp); // ReferenceError (TDZ)
  let tmp = 123;
}
```

---

###### **–í—ã–≤–æ–¥**
- **TDZ** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç `let`/`const` –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ `var`.  
- **–í—Å–µ–≥–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫.  
- **`const` –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ä–∞–∑—É**, `let` ‚Äî –ª—É—á—à–µ –æ–±—ä—è–≤–ª—è—Ç—å –∑–∞—Ä–∞–Ω–µ–µ.  

**–ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞:**  

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å         | `var`            | `let`        | `const`      |
| ------------------- | ---------------- | ------------ | ------------ |
| **–ü–æ–¥–Ω—è—Ç–∏–µ**        | –î–∞ (`undefined`) | –î–∞ (TDZ)     | –î–∞ (TDZ)     |
| **–û–±–ª–∞—Å—Ç—å**         | Function-scoped  | Block-scoped | Block-scoped |
| **TDZ**             | –ù–µ—Ç              | –î–∞           | –î–∞           |
| **–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** | –î–∞               | –ù–µ—Ç          | –ù–µ—Ç          |
##### –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É¬†`null`,¬†`undefined`¬†–∏ –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –±–µ–∑ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è? (`let foo;`)

`null`¬†–∑–∞–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —è–≤–Ω–æ –∏ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º, –Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –µ—â—ë –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.¬†`undefined`¬†–ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç), –∫–æ–≥–¥–∞ –æ–Ω–∞ –±—ã–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∞, –Ω–æ –Ω–µ –±—ã–ª–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –µ—ë –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –§—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å¬†`undefined`¬†–∏–ª–∏¬†`null`. –í—Å—ë –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –º—ã –æ–∂–∏–¥–∞–µ–º –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏. –ï—Å–ª–∏ –º—ã –æ–∂–∏–¥–∞–µ–º –æ–±—ä–µ–∫—Ç, –Ω–æ –ø–æ –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º —Ñ—É–Ω–∫—Ü–∏—è –µ–≥–æ –≤–µ—Ä–Ω—É—Ç—å –Ω–µ –º–æ–∂–µ—Ç, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º¬†`null`. –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Å–ª–æ (–≥–ª–∞–≤–Ω–æ–µ, –Ω–µ –æ–±—ä–µ–∫—Ç), –Ω–æ –Ω–µ –º–æ–∂–µ—Ç —ç—Ç–æ–≥–æ —Å–¥–µ–ª–∞—Ç—å, —Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`undefined`.

–ë–µ–∑ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –æ–±—ä—è–≤–ª–µ–Ω–Ω—É—é —á–µ—Ä–µ–∑¬†`let`¬†–∏–ª–∏¬†`var`. –ï—Å–ª–∏ –æ–±—ä—è–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —á–µ—Ä–µ–∑¬†`const`¬†–∏ –Ω–µ –∑–∞–¥–∞—Ç—å –µ–π –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞:¬†`Uncaught SyntaxError:¬†Missing initializer in const declaration`.

–ü–æ–≥–æ–≤–æ—Ä–∏–º –Ω–µ–º–Ω–æ–≥–æ –æ¬†[–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏ —Ç–∏–ø–æ–≤](https://doka.guide/js/typecasting/). –î–ª—è –Ω–∞—á–∞–ª–∞, –ø—Ä–∏–º–µ—Ä:

```js

console.log(null + null); // 0
console.log(undefined + undefined); // NaN

```

–ü–æ—á–µ–º—É —Ç–∞–∫?

–ü–æ¬†[—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ EcmaScript](https://262.ecma-international.org/7.0/#sec-tonumber)

- `null`¬†–≤–æ –≤—Ä–µ–º—è —Å–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –Ω—É–ª—é;
- `undefined`¬†–≤–æ –≤—Ä–µ–º—è —Å–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫¬†`NaN`.¬†`NaN`¬†—ç—Ç–æ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç "not a number" ‚Äî –Ω–µ —á–∏—Å–ª–æ. –†–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–≤–µ–Ω¬†`NaN`, –µ—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –∏ –æ–∂–∏–¥–∞–µ–º—ã–π —á–∏—Å–ª–æ–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—Ä–∞–∂–µ–Ω —á–∏—Å–ª–æ–º.

–ï—Å—Ç—å –µ—â—ë –æ–¥–∏–Ω —Ö–∏—Ç—Ä—ã–π –ø—Ä–∏–º–µ—Ä:

```js

console.log(null + []); // "null"

```

–ü–æ—á–µ–º—É —Ç–∞–∫?

–ü–æ–¥—Å–∫–∞–∑–∫–∞, –ø–æ—á–µ–º—É —Ç–∞–∫, –∫—Ä–æ–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ –≤ —Ç–∏–ø–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ: "null" ‚Äî —Å—Ç—Ä–æ–∫–∞. –ê –Ω–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ¬†`null`.

JavaScript —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –º–∞—Å—Å–∏–≤ –∫ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é. –î–ª—è —ç—Ç–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥¬†`toString()`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥¬†`join()`. –¢.–∫. –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π, —Ç–æ¬†`join()`¬†–≤–µ—Ä–Ω—ë—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É¬†`""`. –ê —Å–ª–æ–∂–µ–Ω–∏–µ —á–µ–≥–æ-—Ç–æ —Å–æ —Å—Ç—Ä–æ–∫–æ–π –≤ JS –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É. –ü–æ—ç—Ç–æ–º—É¬†`null`¬†—É–∂–µ –Ω–∏–∫—É–¥–∞ –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è, –∞ –≤–æ–∑—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞¬†`"null"`.

–ù–µ–º–Ω–æ–≥–æ —É–ø–æ–º—è–Ω—É –∏ –ø—Ä–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω—É–ª–µ–≤–æ–≥–æ —Å–ª–∏—è–Ω–∏—è (`??`). –í –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –æ–ø–µ—Ä–∞–Ω–¥–∞–º–∏ –æ–Ω –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–µ—Ä–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥, –µ—Å–ª–∏ –æ–Ω –Ω–µ —Ä–∞–≤–µ–Ω¬†`null`¬†–∏–ª–∏¬†`undefined`. –ú–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ¬†`??`¬†–ø—Ä–∏—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å–º—ã—Å–ª¬†`undefined`¬†–∏¬†`null`¬†–∫ ¬´–Ω–∏—á–µ–≥–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç¬ª, –∏, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ, –∫–ª–∞–¥—ë—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –æ–ø–µ—Ä–∞–Ω–¥–∞.
##### **–ó–∞–º—ã–∫–∞–Ω–∏—è (Closures) –≤ JavaScript**
https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%BC%D1%8B%D0%BA%D0%B0%D0%BD%D0%B8%D0%B5_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)
https://learn.javascript.ru/closure
https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Closures

–ó–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è **—Ñ—É–Ω–∫—Ü–∏–∏** –∏ **–ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**, –≤ –∫–æ—Ç–æ—Ä–æ–º —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—ã–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∞. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ **–∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø** –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –∏–∑ –≤–Ω–µ—à–Ω–µ–π (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π) –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

###### üîπ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∑–∞–º—ã–∫–∞–Ω–∏—è?**
1. **–§—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏**  
   –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è "–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç" (–∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫) –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏.

2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**  
   –î–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏, –µ—ë –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π.

---

###### üîπ **–ü—Ä–∏–º–µ—Ä –∑–∞–º—ã–∫–∞–Ω–∏—è**
```javascript
function outer() {
  let count = 0; // –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏

  function inner() {
    count++; // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ –≤–Ω–µ—à–Ω–µ–π
    console.log(count);
  }

  return inner; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º inner (–Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ–º –µ—ë!)
}

const counter = outer(); // counter = —Ñ—É–Ω–∫—Ü–∏—è inner + –∑–∞–ø–æ–º–Ω–µ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (count)

counter(); // 1 (count = 0 + 1)
counter(); // 2 (count = 1 + 1)
counter(); // 3 (count = 2 + 1)
```

###### **–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?**
1. `outer()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `inner`.  
2. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `count` **–Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è**, –ø–æ—Ç–æ–º—É —á—Ç–æ `inner` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ—ë.  
3. –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `counter()` –∏–∑–º–µ–Ω—è–µ—Ç **–æ–¥–Ω—É –∏ —Ç—É –∂–µ `count`**.

---

###### üîπ **–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏—è?**
###### **1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**
```javascript
function createCounter() {
  let value = 0; // "–ü—Ä–∏–≤–∞—Ç–Ω–∞—è" –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è

  return {
    increment() { value++; },
    decrement() { value--; },
    getValue() { return value; }
  };
}

const counter = createCounter();
counter.increment();
console.log(counter.getValue()); // 1
console.log(counter.value); // undefined (–Ω–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é)
```
- `value` –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –∏–∑–≤–Ω–µ, —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã.

###### **2. –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (—á–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π)**
```javascript
function multiply(a) {
  return function(b) {
    return a * b;
  };
}

const double = multiply(2);
console.log(double(5)); // 10 (2 * 5)
```

###### **3. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)**
```javascript
function memoizedAdd() {
  const cache = {}; // –ó–∞–º—ã–∫–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç cache –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏

  return function(n) {
    if (n in cache) {
      console.log("–ò–∑ –∫—ç—à–∞:", cache[n]);
      return cache[n];
    } else {
      console.log("–í—ã—á–∏—Å–ª–µ–Ω–∏–µ...");
      cache[n] = n + 10;
      return cache[n];
    }
  };
}

const add = memoizedAdd();
console.log(add(5)); // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ... 15
console.log(add(5)); // –ò–∑ –∫—ç—à–∞: 15
```

---

###### üîπ **–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏?**
–ó–∞–º—ã–∫–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏, –µ—Å–ª–∏:
- –û–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω, –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è –¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ.

**–†–µ—à–µ–Ω–∏–µ:**  
- –Ø–≤–Ω–æ –æ–±–Ω—É–ª—è—Ç—å —Å—Å—ã–ª–∫–∏ (`someVar = null`).  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **WeakMap** –∏–ª–∏ **WeakSet**, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã.

---

###### üîπ **–ò—Ç–æ–≥**
‚úÖ **–ó–∞–º—ã–∫–∞–Ω–∏—è** –ø–æ–∑–≤–æ–ª—è—é—Ç —Ñ—É–Ω–∫—Ü–∏—è–º –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.  
‚úÖ –ü–æ–ª–µ–∑–Ω—ã –¥–ª—è **–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**, **–∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è**, **–º–µ–º–æ–∏–∑–∞—Ü–∏–∏**.  
‚ö†Ô∏è –ú–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å **—É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏**, –µ—Å–ª–∏ –Ω–µ–∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.  

**–ü—Ä–∏–º–µ—Ä –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:**
```javascript
function createTimer() {
  let startTime = Date.now();

  return function() {
    return Date.now() - startTime;
  };
}

const getElapsedTime = createTimer();
setTimeout(() => console.log(getElapsedTime()), 1000); // ~1000 –º—Å
```


[–ó–∞–º—ã–∫–∞–Ω–∏–µ](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%BC%D1%8B%D0%BA%D0%B0%D0%BD%D0%B8%D0%B5_\(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5\))¬†‚Äì —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–≤–æ–∏ –≤–Ω–µ—à–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–∞—Ö —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–ª–æ—Å—å –∑–∞–º—ã–∫–∞–Ω–∏–µ. –ù–æ, –∫–∞–∫ –±—ã–ª–æ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ, –≤ JavaScript, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —è–≤–ª—è—é—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏ (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –ø—Ä–æ –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ –≤¬†[–°–∏–Ω—Ç–∞–∫—Å–∏—Å "new Function"](https://learn.javascript.ru/new-function)).

–¢–æ –µ—Å—Ç—å –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—Ç, –≥–¥–µ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã, —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä—ã—Ç–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞¬†`[[Environment]]`, –∏ –≤—Å–µ –æ–Ω–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–Ω–µ—à–Ω–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º.

–ö–æ–≥–¥–∞ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –∑–∞–¥–∞—é—Ç –≤–æ–ø—Ä–æ—Å: ¬´—á—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ?¬ª, ‚Äì –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Ç–æ–≥–æ —Ñ–∞–∫—Ç–∞, —á—Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ JavaScript —è–≤–ª—è—é—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏, –∏, –º–æ–∂–µ—Ç –±—ã—Ç—å, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤ –æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª—è—Ö: —Å–≤–æ–π—Å—Ç–≤–µ¬†`[[Environment]]`¬†–∏ –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

–ó–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –∑–∞–º—ã–∫–∞–Ω–∏–µ –¥–∞—ë—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫¬†[Scope](https://developer.mozilla.org/en-US/docs/Glossary/Scope)¬†–≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏. –í JavaScript –∑–∞–º—ã–∫–∞–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ –≤—Ä–µ–º—è –µ—ë —Å–æ–∑–¥–∞–Ω–∏—è.
##### —Ä–µ–∫—É—Ä—Å–∏—è
https://learn.javascript.ru/recursion
https://doka.guide/js/recursion/

–†–µ–∫—É—Ä—Å–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ–≥–¥–∞ **—Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º—É —Å–µ–±—è** –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç **–±–∞–∑–æ–≤–æ–≥–æ —Å–ª—É—á–∞—è** (—É—Å–ª–æ–≤–∏—è –≤—ã—Ö–æ–¥–∞). –≠—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏ —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞.

###### üîπ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏—è?**
1. **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ª—É—á–∞–π** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º—É —Å–µ–±—è —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.
2. **–ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π** ‚Äî —É—Å–ª–æ–≤–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∫—É—Ä—Å–∏—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

###### üî• **–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä: –§–∞–∫—Ç–æ—Ä–∏–∞–ª**
```javascript
function factorial(n) {
  if (n === 1) return 1; // –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
  return n * factorial(n - 1); // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
}

console.log(factorial(5)); // 120 (5! = 5 * 4 * 3 * 2 * 1)
```

###### **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**
1. `factorial(5)` ‚Üí `5 * factorial(4)`
2. `factorial(4)` ‚Üí `4 * factorial(3)`
3. `factorial(3)` ‚Üí `3 * factorial(2)`
4. `factorial(2)` ‚Üí `2 * factorial(1)`
5. `factorial(1)` ‚Üí `1` (–±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π, —Ä–µ–∫—É—Ä—Å–∏—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)

---

###### üîπ **–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏—è?**
###### **1. –û–±—Ö–æ–¥ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä (DOM, JSON)**
```javascript
function traverseDOM(node) {
  console.log(node.tagName); // –í—ã–≤–æ–¥–∏–º —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
  for (const child of node.children) {
    traverseDOM(child); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏–º –¥–µ—Ç–µ–π
  }
}

traverseDOM(document.body); // –û–±—Ö–æ–¥ –≤—Å–µ–≥–æ DOM
```

###### **2. –ê–ª–≥–æ—Ä–∏—Ç–º—ã (–±—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫)**
```javascript
function binarySearch(arr, target, left = 0, right = arr.length - 1) {
  if (left > right) return -1; // –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
  
  const mid = Math.floor((left + right) / 2);
  
  if (arr[mid] === target) return mid; // –ù–∞—à–ª–∏ —ç–ª–µ–º–µ–Ω—Ç
  if (arr[mid] < target) return binarySearch(arr, target, mid + 1, right);
  return binarySearch(arr, target, left, mid - 1);
}

const arr = [1, 3, 5, 7, 9];
console.log(binarySearch(arr, 5)); // 2 (–∏–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞)
```

###### **3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π (—á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏)**
```javascript
function fibonacci(n) {
  if (n <= 1) return n; // –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
  return fibonacci(n - 1) + fibonacci(n - 2);
}

console.log(fibonacci(6)); // 8 (0, 1, 1, 2, 3, 5, 8)
```

---

###### üîπ **–ü—Ä–æ–±–ª–µ–º—ã —Ä–µ–∫—É—Ä—Å–∏–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å**
###### **1. –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞ (Stack Overflow)**
–ï—Å–ª–∏ —Ä–µ–∫—É—Ä—Å–∏—è —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–∞—è, JavaScript –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É:
```javascript
function infiniteRecursion() {
  infiniteRecursion(); // –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –≤—ã–∑–æ–≤ ‚Üí RangeError
}
```

**–†–µ—à–µ–Ω–∏–µ:**  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ö–≤–æ—Å—Ç–æ–≤—É—é —Ä–µ–∫—É—Ä—Å–∏—é** (–µ—Å–ª–∏ –¥–≤–∏–∂–æ–∫ –µ—ë –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç).  
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º **–∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ** (—á–µ—Ä–µ–∑ —Ü–∏–∫–ª—ã).

###### **2. –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –§–∏–±–æ–Ω–∞—á—á–∏)**
–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –§–∏–±–æ–Ω–∞—á—á–∏ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ **O(2‚Åø)**.

**–†–µ—à–µ–Ω–∏–µ:** **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è** (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤).  
```javascript
const memo = {};

function fibonacciMemo(n) {
  if (n <= 1) return n;
  if (memo[n]) return memo[n]; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  
  memo[n] = fibonacciMemo(n - 1) + fibonacciMemo(n - 2);
  return memo[n];
}

console.log(fibonacciMemo(50)); // –ë—ã—Å—Ç—Ä–æ, –¥–∞–∂–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö n
```

---

###### üîπ **–†–µ–∫—É—Ä—Å–∏—è vs –ò—Ç–µ—Ä–∞—Ü–∏—è**
| –ö—Ä–∏—Ç–µ—Ä–∏–π          | –†–µ–∫—É—Ä—Å–∏—è                  | –ò—Ç–µ—Ä–∞—Ü–∏—è (—Ü–∏–∫–ª—ã)          |
|-------------------|---------------------------|---------------------------|
| **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**    | –í—ã—à–µ (–¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–¥–∞—á)| –ù–∏–∂–µ                      |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ | –û–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ            |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** | –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏  |
| **–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å** | –î–µ—Ä–µ–≤—å—è, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã | –ü—Ä–æ—Å—Ç—ã–µ –ª–∏–Ω–µ–π–Ω—ã–µ –∑–∞–¥–∞—á–∏ |

---

###### üîπ **–ò—Ç–æ–≥**
‚úÖ **–†–µ–∫—É—Ä—Å–∏—è** –ø–æ–ª–µ–∑–Ω–∞ –¥–ª—è –∑–∞–¥–∞—á —Å **–≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π** (–¥–µ—Ä–µ–≤—å—è, –≥—Ä–∞—Ñ—ã).  
‚ö†Ô∏è **–ë–µ–∑ –±–∞–∑–æ–≤–æ–≥–æ —Å–ª—É—á–∞—è** –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ **–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏**.  
üöÄ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –º–µ–º–æ–∏–∑–∞—Ü–∏—è, —Ö–≤–æ—Å—Ç–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è, –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.  

**–ü—Ä–∏–º–µ—Ä —Ö–≤–æ—Å—Ç–æ–≤–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏ (ES6):**
```javascript
function factorialTail(n, acc = 1) {
  if (n === 1) return acc;
  return factorialTail(n - 1, n * acc); // –•–≤–æ—Å—Ç–æ–≤–æ–π –≤—ã–∑–æ–≤ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–≤–∏–∂–∫–∞—Ö)
}
```

##### this
https://doka.guide/js/function-context/
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this
https://learn.javascript.ru/object-methods
https://habr.com/ru/companies/ruvds/articles/419371/
https://docs.google.com/presentation/d/1LDJMSHmTkrYYdXQCinUIAQ9BMV2jIrctHhMfGSJDlXQ/edit?slide=id.g23ce763670e_0_2#slide=id.g23ce763670e_0_2


##### event loop
https://habr.com/ru/articles/762618/
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Execution_model
https://habr.com/ru/companies/otus/articles/801249/
https://www.youtube.com/watch?v=eiC58R16hb8

##### –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤
https://learn.javascript.ru/array-methods
https://habr.com/ru/companies/plarium/articles/483958/
https://doka.guide/js/arrays/
##### **–ü—Ä–æ–º–∏—Å—ã (Promises) –≤ JavaScript**
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
https://doka.guide/js/promise/
https://learn.javascript.ru/promise-basics
–ü—Ä–æ–º–∏—Å—ã ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É, —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞, —Ç–∞–π–º–µ—Ä–∞). –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —É–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º, –∏–∑–±–µ–≥–∞—è "–∞–¥–∞ –∫–æ–ª–±—ç–∫–æ–≤" (callback hell).

---

###### **1. –°–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞**
–£ –ø—Ä–æ–º–∏—Å–∞ –µ—Å—Ç—å 3 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è:
1. **`pending`** (–æ–∂–∏–¥–∞–Ω–∏–µ) ‚Äî –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
2. **`fulfilled`** (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ) ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
3. **`rejected`** (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ) ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π.

```javascript
const promise = new Promise((resolve, reject) => {
    if (/* —É—Å–ø–µ—Ö */) {
        resolve("–£—Å–ø–µ—Ö!"); // –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ fulfilled
    } else {
        reject("–û—à–∏–±–∫–∞!"); // –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ rejected
    }
});
```

---

###### **2. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
###### **`.then()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
```javascript
promise.then(
    (result) => console.log(result), // —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ resolve
    (error) => console.error(error)  // —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ reject (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
);
```
###### **`.catch()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
```javascript
promise
    .then((result) => console.log(result))
    .catch((error) => console.error(error)); // –ª–æ–≤–∏—Ç reject –∏ –æ—à–∏–±–∫–∏ –≤ then
```
###### **`.finally()` ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ**
```javascript
promise
    .then((result) => console.log(result))
    .catch((error) => console.error(error))
    .finally(() => console.log("–ó–∞–≤–µ—Ä—à–µ–Ω–æ!"));
```

---

###### **3. –¶–µ–ø–æ—á–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤**
–ü–æ–∑–≤–æ–ª—è—é—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```javascript
fetch("https://api.example.com/data")
    .then((response) => response.json())
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
```
- –ï—Å–ª–∏ –≤ –ª—é–±–æ–º `then` –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –æ—à–∏–±–∫–∞ –∏–ª–∏ `reject`, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–π–¥—ë—Ç –∫ –±–ª–∏–∂–∞–π—à–µ–º—É `catch`.

---

###### **4. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã**
###### **`Promise.resolve()` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —É—Å–ø–µ—à–Ω—ã–π –ø—Ä–æ–º–∏—Å**
```javascript
Promise.resolve(42).then((val) => console.log(val)); // 42
```
###### **`Promise.reject()` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å**
```javascript
Promise.reject("Error").catch((err) => console.log(err)); // Error
```
###### **`Promise.all()` ‚Äî –∂–¥—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤**
```javascript
Promise.all([promise1, promise2, promise3])
    .then((results) => console.log(results)) // –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    .catch((error) => console.error(error)); // –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —É–ø–∞–¥—ë—Ç
```
###### **`Promise.race()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å**
```javascript
Promise.race([promise1, promise2])
    .then((result) => console.log(result)); // —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–∏–≤—à–µ–≥–æ—Å—è
```

---

###### **5. Async/Await ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è –ø—Ä–æ–º–∏—Å–æ–≤**
- **`async`** –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π (–æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å).
- **`await`** –∂–¥—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ `async`).

```javascript
async function fetchData() {
    try {
        const response = await fetch("https://api.example.com/data");
        const data = await response.json();
        console.log(data);
    } catch (error) {
        console.error(error);
    }
}
fetchData();
```

---

###### **6. –ü—Ä–∏–º–µ—Ä—ã**
###### **–ü—Ä–∏–º–µ—Ä 1: –¢–∞–π–º–µ—Ä —Å –ø—Ä–æ–º–∏—Å–æ–º**
```javascript
function delay(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
}

delay(2000).then(() => console.log("–ü—Ä–æ—à–ª–æ 2 —Å–µ–∫—É–Ω–¥—ã!"));
```
###### **–ü—Ä–∏–º–µ—Ä 2: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å `fetch`**
```javascript
fetch("https://jsonplaceholder.typicode.com/todos/1")
    .then((response) => response.json())
    .then((data) => console.log(data))
    .catch((error) => console.error("–û—à–∏–±–∫–∞:", error));
```

---

###### **7. –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –ø—Ä–æ–º–∏—Å—ã?**
- –ò–∑–±–µ–≥–∞—é—Ç **callback hell** (–≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤).
- –£–ø—Ä–æ—â–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `.catch()`.
- –ü–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –ª–∏–Ω–µ–π–Ω—ã–π –∫–æ–¥ —Å `async/await`.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç **—Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤** (`then().then().catch()`).

---

###### **–í—ã–≤–æ–¥**
–ü—Ä–æ–º–∏—Å—ã ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é –≤ JavaScript. –û–Ω–∏ –¥–µ–ª–∞—é—Ç –∫–æ–¥ —á–∏—â–µ –∏ —É–¥–æ–±–Ω–µ–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å `async/await`. üöÄ
##### —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã Promise
https://learn.javascript.ru/promise-api

###### Promise API

–í –∫–ª–∞—Å—Å–µ `Promise` –µ—Å—Ç—å 6 —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤. –î–∞–≤–∞–π—Ç–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –Ω–∏–º–∏.

###### Promise.all

–î–æ–ø—É—Å—Ç–∏–º, –Ω–∞–º –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–º–∏—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –¥–æ–∂–¥–∞—Ç—å—Å—è, –ø–æ–∫–∞ –≤—Å–µ –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ–≥–¥–∞ –æ–Ω –≥–æ—Ç–æ–≤.

–î–ª—è —ç—Ç–æ–≥–æ –∫–∞–∫ —Ä–∞–∑ –∏ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è `Promise.all`.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```js
let promise = Promise.all(iterable);
```

–ú–µ—Ç–æ–¥ `Promise.all` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤ (–º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–±–æ–π –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –Ω–æ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∞—Å—Å–∏–≤) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å.

–ù–æ–≤—ã–π –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –≤–µ—Å—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–º–∏—Å–æ–≤, –∏ –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç –º–∞—Å—Å–∏–≤ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

–ù–∞–ø—Ä–∏–º–µ—Ä, `Promise.all`, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∏–∂–µ, –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Å–ø—É—Å—Ç—è 3 —Å–µ–∫—É–Ω–¥—ã, –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç –º–∞—Å—Å–∏–≤ `[1, 2, 3]`:

```js run
Promise.all([
  new Promise(resolve => setTimeout(() => resolve(1), 3000)), // 1
  new Promise(resolve => setTimeout(() => resolve(2), 2000)), // 2
  new Promise(resolve => setTimeout(() => resolve(3), 1000))  // 3
]).then(alert); // –∫–æ–≥–¥–∞ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç 1,2,3
// –∫–∞–∂–¥—ã–π –ø—Ä–æ–º–∏—Å –¥–∞—ë—Ç —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—è–¥–∫—É –∏—Å—Ö–æ–¥–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤. –î–∞–∂–µ –µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–º–∏—Å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª—å—à–µ –≤—Å–µ—Ö, –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–º –≤ –º–∞—Å—Å–∏–≤–µ.

–ß–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π —Ç—Ä—é–∫ - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ map-—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞—Å—Ç –∑–∞–¥–∞—á—É-–ø—Ä–æ–º–∏—Å, –∏ –∑–∞—Ç–µ–º –æ–±–µ—Ä–Ω—É—Ç—å –ø–æ–ª—É—á–∏–≤—à–∏–π—Å—è –º–∞—Å—Å–∏–≤ –≤ `Promise.all`.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫, —Ç–æ –º—ã –º–æ–∂–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Ö –≤–æ—Ç —Ç–∞–∫:

```js run
let urls = [
  'https://api.github.com/users/iliakan',
  'https://api.github.com/users/remy',
  'https://api.github.com/users/jeresig'
];

// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∫–∞–∂–¥—ã–π URL –≤ –ø—Ä–æ–º–∏—Å, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π fetch
let requests = urls.map(url => fetch(url));

// Promise.all –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤
Promise.all(requests)
  .then(responses => responses.forEach(
    response => alert(`${response.url}: ${response.status}`)
  ));
```

–ê –≤–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–±–æ–ª—å—à–µ, —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö GitHub –ø–æ –∏—Ö –ª–æ–≥–∏–Ω–∞–º –∏–∑ –º–∞—Å—Å–∏–≤–∞ (–º—ã –º–æ–≥–ª–∏ –±—ã –ø–æ–ª—É—á–∞—Ç—å –º–∞—Å—Å–∏–≤ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º, –ª–æ–≥–∏–∫–∞ —Ç–∞ –∂–µ):

```js run
let names = ['iliakan', 'remy', 'jeresig'];

let requests = names.map(name => fetch(`https://api.github.com/users/${name}`));

Promise.all(requests)
  .then(responses => {
    // –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω—ã
    for(let response of responses) {
      alert(`${response.url}: ${response.status}`); // –ø–æ–∫–∞–∂–µ—Ç 200 –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Å—ã–ª–∫–∏
    }

    return responses;
  })
  // –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ –æ—Ç–≤–µ—Ç–æ–≤ response –≤ response.json(),
  // —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∂–¥–æ–≥–æ
  .then(responses => Promise.all(responses.map(r => r.json())))
  // –≤—Å–µ JSON-–æ—Ç–≤–µ—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, users - –º–∞—Å—Å–∏–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
  .then(users => users.forEach(user => alert(user.name)));
```

**–ï—Å–ª–∏ –ª—é–±–æ–π –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, —Ç–æ –ø—Ä–æ–º–∏—Å, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π `Promise.all`, –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å —ç—Ç–æ–π –æ—à–∏–±–∫–æ–π.**

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
Promise.all([
  new Promise((resolve, reject) => setTimeout(() => resolve(1), 1000)),
*!*
  new Promise((resolve, reject) => setTimeout(() => reject(new Error("–û—à–∏–±–∫–∞!")), 2000)),
*/!*
  new Promise((resolve, reject) => setTimeout(() => resolve(3), 3000))
]).catch(alert); // Error: –û—à–∏–±–∫–∞!
```

–ó–¥–µ—Å—å –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã. –≠—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –æ—à–∏–±–∫–µ –≤ `Promise.all`, —Ç–∞–∫ —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è `.catch`: –æ—à–∏–±–∫–∞ —ç—Ç–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π –≤—Å–µ–≥–æ `Promise.all`.

```warn header="–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è"
–ï—Å–ª–∏ –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, —Ç–æ –≤–µ—Å—å `Promise.all` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –Ω–µ–π, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–±—ã–≤–∞—è –ø—Ä–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã –≤ —Å–ø–∏—Å–∫–µ. –ò—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Å–¥–µ–ª–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—ã–∑–æ–≤–æ–≤ `fetch`, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ, –∏ –æ–¥–∏–Ω –Ω–µ –ø—Ä–æ—à—ë–ª, —Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±—É–¥—É—Ç –≤—Å—ë –µ—â—ë –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è, –Ω–æ `Promise.all` –∑–∞ –Ω–∏–º–∏ —É–∂–µ –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –æ–Ω–∏ —Ç–∞–∫ –∏–ª–∏ –∏–Ω–∞—á–µ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è, –Ω–æ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã.

`Promise.all` –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç –¥–ª—è –∏—Ö –æ—Ç–º–µ–Ω—ã, —Ç–∞–∫ –∫–∞–∫ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö –≤–æ–æ–±—â–µ –Ω–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ "–æ—Ç–º–µ–Ω—ã". –í –≥–ª–∞–≤–µ <info:fetch-abort> –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º `AbortController`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç —Å —ç—Ç–∏–º, –Ω–æ –æ–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é Promise API.
```

````smart header="`Promise.all(iterable)` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–µ-–ø—Ä–æ–º–∏—Å—ã –≤ `iterable` (–ø–µ—Ä–µ–±–∏—Ä–∞–µ–º–æ–º –æ–±—ä–µ–∫—Ç–µ)"
–û–±—ã—á–Ω–æ, `Promise.all(...)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–æ–º–∏—Å–æ–≤ (—á–∞—â–µ –≤—Å–µ–≥–æ –º–∞—Å—Å–∏–≤). –ù–æ –µ—Å–ª–∏ –ª—é–±–æ–π –∏–∑ —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–º–∏—Å–æ–º, –æ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∏—Ç–æ–≥–æ–≤—ã–π –º–∞—Å—Å–∏–≤ "–∫–∞–∫ –µ—Å—Ç—å".

–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `[1, 2, 3]`

```js run
Promise.all([
  new Promise((resolve, reject) => {
    setTimeout(() => resolve(1), 1000)
  }),
  2,
  3  
]).then(alert); // 1, 2, 3
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø—Ä–æ–º–∏—Å–∞–º–∏, –≤ `Promise.all`, –∏–Ω–æ–≥–¥–∞ —ç—Ç–æ –±—ã–≤–∞–µ—Ç —É–¥–æ–±–Ω–æ.

###### Promise.allSettled


–°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```js
let promise = Promise.allSettled(iterable);
```

`Promise.all` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –æ–Ω–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤ –ª—é–±–æ–º –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤. –≠—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–∏—Ç—É–∞—Ü–∏–π "–≤—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ", –∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω—ã *–≤—Å–µ* —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è:

```js
Promise.all([
  fetch('/template.html'),
  fetch('/style.css'),
  fetch('/data.json')
]).then(render); // –º–µ—Ç–æ–¥—É render –Ω—É–∂–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö fetch
```

–ú–µ—Ç–æ–¥ `Promise.allSettled` –≤—Å–µ–≥–¥–∞ –∂–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤. –í –º–∞—Å—Å–∏–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—É–¥–µ—Ç

- `{status:"fulfilled", value:—Ä–µ–∑—É–ª—å—Ç–∞—Ç}` –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π,
- `{status:"rejected", reason:–æ—à–∏–±–∫–∞}` –¥–ª—è –æ—à–∏–±–æ–∫.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –î–∞–∂–µ –µ—Å–ª–∏ –≤ –∫–∞–∫–æ–º-—Ç–æ –∑–∞–ø—Ä–æ—Å–µ –æ—à–∏–±–∫–∞, –Ω–∞—Å –≤—Å—ë —Ä–∞–≤–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ.

–ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —ç—Ç–æ–≥–æ `Promise.allSettled`:

```js run
let urls = [
  'https://api.github.com/users/iliakan',
  'https://api.github.com/users/remy',
  'https://no-such-url'
];

Promise.allSettled(urls.map(url => fetch(url)))
  .then(results => { // (*)
    results.forEach((result, num) => {
      if (result.status == "fulfilled") {
        alert(`${urls[num]}: ${result.value.status}`);
      }
      if (result.status == "rejected") {
        alert(`${urls[num]}: ${result.reason}`);
      }
    });
  });
```

–ú–∞—Å—Å–∏–≤ `results` –≤ —Å—Ç—Ä–æ–∫–µ `(*)` –±—É–¥–µ—Ç —Ç–∞–∫–∏–º:
```js
[
  {status: 'fulfilled', value: ...–æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞...},
  {status: 'fulfilled', value: ...–æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞...},
  {status: 'rejected', reason: ...–æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏...}
]
```

–¢–æ –µ—Å—Ç—å, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞ —É –Ω–∞—Å –µ—Å—Ç—å –µ–≥–æ —Å—Ç–∞—Ç—É—Å –∏ –∑–Ω–∞—á–µ–Ω–∏–µ/–æ—à–∏–±–∫–∞.

###### –ü–æ–ª–∏—Ñ–∏–ª

–ï—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `Promise.allSettled`, –¥–ª—è –Ω–µ–≥–æ –ª–µ–≥–∫–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–∏—Ñ–∏–ª:

```js
if(!Promise.allSettled) {
  Promise.allSettled = function(promises) {
    return Promise.all(promises.map(p => Promise.resolve(p).then(value => ({
      status: 'fulfilled',
      value: value
    }), error => ({
      status: 'rejected',
      reason: error
    }))));
  };
}
```

–í —ç—Ç–æ–º –∫–æ–¥–µ `promises.map` –±–µ—Ä—ë—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∏—Ö –≤ –ø—Ä–æ–º–∏—Å—ã (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π) –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–∞–∂–¥–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `.then`.

–≠—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç `value` –≤ `{state:'fulfilled', value: value}`, –∞ –æ—à–∏–±–∫—É `error` –≤ `{state:'rejected', reason: error}`. –≠—Ç–æ –∫–∞–∫ —Ä–∞–∑ –∏ –µ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ `Promise.allSettled`.

–ó–∞—Ç–µ–º –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Promise.allSettled`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã *–≤—Å–µ—Ö* –ø—Ä–æ–º–∏—Å–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞.

###### Promise.race

–ú–µ—Ç–æ–¥ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ `Promise.all`, –Ω–æ –∂–¥—ë—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π *–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π* –ø—Ä–æ–º–∏—Å, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –±–µ—Ä—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∏–ª–∏ –æ—à–∏–±–∫—É).

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```js
let promise = Promise.race(iterable);
```

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç—É—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç `1`:

```js run
Promise.race([
  new Promise((resolve, reject) => setTimeout(() => resolve(1), 1000)),
  new Promise((resolve, reject) => setTimeout(() => reject(new Error("–û—à–∏–±–∫–∞!")), 2000)),
  new Promise((resolve, reject) => setTimeout(() => resolve(3), 3000))
]).then(alert); // 1
```

–ë—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –ø–µ—Ä–≤—ã–π –ø—Ä–æ–º–∏—Å, –æ–Ω –∏ –¥–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

###### Promise.any

–ú–µ—Ç–æ–¥ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ `Promise.race`, –Ω–æ –∂–¥—ë—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π *—É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π* –ø—Ä–æ–º–∏—Å, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –±–µ—Ä—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç. 

–ï—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, —Ç–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç Promise –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω—ë–Ω —Å –ø–æ–º–æ—â—å—é `AggregateError` ‚Äì —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤ –≤ —Å–≤–æ—ë–º —Å–≤–æ–π—Å—Ç–≤–µ `errors`.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```js
let promise = Promise.any(iterable);
```

–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç `1`:

```js run
Promise.any([
  new Promise((resolve, reject) => setTimeout(() => reject(new Error("–û—à–∏–±–∫–∞!")), 1000)),
  new Promise((resolve, reject) => setTimeout(() => resolve(1), 2000)),
  new Promise((resolve, reject) => setTimeout(() => resolve(3), 3000))
]).then(alert); // 1
```

–ü–µ—Ä–≤—ã–π –ø—Ä–æ–º–∏—Å –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –±—ã–ª —Å–∞–º—ã–º –±—ã—Å—Ç—Ä—ã–º, –Ω–æ –æ–Ω –±—ã–ª –æ—Ç–∫–ª–æ–Ω—ë–Ω, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å—Ç–∞–ª –≤—Ç–æ—Ä–æ–π. –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å "–≤—ã–∏–≥—Ä–∞–µ—Ç –≥–æ–Ω–∫—É", –≤—Å–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è:

```js run
Promise.any([
  new Promise((resolve, reject) => setTimeout(() => reject(new Error("–û—à–∏–±–∫–∞!")), 1000)),
  new Promise((resolve, reject) => setTimeout(() => reject(new Error("–ï—â—ë –æ–¥–Ω–∞ –æ—à–∏–±–∫–∞!")), 2000))
]).catch(error => {
  console.log(error.constructor.name); // AggregateError
  console.log(error.errors[0]); // Error: –û—à–∏–±–∫–∞!
  console.log(error.errors[1]); // Error: –ï—â—ë –æ–¥–Ω–∞ –æ—à–∏–±–∫–∞!
});
```

–ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, –æ–±—ä–µ–∫—Ç—ã –æ—à–∏–±–æ–∫ –¥–ª—è –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–≤–æ–π—Å—Ç–≤–µ `errors` –æ–±—ä–µ–∫—Ç–∞ `AggregateError`.

###### Promise.resolve/reject

–ú–µ—Ç–æ–¥—ã `Promise.resolve` –∏ `Promise.reject` —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∫–æ–¥–µ, —Ç–∞–∫ –∫–∞–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `async/await` (–º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ–≥–æ [—á—É—Ç—å –ø–æ–∑–∂–µ](info:async-await)) –¥–µ–ª–∞–µ—Ç –∏—Ö, –≤ –æ–±—â–µ–º-—Ç–æ, –Ω–µ –Ω—É–∂–Ω—ã–º–∏.

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö –∑–¥–µ—Å—å –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã –∫–∞—Ä—Ç–∏–Ω—ã, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –ø–æ –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `async/await`.

###### Promise.resolve

- `Promise.resolve(value)` —Å–æ–∑–¥–∞—ë—Ç —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `value`.

–¢–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ:

```js
let promise = new Promise(resolve => resolve(value));
```

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏: –∫–æ–≥–¥–∞ –æ–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–º–∏—Å.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ—É–Ω–∫—Ü–∏—è `loadCached` –Ω–∏–∂–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç URL –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç (–∫–µ—à–∏—Ä—É–µ—Ç) –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –ü—Ä–∏ –±—É–¥—É—â–∏—Ö –≤—ã–∑–æ–≤–∞—Ö —Å —Ç–µ–º –∂–µ URL –æ–Ω —Ç—É—Ç –∂–µ —á–∏—Ç–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ –∫–µ—à–∞, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Promise.resolve`, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∏–∑ –Ω–µ–≥–æ –ø—Ä–æ–º–∏—Å, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ –ø—Ä–æ–º–∏—Å–æ–º:

```js
let cache = new Map();

function loadCached(url) {
  if (cache.has(url)) {
*!*
    return Promise.resolve(cache.get(url)); // (*)
*/!*
  }

  return fetch(url)
    .then(response => response.text())
    .then(text => {
      cache.set(url,text);
      return text;
    });
}
```

–ú—ã –º–æ–∂–µ–º –ø–∏—Å–∞—Ç—å `loadCached(url).then(‚Ä¶)`, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `loadCached` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å. –ú—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.then` –ø–æ—Å–ª–µ `loadCached`. –≠—Ç–æ –∏ –µ—Å—Ç—å —Ü–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Promise.resolve` –≤ —Å—Ç—Ä–æ–∫–µ `(*)`.

###### Promise.reject

- `Promise.reject(error)` —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–º–∏—Å, –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π —Å –æ—à–∏–±–∫–æ–π `error`.

–¢–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ:

```js
let promise = new Promise((resolve, reject) => reject(error));
```

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

###### –ò—Ç–æ–≥–æ

–ú—ã –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å —à–µ—Å—Ç—å—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –∫–ª–∞—Å—Å–∞ `Promise`:

1. `Promise.all(promises)` -- –æ–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏. –ï—Å–ª–∏ –ª—é–±–æ–π –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É, —Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ä–∞–±–æ—Ç—ã `Promise.all` –±—É–¥–µ—Ç —ç—Ç–∞ –æ—à–∏–±–∫–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –±—É–¥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.
2. `Promise.allSettled(promises)` (–¥–æ–±–∞–≤–ª–µ–Ω –Ω–µ–¥–∞–≤–Ω–æ) -- –∂–¥—ë—Ç, –ø–æ–∫–∞ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, —É –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞:
    - `status`: `"fulfilled"`, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ `"rejected"`, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞,
    - `value` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ `reason` - –æ—à–∏–±–∫–∞, –µ—Å–ª–∏ –Ω–µ—Ç.
3. `Promise.race(promises)` -- –æ–∂–∏–¥–∞–µ—Ç –ø–µ—Ä–≤—ã–π *–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π* –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
4. `Promise.any(promises)` (–¥–æ–±–∞–≤–ª–µ–Ω –Ω–µ–¥–∞–≤–Ω–æ) -- –æ–∂–∏–¥–∞–µ—Ç –ø–µ—Ä–≤—ã–π *—É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π* –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è. –ï—Å–ª–∏ –≤—Å–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã, [`AggregateError`](mdn:js/AggregateError) —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π `Promise.any`.
5. `Promise.resolve(value)` -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–≤—à–∏–π—Å—è –ø—Ä–æ–º–∏—Å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `value`.
6. `Promise.reject(error)` -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å —Å –æ—à–∏–±–∫–æ–π `error`.


##### Fetch: –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞

https://developer.mozilla.org/en-US/docs/Web/API/AbortController
https://habr.com/ru/articles/731644/
https://doka.guide/js/abort-controller/

–ö–∞–∫ –º—ã –∑–Ω–∞–µ–º, –º–µ—Ç–æ–¥ `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å. –ê –≤ JavaScript –≤ —Ü–µ–ª–æ–º –Ω–µ—Ç –ø–æ–Ω—è—Ç–∏—è "–æ—Ç–º–µ–Ω—ã" –ø—Ä–æ–º–∏—Å–∞. –ö–∞–∫ –∂–µ –ø—Ä–µ—Ä–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å `fetch`?

–î–ª—è —Ç–∞–∫–∏—Ö —Ü–µ–ª–µ–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç: `AbortController`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–º–µ–Ω—ã –Ω–µ —Ç–æ–ª—å–∫–æ `fetch`, –Ω–æ –∏ –¥—Ä—É–≥–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ:

- –®–∞–≥ 1: —Å–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:

    ```js
    let controller = new AbortController();
    ```

    –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `controller` - —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç.

    - –û–Ω –∏–º–µ–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `abort()` –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `signal`.
    - –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `abort()`:
        - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ —Å –∏–º–µ–Ω–µ–º `abort` –Ω–∞ –æ–±—ä–µ–∫—Ç–µ `controller.signal`
        - —Å–≤–æ–π—Å—Ç–≤–æ `controller.signal.aborted` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–≤–Ω—ã–º `true`.

    –í—Å–µ, –∫—Ç–æ —Ö–æ—á–µ—Ç —É–∑–Ω–∞—Ç—å –æ –≤—ã–∑–æ–≤–µ `abort()`, —Å—Ç–∞–≤—è—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ `controller.signal`, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –µ–≥–æ.

    –í–æ—Ç —Ç–∞–∫ (–ø–æ–∫–∞ –±–µ–∑ `fetch`):

    ```js run
    let controller = new AbortController();
    let signal = controller.signal;

    // —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ controller.abort()
    signal.addEventListener('abort', () => alert("–æ—Ç–º–µ–Ω–∞!"));

    controller.abort(); // –æ—Ç–º–µ–Ω–∞!

    alert(signal.aborted); // true
    ```

- –®–∞–≥ 2: –ø–µ—Ä–µ–¥–∞–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–æ `signal` –æ–ø—Ü–∏–µ–π –≤ –º–µ—Ç–æ–¥ `fetch`:

    ```js
    let controller = new AbortController();
    fetch(url, {
      signal: controller.signal
    });
    ```

    –ú–µ—Ç–æ–¥ `fetch` —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å `AbortController`, –æ–Ω —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `abort` –Ω–∞ `signal`.

- –®–∞–≥ 3: —á—Ç–æ–±—ã –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `fetch`, –≤—ã–∑–æ–≤–∏—Ç–µ `controller.abort()`:

    ```js
    controller.abort();
    ```

    –í–æ—Ç –∏ –≤—Å—ë: `fetch` –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –∏–∑ `signal` –∏ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å.

–ö–æ–≥–¥–∞ `fetch` –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è, –µ–≥–æ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π `AbortError`, –ø–æ—ç—Ç–æ–º—É –º—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `try..catch`:

```js run async
// –ø—Ä–µ—Ä–≤–∞—Ç—å —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
let controller = new AbortController();
setTimeout(() => controller.abort(), 1000);

try {
  let response = await fetch('/article/fetch-abort/demo/hang', {
    signal: controller.signal
  });
} catch(err) {
  if (err.name == 'AbortError') { // –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –æ—Ç –≤—ã–∑–æ–≤–∞ abort()
    alert("–ü—Ä–µ—Ä–≤–∞–Ω–æ!");
  } else {
    throw err;
  }
}
```

**`AbortController` - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π, –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—ã–∑–æ–≤–æ–≤ `fetch` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.**

–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –º—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –º–Ω–æ–≥–æ URL –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –∏—Ö –≤—Å–µ:

```js
let urls = [...]; // —Å–ø–∏—Å–æ–∫ URL –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö fetch

let controller = new AbortController();

let fetchJobs = urls.map(url => fetch(url, {
  signal: controller.signal
}));

let results = await Promise.all(fetchJobs);

// –µ—Å–ª–∏ –æ—Ç–∫—É–¥–∞-—Ç–æ –≤—ã–∑–≤–∞—Ç—å controller.abort(),
// —Ç–æ —ç—Ç–æ –ø—Ä–µ—Ä–≤—ë—Ç –≤—Å–µ –≤—ã–∑–æ–≤—ã fetch
```

–ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏, –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç `fetch`, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω `AbortController` –¥–ª—è –∏—Ö –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–º–µ—Å—Ç–µ —Å `fetch`.

–ù—É–∂–Ω–æ –ª–∏—à—å —Å–ª—É—à–∞—Ç—å –µ–≥–æ —Å–æ–±—ã—Ç–∏–µ `abort`:

```js
let urls = [...];
let controller = new AbortController();

let ourJob = new Promise((resolve, reject) => { // –Ω–∞—à–∞ –∑–∞–¥–∞—á–∞
  ...
  controller.signal.addEventListener('abort', reject);
});

let fetchJobs = urls.map(url => fetch(url, { // –∑–∞–ø—Ä–æ—Å—ã fetch
  signal: controller.signal
}));

// –æ–∂–∏–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏ –∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
let results = await Promise.all([...fetchJobs, ourJob]);

// –≤—ã–∑–æ–≤ –æ—Ç–∫—É–¥–∞-–Ω–∏–±—É–¥—å –µ—â—ë:
// controller.abort() –ø—Ä–µ—Ä–≤—ë—Ç –≤—Å–µ –≤—ã–∑–æ–≤—ã fetch –∏ –Ω–∞—à–∏ –∑–∞–¥–∞—á–∏
```

–¢–∞–∫ —á—Ç–æ `AbortController` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è `fetch`, —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –æ—Ç–º–µ–Ω—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, –≤ `fetch` –≤—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∏–º.


##### –ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –º—ã —á–∞—Å—Ç–æ —Ö–æ—Ç–∏–º –≤–∑—è—Ç—å —á—Ç–æ-—Ç–æ –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å.

–ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç `user` —Å–æ —Å–≤–æ–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏, –∏ –º—ã —Ö–æ—Ç–∏–º —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã `admin` –∏ `guest` –∫–∞–∫ –µ–≥–æ —Å–ª–µ–≥–∫–∞ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã. –ú—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ, —á—Ç–æ –µ—Å—Ç—å —É –æ–±—ä–µ–∫—Ç–∞ `user`, –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –µ–≥–æ –º–µ—Ç–æ–¥—ã, –∞ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ.

*–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ* ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —è–∑—ã–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –≤ —ç—Ç–æ–º.

###### [[Prototype]]

–í JavaScript –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–∫—Ä—ã—Ç–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `[[Prototype]]` (—Ç–∞–∫ –æ–Ω–æ –Ω–∞–∑–≤–∞–Ω–æ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏), –∫–æ—Ç–æ—Ä–æ–µ –ª–∏–±–æ —Ä–∞–≤–Ω–æ `null`, –ª–∏–±–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ø—Ä–æ—Ç–æ—Ç–∏–ø":

![prototype](object-prototype-empty.svg)

–ü—Ä–æ—Ç–æ—Ç–∏–ø –¥–∞—ë—Ç –Ω–∞–º –Ω–µ–º–Ω–æ–≥–æ "–º–∞–≥–∏–∏". –ö–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –∏–∑ `object`, –∞ –æ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, JavaScript –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ—Ä—ë—Ç –µ–≥–æ –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞. –í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–∞–∫–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º". –ú–Ω–æ–≥–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞ –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å–Ω–æ–≤—ã–≤–∞—é—Ç—Å—è –Ω–∞ –Ω—ë–º.

–°–≤–æ–π—Å—Ç–≤–æ `[[Prototype]]` —è–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∏ —Å–∫—Ä—ã—Ç—ã–º, –Ω–æ –µ—Å—Ç—å –º–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–¥–∞—Ç—å –µ–≥–æ.

–û–¥–Ω–∏–º –∏–∑ –Ω–∏—Ö —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `__proto__`, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫:

```js
let animal = {
  eats: true
};

let rabbit = {
  jumps: true
};

*!*
rabbit.__proto__ = animal;
*/!*
```

–ï—Å–ª–∏ –º—ã –∏—â–µ–º —Å–≤–æ–π—Å—Ç–≤–æ –≤ `rabbit`, –∞ –æ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, JavaScript –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ—Ä—ë—Ç –µ–≥–æ –∏–∑ `animal`.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
let animal = {
  eats: true
};

let rabbit = {
  jumps: true
};

*!*
rabbit.__proto__ = animal; // (*)
*/!*

// —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –æ–±–∞ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ rabbit:
*!*
alert( rabbit.eats ); // true (**)
*/!*
alert( rabbit.jumps ); // true
```

–ó–¥–µ—Å—å —Å—Ç—Ä–æ–∫–∞ `(*)` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `animal` –∫–∞–∫ –ø—Ä–æ—Ç–æ—Ç–∏–ø –¥–ª—è `rabbit`.

–ó–∞—Ç–µ–º, –∫–æ–≥–¥–∞ `alert` –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `rabbit.eats` `(**)`, –µ–≥–æ –Ω–µ—Ç –≤ `rabbit`, –ø–æ—ç—Ç–æ–º—É JavaScript —Å–ª–µ–¥—É–µ—Ç –ø–æ —Å—Å—ã–ª–∫–µ `[[Prototype]]` –∏ –Ω–∞—Ö–æ–¥–∏—Ç –µ–≥–æ –≤ `animal` (—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö):

![](proto-animal-rabbit.svg)

–ó–¥–µ—Å—å –º—ã –º–æ–∂–µ–º —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ "`animal` —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º `rabbit`" –∏–ª–∏ "`rabbit` –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç `animal`".

–¢–∞–∫ —á—Ç–æ –µ—Å–ª–∏ —É `animal` –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∏ –º–µ—Ç–æ–¥–æ–≤, —Ç–æ –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —É `rabbit`. –¢–∞–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è "—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–º–∏".

–ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –º–µ—Ç–æ–¥ –≤ `animal`, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –Ω–∞ `rabbit`:

```js run
let animal = {
  eats: true,
*!*
  walk() {
    alert("Animal walk");
  }
*/!*
};

let rabbit = {
  jumps: true,
  __proto__: animal
};

// walk –≤–∑—è—Ç –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞
*!*
rabbit.walk(); // Animal walk
*/!*
```

–ú–µ—Ç–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞:

![](proto-animal-rabbit-walk.svg)

–¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–ª–∏–Ω–Ω–µ–µ:

```js run
let animal = {
  eats: true,
  walk() {
    alert("Animal walk");
  }
};

let rabbit = {
  jumps: true,
*!*
  __proto__: animal
*/!*
};

let longEar = {
  earLength: 10,
*!*
  __proto__: rabbit
*/!*
};

// walk –≤–∑—è—Ç –∏–∑ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
longEar.walk(); // Animal walk
alert(longEar.jumps); // true (–∏–∑ rabbit)
```

![](proto-animal-rabbit-chain.svg)

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –º—ã –ø—Ä–æ—á—Ç—ë–º —á—Ç–æ-–Ω–∏–±—É–¥—å –∏–∑ `longEar`, –∏ –æ–Ω–æ –±—É–¥–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å, JavaScript –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –µ–≥–æ –≤ `rabbit`, –∞ –∑–∞—Ç–µ–º –≤ `animal`.

–ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

1. –°—Å—ã–ª–∫–∏ –Ω–µ –º–æ–≥—É—Ç –∏–¥—Ç–∏ –ø–æ –∫—Ä—É–≥—É. JavaScript –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–∑–Ω–∞—á–∏—Ç—å `__proto__` –ø–æ –∫—Ä—É–≥—É.
2. –ó–Ω–∞—á–µ–Ω–∏–µ `__proto__` –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º –∏–ª–∏ `null`. –î—Ä—É–≥–∏–µ —Ç–∏–ø—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

–≠—Ç–æ –≤–ø–æ–ª–Ω–µ –æ—á–µ–≤–∏–¥–Ω–æ, –Ω–æ –≤—Å—ë –∂–µ: –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω `[[Prototype]]`. –û–±—ä–µ–∫—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

```smart header="–°–≤–æ–π—Å—Ç–≤–æ `__proto__` ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω—ã–π –≥–µ—Ç—Ç–µ—Ä/—Å–µ—Ç—Ç–µ—Ä –¥–ª—è `[[Prototype]]`"
–≠—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ - –Ω–µ –∑–Ω–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –¥–≤—É–º—è –ø–æ–Ω—è—Ç–∏—è–º–∏.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `__proto__` ‚Äî *–Ω–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ*, —á—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–≤–æ–π—Å—Ç–≤–æ `[[Prototype]]`. –≠—Ç–æ –≥–µ—Ç—Ç–µ—Ä/—Å–µ—Ç—Ç–µ—Ä –¥–ª—è `[[Prototype]]`. –ü–æ–∑–∂–µ –º—ã —É–≤–∏–¥–∏–º —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —ç—Ç–æ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –ø–æ–∫–∞ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ–º –∏–º–µ—Ç—å —ç—Ç–æ –≤ –≤–∏–¥—É, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã —Å—Ç—Ä–æ–∏–º –Ω–∞—à–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —è–∑—ã–∫–∞ JavaScript.

–°–≤–æ–π—Å—Ç–≤–æ `__proto__` –Ω–µ–º–Ω–æ–≥–æ —É—Å—Ç–∞—Ä–µ–ª–æ, –æ–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JavaScript –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ –º—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ `Object.getPrototypeOf/Object.setPrototypeOf` –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å/—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø. –ú—ã —Ç–∞–∫–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–∂–µ.

–ü–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ `__proto__` –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏, –Ω–æ –ø–æ —Ñ–∞–∫—Ç—É –≤—Å–µ —Å—Ä–µ–¥—ã, –≤–∫–ª—é—á–∞—è —Å–µ—Ä–≤–µ—Ä–Ω—É—é, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –µ–≥–æ. –¢–∞–∫ —á—Ç–æ –º—ã –≤–ø–æ–ª–Ω–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º.

–î–∞–ª–µ–µ –º—ã –±—É–¥–µ–º –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `__proto__`, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–∞–º—ã–π –∫–æ—Ä–æ—Ç–∫–∏–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —á—Ç–µ–Ω–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞.


###### –û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø

–ü—Ä–æ—Ç–æ—Ç–∏–ø –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤.

–û–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏/—É–¥–∞–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é —Å –æ–±—ä–µ–∫—Ç–æ–º.

–í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ –º—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º `rabbit` —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `walk`:

```js run
let animal = {
  eats: true,
  walk() {
    /* —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ rabbit */  
  }
};

let rabbit = {
  __proto__: animal
};

*!*
rabbit.walk = function() {
  alert("Rabbit! Bounce-bounce!");
};
*/!*

rabbit.walk(); // Rabbit! Bounce-bounce!


–¢–µ–ø–µ—Ä—å –≤—ã–∑–æ–≤ `rabbit.walk()` –Ω–∞—Ö–æ–¥–∏—Ç –º–µ—Ç–æ–¥ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –æ–±—ä–µ–∫—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ—Ç–æ—Ç–∏–ø:

![](proto-animal-rabbit-walk-2.svg)

–°–≤–æ–π—Å—Ç–≤–∞-–∞–∫—Å–µ—Å—Å–æ—Ä—ã - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ –∑–∞–ø–∏—Å—å –≤ –Ω–µ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π-—Å–µ—Ç—Ç–µ—Ä–æ–º. –¢–æ –µ—Å—Ç—å —ç—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏.

–ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ `admin.fullName` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –Ω–∏–∂–µ –∫–æ–¥–µ:

```js run
let user = {
  name: "John",
  surname: "Smith",

  set fullName(value) {
    [this.name, this.surname] = value.split(" ");
  },

  get fullName() {
    return `${this.name} ${this.surname}`;
  }
};

let admin = {
  __proto__: user,
  isAdmin: true
};

alert(admin.fullName); // John Smith (*)

// —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–µ—Ç—Ç–µ—Ä!
admin.fullName = "Alice Cooper"; // (**)
alert(admin.name); // Alice
alert(admin.surname); // Cooper
```

–ó–¥–µ—Å—å –≤ —Å—Ç—Ä–æ–∫–µ `(*)` —Å–≤–æ–π—Å—Ç–≤–æ `admin.fullName` –∏–º–µ–µ—Ç –≥–µ—Ç—Ç–µ—Ä –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ `user`, –ø–æ—ç—Ç–æ–º—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–Ω. –í —Å—Ç—Ä–æ–∫–µ `(**)` —Å–≤–æ–π—Å—Ç–≤–æ —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç —Å–µ—Ç—Ç–µ—Ä –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ, –∫–æ—Ç–æ—Ä—ã–π –∏ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω.

###### –ó–Ω–∞—á–µ–Ω–∏–µ "this"

–í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å: –∫–∞–∫–æ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ `this` –≤–Ω—É—Ç—Ä–∏ `set fullName(value)`? –ö—É–¥–∞ –∑–∞–ø–∏—Å–∞–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ `this.name` –∏ `this.surname`: –≤ `user` –∏–ª–∏ –≤ `admin`?

–û—Ç–≤–µ—Ç –ø—Ä–æ—Å—Ç: –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ `this`.

**–ù–µ–≤–∞–∂–Ω–æ, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ—Ç–æ–¥: –≤ –æ–±—ä–µ–∫—Ç–µ –∏–ª–∏ –µ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ `this` ‚Äî –≤—Å–µ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥ —Ç–æ—á–∫–æ–π.**

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—ã–∑–æ–≤ —Å–µ—Ç—Ç–µ—Ä–∞ `admin.fullName=` –≤ –∫–∞—á–µ—Å—Ç–≤–µ `this` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `admin`, –∞ –Ω–µ `user`.

–≠—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞—è –¥–µ—Ç–∞–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–æ–π –æ–±—ä–µ–∫—Ç —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –º–µ—Ç–æ–¥–æ–≤, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å. –ó–∞—Ç–µ–º –Ω–∞—Å–ª–µ–¥—É—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ –º–µ—Ç–æ–¥—ã, –Ω–æ –æ–Ω–∏ –±—É–¥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –Ω–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞-—Ä–æ–¥–∏—Ç–µ–ª—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å `animal` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π "—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ—Ç–æ–¥–æ–≤", –∏ `rabbit` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ.

–í—ã–∑–æ–≤ `rabbit.sleep()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `this.isSleeping` –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ `rabbit`:

```js run
// –º–µ—Ç–æ–¥—ã animal
let animal = {
  walk() {
    if (!this.isSleeping) {
      alert(`I walk`);
    }
  },
  sleep() {
    this.isSleeping = true;
  }
};

let rabbit = {
  name: "White Rabbit",
  __proto__: animal
};

// –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç rabbit.isSleeping
rabbit.sleep();

alert(rabbit.isSleeping); // true
alert(animal.isSleeping); // undefined (–Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ)
```

–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º:

![](proto-animal-rabbit-walk-3.svg)

–ï—Å–ª–∏ –±—ã —É –Ω–∞—Å –±—ã–ª–∏ –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `bird`, `snake` –∏ —Ç.–¥., —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç `animal`, –æ–Ω–∏ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –±—ã –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–æ–¥–∞–º `animal`. –ù–æ `this` –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—É (–ø–µ—Ä–µ–¥ —Ç–æ—á–∫–æ–π), –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤, –∞ –Ω–µ `animal`. –ü–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –º—ã –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ `this`, –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º–µ—Ç–æ–¥—ã —è–≤–ª—è—é—Ç—Å—è –æ–±—â–∏–º–∏, –∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ ‚Äî –Ω–µ—Ç.

###### –¶–∏–∫–ª for..in

–¶–∏–∫–ª `for..in` –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º, –Ω–æ –∏ –ø–æ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º –æ–±—ä–µ–∫—Ç–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
let animal = {
  eats: true
};

let rabbit = {
  jumps: true,
  __proto__: animal
};

*!*
// Object.keys –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏
alert(Object.keys(rabbit)); // jumps
*/!*

*!*
// for..in –ø—Ä–æ—Ö–æ–¥–∏—Ç –∏ –ø–æ —Å–≤–æ–∏–º, –∏ –ø–æ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–º –∫–ª—é—á–∞–º
for(let prop in rabbit) alert(prop); // jumps, –∑–∞—Ç–µ–º eats
*/!*
```

–ï—Å–ª–∏ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã, —Ç–æ –º—ã –º–æ–∂–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏—Ö –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ [obj.hasOwnProperty(key)](mdn:js/Object/hasOwnProperty): –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ —É `obj` –µ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ, –Ω–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω–æ–µ, —Å–≤–æ–π—Å—Ç–≤–æ —Å –∏–º–µ–Ω–µ–º `key`.

–ü—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

```js run
let animal = {
  eats: true
};

let rabbit = {
  jumps: true,
  __proto__: animal
};

for(let prop in rabbit) {
  let isOwn = rabbit.hasOwnProperty(prop);

  if (isOwn) {
    alert(`Our: ${prop}`); // Our: jumps
  } else {
    alert(`Inherited: ${prop}`); // Inherited: eats
  }
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ü–µ–ø–æ—á–∫–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `rabbit` –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç `animal`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç `Object.prototype` (—Ç–∞–∫ –∫–∞–∫ `animal` - –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç `{...}`, —Ç–æ —ç—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –∞ –∑–∞—Ç–µ–º `null` –Ω–∞ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É:

![](rabbit-animal-object.svg)

–ó–∞–º–µ—Ç–∏–º –µ—â—ë –æ–¥–Ω—É –¥–µ—Ç–∞–ª—å. –û—Ç–∫—É–¥–∞ –≤–∑—è–ª—Å—è –º–µ—Ç–æ–¥ `rabbit.hasOwnProperty`? –ú—ã –µ–≥–æ —è–≤–Ω–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–ª–∏. –ï—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ü–µ–ø–æ—á–∫—É –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤, —Ç–æ –≤–∏–¥–Ω–æ, —á—Ç–æ –æ–Ω –±–µ—Ä—ë—Ç—Å—è –∏–∑ `Object.prototype.hasOwnProperty`. –¢–æ –µ—Å—Ç—å –æ–Ω —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω.

...–ù–æ –ø–æ—á–µ–º—É `hasOwnProperty` –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–µ `for..in` –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `eats` –∏ `jumps`? –û–Ω –≤–µ–¥—å –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç –≤—Å–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞.

–û—Ç–≤–µ—Ç –ø—Ä–æ—Å—Ç–æ–π: –æ–Ω–æ –Ω–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏–º–æ. –¢–æ –µ—Å—Ç—å —É –Ω–µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ñ–ª–∞–≥ `enumerable` —Å—Ç–æ–∏—Ç `false`, –∫–∞–∫ –∏ —É –¥—Ä—É–≥–∏—Ö —Å–≤–æ–π—Å—Ç–≤ `Object.prototype`. –ü–æ—ç—Ç–æ–º—É –æ–Ω–æ –∏ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–µ.

```smart header="–ü–æ—á—Ç–∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–µ–π/–∑–Ω–∞—á–µ–Ω–∏–π –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞"
–ü–æ—á—Ç–∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –ø–æ–ª—É—á–∞—é—â–∏–µ –∫–ª—é—á–∏/–∑–Ω–∞—á–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ `Object.keys`, `Object.values` –∏ –¥—Ä—É–≥–∏–µ - –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞.

–û–Ω–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–∞–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –Ω–µ –µ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞.
```

###### –ò—Ç–æ–≥–æ

- –í JavaScript –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç —Å–∫—Ä—ã—Ç–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `[[Prototype]]`, –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏–±–æ –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º, –ª–∏–±–æ `null`.
- –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `obj.__proto__` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–º—É (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω—ã–π –≥–µ—Ç—Ç–µ—Ä/—Å–µ—Ç—Ç–µ—Ä, –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–æ—Ä–æ –±—É–¥—É—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã).
- –û–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞–µ—Ç—Å—è `[[Prototype]]`, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º".
- –ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `obj` –∏–ª–∏ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —É `obj`, —Ç–æ–≥–¥–∞ JavaScript –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –µ–≥–æ –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ.
- –û–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏/—É–¥–∞–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å –æ–±—ä–µ–∫—Ç–æ–º, –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø (–µ—Å–ª–∏ —ç—Ç–æ –æ–±—ã—á–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –∞ –Ω–µ —Å–µ—Ç—Ç–µ—Ä).
- –ï—Å–ª–∏ –º—ã –≤—ã–∑—ã–≤–∞–µ–º `obj.method()`, –∞ –º–µ—Ç–æ–¥ –ø—Ä–∏ —ç—Ç–æ–º –≤–∑—è—Ç –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞, —Ç–æ `this` –≤—Å—ë —Ä–∞–≤–Ω–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `obj`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–µ—Ç–æ–¥—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ç–µ–∫—É—â–∏–º –æ–±—ä–µ–∫—Ç–æ–º, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è.
- –¶–∏–∫–ª `for..in` –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –∫–∞–∫ —Å–≤–æ–∏, —Ç–∞–∫ –∏ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞. –û—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–µ–π/–∑–Ω–∞—á–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –æ–±—ä–µ–∫—Ç–∞.

##### DOM

###### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ DOM

DOM –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤**, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–∑–µ–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —á–∞—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞. –≠—Ç–∞ –º–æ–¥–µ–ª—å:

1. **–ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ —è–∑—ã–∫–∞** - —Ö–æ—Ç—è –º—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º JavaScript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, DOM —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–æ–≤
2. **–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã** - –∫–∞–∂–¥—ã–π —É–∑–µ–ª —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º —Å —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏
3. **–õ–æ–≥–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∞** - –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞

###### –¢–∏–ø—ã —É–∑–ª–æ–≤ (Node types)

–ü–æ–ª–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —É–∑–ª–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|----------|
| `Node.ELEMENT_NODE` | 1 | –≠–ª–µ–º–µ–Ω—Ç (—Ç–µ–≥) |
| `Node.ATTRIBUTE_NODE` | 2 | –ê—Ç—Ä–∏–±—É—Ç (—É—Å—Ç–∞—Ä–µ–ª–æ –≤ DOM4) |
| `Node.TEXT_NODE` | 3 | –¢–µ–∫—Å—Ç–æ–≤—ã–π —É–∑–µ–ª |
| `Node.CDATA_SECTION_NODE` | 4 | CDATA-—Å–µ–∫—Ü–∏—è |
| `Node.PROCESSING_INSTRUCTION_NODE` | 7 | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ XML |
| `Node.COMMENT_NODE` | 8 | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `Node.DOCUMENT_NODE` | 9 | –î–æ–∫—É–º–µ–Ω—Ç (–∫–æ—Ä–µ–Ω—å) |
| `Node.DOCUMENT_TYPE_NODE` | 10 | <!DOCTYPE> |
| `Node.DOCUMENT_FRAGMENT_NODE` | 11 | –§—Ä–∞–≥–º–µ–Ω—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞ |

###### –î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞

###### –§–∞–∑—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è DOM

1. **–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è**:
   - –õ–µ–∫—Å–µ—Ä —Ä–∞–∑–±–∏–≤–∞–µ—Ç HTML –Ω–∞ —Ç–æ–∫–µ–Ω—ã (—Å—Ç–∞—Ä—Ç-—Ç–µ–≥–∏, —ç–Ω–¥-—Ç–µ–≥–∏, –∞—Ç—Ä–∏–±—É—Ç—ã –∏ —Ç.–¥.)
   - –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏:
     - –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ —Ç–µ–≥–æ–≤ (`<img>`)
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ HTML
     - –£—á–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `<table>`)

2. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–µ–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
   - –ê–ª–≥–æ—Ä–∏—Ç–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∫–ª—é—á–∞–µ—Ç:
     - –ù–µ—è–≤–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ç–µ–≥–æ–≤
     - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
     - –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—â–∏—Ö —Ç–µ–≥–æ–≤

3. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ CSSOM** (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ):
   - –ö–∞—Å–∫–∞–¥–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç–∏–ª–µ–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ CSSOM
   - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
     - CSS –ø–∞—Ä—Å–∏—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
     - –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ

###### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å JavaScript

**–ë–ª–æ–∫–∏—Ä—É—é—â–∞—è –ø—Ä–∏—Ä–æ–¥–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞**:
- –ö–æ–≥–¥–∞ –ø–∞—Ä—Å–µ—Ä –≤—Å—Ç—Ä–µ—á–∞–µ—Ç `<script>`, –æ–Ω –¥–æ–ª–∂–µ–Ω:
  1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ HTML
  2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–∫—Ä–∏–ø—Ç (–µ—Å–ª–∏ –≤–Ω–µ—à–Ω–∏–π)
  3. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
  4. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:
- `async` - —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- `defer` - —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞, –Ω–æ –¥–æ DOMContentLoaded
- `type="module"` - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–µ–¥–µ—Ç —Å–µ–±—è –∫–∞–∫ defer

###### –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ DOM –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**:
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è DOM –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –æ–±—Ä–∞–∑–æ–º
   - –ü–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤—Å–µ–≥–æ –¥–µ—Ä–µ–≤–∞ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

2. **–°–ª–æ–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞** (Render Layers):
   - –ë—Ä–∞—É–∑–µ—Ä –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å–ª–æ–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–Ω–∏—è
   - –°–≤–æ–π—Å—Ç–≤–∞ —Ç–∏–ø–∞ `will-change`, `transform` —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–µ —Å–ª–æ–∏

3. **–û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**:
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–µ–Ω–∏–µ layout-—Å–≤–æ–π—Å—Ç–≤) –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç ("layout thrashing")

###### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

###### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏

1. **Time to First Byte (TTFB)** - –≤—Ä–µ–º—è –¥–æ –Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
2. **DOMContentLoaded** - –º–æ–º–µ–Ω—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML (–±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è —Å—Ç–∏–ª–µ–π –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
3. **Load Event** - –ø–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

###### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

1. **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≥–ª—É–±–∏–Ω—ã DOM**:
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ 32 —É–∑–ª–∞ –≤ –≥–ª—É–±–∏–Ω—É
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 60 —É–∑–ª–æ–≤ (–ø–æ—Å–ª–µ —á–µ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç)

2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã**:
   - –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ —Ç–∏–ø–∞ `div > ul > li > a`
   - –ö–ª–∞—Å—Å—ã –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DocumentFragment**:
   ```javascript
   const fragment = document.createDocumentFragment();
   // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç
   fragment.appendChild(createElement('div'));
   // –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ DOM
   document.body.appendChild(fragment);
   ```

###### –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM: –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

###### –ê–ª–≥–æ—Ä–∏—Ç–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (Diffing)

1. **–ü–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ**:
   - React –∏ –¥—Ä—É–≥–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç –¥–µ—Ä–µ–≤—å—è —É—Ä–æ–≤–µ–Ω—å –∑–∞ —É—Ä–æ–≤–Ω–µ–º
   - –ï—Å–ª–∏ —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è, –ø–æ–¥–¥–µ—Ä–µ–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è

2. **–ö–ª—é—á–∏ (Keys)**:
   - –ü–æ–∑–≤–æ–ª—è—é—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø–æ—Ä—è–¥–∫–∞
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤

3. **–ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**:
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –æ–¥–Ω–∏–º –ø–∞–∫–µ—Ç–æ–º
   - –ò–∑–±–µ–≥–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫

###### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –æ—Ç –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ DOM API
- –ë–æ–ª–µ–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–µ—Ä–µ–≤—å–µ–≤
- –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω, —á–µ–º —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ


###### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ Shadow DOM

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –º–æ–¥–µ–ª—å, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é:
```javascript
const element = document.createElement('div');
const shadowRoot = element.attachShadow({ mode: 'open' });
shadowRoot.innerHTML = `<style>div { color: red; }</style><div>–¢–µ–∫—Å—Ç</div>`;
```

###### MutationObserver

API –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π DOM:
```javascript
const observer = new MutationObserver((mutations) => {
  mutations.forEach((mutation) => {
    console.log('–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤:', mutation.target);
  });
});

observer.observe(document.body, {
  childList: true,
  subtree: true,
  attributes: true
});
```

###### Intersection Observer

–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
```javascript
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      console.log('–≠–ª–µ–º–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –≤ viewport');
    }
  });
});

observer.observe(document.querySelector('.target'));
```

###### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

DOM - —ç—Ç–æ —Å–ª–æ–∂–Ω–∞—è –∏ –≤—ã—Å–æ–∫–æ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è:
1. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTML –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –æ–±—ä–µ–∫—Ç–Ω—É—é –º–æ–¥–µ–ª—å
2. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–º
3. –ü–æ—Å—Ç–æ—è–Ω–Ω–æ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –¥–ª—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

–ü–æ–Ω–∏–º–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ DOM –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥ –∏ –ª—É—á—à–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
##### —Å–æ–±—ã—Ç–∏—è

https://learn.javascript.ru/introduction-browser-events
https://developer.mozilla.org/ru/docs/Web/Events
https://doka.guide/js/events/


*–°–æ–±—ã—Ç–∏–µ* - —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –æ —Ç–æ–º, —á—Ç–æ —á—Ç–æ-—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ. –í—Å–µ DOM-—É–∑–ª—ã –ø–æ–¥–∞—é—Ç —Ç–∞–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã (—Ö–æ—Ç—è —Å–æ–±—ã—Ç–∏—è –±—ã–≤–∞—é—Ç –∏ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ DOM).

–í–æ—Ç —Å–ø–∏—Å–æ–∫ —Å–∞–º—ã—Ö —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö DOM-—Å–æ–±—ã—Ç–∏–π, –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è:

**–°–æ–±—ã—Ç–∏—è –º—ã—à–∏:**
- `click` -- –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –∫–ª–∏–∫–Ω—É–ª–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –ª–µ–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ (–Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å —Å–µ–Ω—Å–æ—Ä–Ω—ã–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏ –æ–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏).
- `contextmenu` -- –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –∫–ª–∏–∫–Ω—É–ª–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏.
- `mouseover` / `mouseout` -- –∫–æ–≥–¥–∞ –º—ã—à—å –Ω–∞–≤–æ–¥–∏—Ç—Å—è –Ω–∞ / –ø–æ–∫–∏–¥–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç.
- `mousedown` / `mouseup` -- –∫–æ–≥–¥–∞ –Ω–∞–∂–∞–ª–∏ / –æ—Ç–∂–∞–ª–∏ –∫–Ω–æ–ø–∫—É –º—ã—à–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ.
- `mousemove` -- –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏.

**–°–æ–±—ã—Ç–∏—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- `submit` -- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏–ª —Ñ–æ—Ä–º—É `<form>`.
- `focus` -- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ `<input>`.

**–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- `keydown` –∏ `keyup` -- –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç / –æ—Ç–ø—É—Å–∫–∞–µ—Ç –∫–ª–∞–≤–∏—à—É.

**–°–æ–±—ã—Ç–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- `DOMContentLoaded` -- –∫–æ–≥–¥–∞ HTML –∑–∞–≥—Ä—É–∂–µ–Ω –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω, DOM –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å—Ç—Ä–æ–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω.

**CSS events:**
- `transitionend` -- –∫–æ–≥–¥–∞ CSS-–∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö —Å–æ–±—ã—Ç–∏–π. –ú—ã –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–±–µ—Ä—ë–º –∏—Ö –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –≥–ª–∞–≤–∞—Ö.

###### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

–°–æ–±—ã—Ç–∏—é –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å *–æ–±—Ä–∞–±–æ—Ç—á–∏–∫*, —Ç–æ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ.

–ò–º–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º JavaScript-–∫–æ–¥ –º–æ–∂–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å–æ–±—ã—Ç–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫. –°–µ–π—á–∞—Å –º—ã –∏—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –Ω–∞—á–∏–Ω–∞—è —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ.

###### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ HTML

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω –ø—Ä—è–º–æ –≤ —Ä–∞–∑–º–µ—Ç–∫–µ, –≤ –∞—Ç—Ä–∏–±—É—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `on<—Å–æ–±—ã—Ç–∏–µ>`.

–ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `click` –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ `input`, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç `onclick`, –≤–æ—Ç —Ç–∞–∫:

```html run
<input value="–ù–∞–∂–º–∏ –º–µ–Ω—è" *!*onclick="alert('–ö–ª–∏–∫!')"*/!* type="button">
```

–ü—Ä–∏ –∫–ª–∏–∫–µ –º—ã—à–∫–æ–π –Ω–∞ –∫–Ω–æ–ø–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∫–æ–¥, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∞—Ç—Ä–∏–±—É—Ç–µ `onclick`.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ `onclick` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏, —Ç–∞–∫ –∫–∞–∫ —Å–∞–º –∞—Ç—Ä–∏–±—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–≤–æ–π–Ω—ã—Ö. –ï—Å–ª–∏ –º—ã –∑–∞–±—É–¥–µ–º –æ–± —ç—Ç–æ–º –∏ –ø–æ—Å—Ç–∞–≤–∏–º –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∞—Ç—Ä–∏–±—É—Ç–∞, –≤–æ—Ç —Ç–∞–∫: `onclick="alert("Click!")"`, –∫–æ–¥ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

–ê—Ç—Ä–∏–±—É—Ç HTML-—Ç–µ–≥–∞ - –Ω–µ —Å–∞–º–æ–µ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, –ø–æ—ç—Ç–æ–º—É –ª—É—á—à–µ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é JavaScript-—Ñ—É–Ω–∫—Ü–∏—é –∏ –≤—ã–∑–≤–∞—Ç—å –µ—ë —Ç–∞–º.

–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä –ø–æ –∫–ª–∏–∫—É –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `countRabbits()`:

```html autorun height=50
<script>
  function countRabbits() {
    for(let i=1; i<=3; i++) {
      alert("–ö—Ä–æ–ª–∏–∫ –Ω–æ–º–µ—Ä " + i);
    }
  }
</script>

<input type="button" *!*onclick="countRabbits()"*/!* value="–°—á–∏—Ç–∞—Ç—å –∫—Ä–æ–ª–∏–∫–æ–≤!">
```

–ö–∞–∫ –º—ã –ø–æ–º–Ω–∏–º, –∞—Ç—Ä–∏–±—É—Ç HTML-—Ç–µ–≥–∞ –Ω–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É, –ø–æ—ç—Ç–æ–º—É `ONCLICK` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫ –∂–µ, –∫–∞–∫ `onClick` –∏ `onCLICK`... –ù–æ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∞—Ç—Ä–∏–±—É—Ç—ã –ø–∏—à—É—Ç –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ: `onclick`.

###### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ DOM-–æ–±—ä–µ–∫—Ç–∞

–ú–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∏—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–π—Å—Ç–≤–æ DOM-—ç–ª–µ–º–µ–Ω—Ç–∞ `on<—Å–æ–±—ã—Ç–∏–µ>`.

–ö –ø—Ä–∏–º–µ—Ä—É, `elem.onclick`:

```html autorun
<input id="elem" type="button" value="–ù–∞–∂–º–∏ –º–µ–Ω—è!">
<script>
*!*
  elem.onclick = function() {
    alert('–°–ø–∞—Å–∏–±–æ');
  };
*/!*
</script>
```

–ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–¥–∞–Ω —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç, —Ç–æ –±—Ä–∞—É–∑–µ—Ä —á–∏—Ç–∞–µ—Ç HTML-—Ä–∞–∑–º–µ—Ç–∫—É, —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ —Å–≤–æ–π—Å—Ç–≤–æ.

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–±, –ø–æ —Å—É—Ç–∏, –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É.

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ–≥–¥–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–≤–æ–π—Å—Ç–≤–µ DOM-–æ–±—ä–µ–∫—Ç–∞, –∞ –∞—Ç—Ä–∏–±—É—Ç ‚Äì –ª–∏—à—å –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.**

–≠—Ç–∏ –¥–≤–∞ –ø—Ä–∏–º–µ—Ä–∞ –∫–æ–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ:

1. –¢–æ–ª—å–∫–æ HTML:

    ```html autorun height=50
    <input type="button" *!*onclick="alert('–ö–ª–∏–∫!')"*/!* value="–ö–Ω–æ–ø–∫–∞">
    ```
2. HTML + JS:

    ```html autorun height=50
    <input type="button" id="button" value="–ö–Ω–æ–ø–∫–∞">
    <script>
    *!*
      button.onclick = function() {
        alert('–ö–ª–∏–∫!');
      };
    */!*
    </script>
    ```

**–¢–∞–∫ –∫–∞–∫ —É —ç–ª–µ–º–µ–Ω—Ç–∞ DOM –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ —Å –∏–º–µ–Ω–µ–º `onclick`, —Ç–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Ç–∞–∫ –Ω–µ–ª—å–∑—è.**

–í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ JavaScript –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞:

```html run height=50 autorun
<input type="button" id="elem" onclick="alert('–ë—ã–ª–æ')" value="–ù–∞–∂–º–∏ –º–µ–Ω—è">
<script>
*!*
  elem.onclick = function() { // –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    alert('–°—Ç–∞–Ω–µ—Ç'); // –≤—ã–≤–µ–¥–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —ç—Ç–æ
  };
*/!*
</script>
```

–ö—Å—Ç–∞—Ç–∏, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```js
function sayThanks() {
  alert('–°–ø–∞—Å–∏–±–æ!');
}

elem.onclick = sayThanks;
```

–£–±—Ä–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º `elem.onclick = null`.

###### –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É —á–µ—Ä–µ–∑ this

–í–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è `this` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç, —Ç–æ –µ—Å—Ç—å –Ω–∞ —Ç–æ—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º, –∫–∞–∫ –≥–æ–≤–æ—Ä—è—Ç, "–≤–∏—Å–∏—Ç" (—Ç.–µ. –Ω–∞–∑–Ω–∞—á–µ–Ω) –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.

–í –∫–æ–¥–µ –Ω–∏–∂–µ `button` –≤—ã–≤–æ–¥–∏—Ç —Å–≤–æ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –∏—Å–ø–æ–ª—å–∑—É—è `this.innerHTML`:

```html height=50 autorun
<button onclick="alert(this.innerHTML)">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>
```

###### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

–ï—Å–ª–∏ –≤—ã —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–æ–±—ã—Ç–∏—è–º–∏, –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–º–µ–Ω—Ç—ã.

**–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –∫–∞–∫ `sayThanks`, –∞ –Ω–µ `sayThanks()`.**

```js
// –ø—Ä–∞–≤–∏–ª—å–Ω–æ
button.onclick = sayThanks;

// –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
button.onclick = sayThanks();
```

–ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–∫–æ–±–∫–∏, —Ç–æ `sayThanks()` -- —ç—Ç–æ —É–∂–µ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ (—Ä–∞–≤–Ω—ã–π `undefined`, —Ç–∞–∫ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç) –±—É–¥–µ—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω `onclick`. –¢–∞–∫ —á—Ç–æ —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

...–ê –≤–æ—Ç –≤ —Ä–∞–∑–º–µ—Ç–∫–µ, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å–≤–æ–π—Å—Ç–≤–∞, —Å–∫–æ–±–∫–∏ –Ω—É–∂–Ω—ã:

```html
<input type="button" id="button" onclick="sayThanks()">
```

–≠—Ç–æ —Ä–∞–∑–ª–∏—á–∏–µ –ø—Ä–æ—Å—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å *—Ç–µ–ª–æ–º –∏–∑ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞*: `sayThanks()`.

–¢–∞–∫ —á—Ç–æ —Ä–∞–∑–º–µ—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∞–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ:
```js
button.onclick = function() {
*!*
  sayThanks(); // —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞—Ç—Ä–∏–±—É—Ç–∞
*/!*
};
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–Ω–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ —Å—Ç—Ä–æ–∫–∏.**

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å—Ç—Ä–æ–∫–æ–π `elem.onclick = "alert(1)"` —Ç–∞–∫–∂–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –¥–µ–ª–∞—Ç—å —Ç–∞–∫ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è.

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `setAttribute` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.**

–¢–∞–∫–æ–π –≤—ã–∑–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç:

```js run no-beautify
// –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ body –±—É–¥—É—Ç –æ—à–∏–±–∫–∏,
// –∞—Ç—Ä–∏–±—É—Ç—ã –≤—Å–µ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∏, –∏ —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–∞–Ω–µ—Ç —Å—Ç—Ä–æ–∫–æ–π
document.body.setAttribute('onclick', function() { alert(1) });
```

**–†–µ–≥–∏—Å—Ç—Ä DOM-—Å–≤–æ–π—Å—Ç–≤–∞ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `elem.onclick`, –∞ –Ω–µ `elem.ONCLICK`, –ø–æ—Ç–æ–º—É —á—Ç–æ DOM-—Å–≤–æ–π—Å—Ç–≤–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É.

###### addEventListener

–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ —Å–ø–æ—Å–æ–±–æ–≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Äì –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤–µ—Å–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω–∞ —á–∞—Å—Ç—å –∫–æ–¥–∞ —Ö–æ—á–µ—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –¥–µ–ª–∞—Ç—å –µ—ë –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω–æ–π, –∞ –¥—Ä—É–≥–∞—è ‚Äì –≤—ã–¥–∞–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.

–ú—ã —Ö–æ—Ç–∏–º –Ω–∞–∑–Ω–∞—á–∏—Ç—å –¥–≤–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è —ç—Ç–æ–≥–æ. –ù–æ –Ω–æ–≤–æ–µ DOM-—Å–≤–æ–π—Å—Ç–≤–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ:

```js no-beautify
input.onclick = function() { alert(1); }
// ...
input.onclick = function() { alert(2); } // –∑–∞–º–µ–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
```

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–≤–Ω–æ —ç—Ç–æ –ø–æ–Ω—è–ª–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ `addEventListener` –∏ `removeEventListener`. –û–Ω–∏ —Å–≤–æ–±–æ–¥–Ω—ã –æ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∞.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞:

```js
element.addEventListener(event, handler, [options]);
```

`event`
: –ò–º—è —Å–æ–±—ã—Ç–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `"click"`.

`handler`
: –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫.

`options`
: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:
    - `once`: –µ—Å–ª–∏ `true`, —Ç–æ–≥–¥–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—ë–Ω –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
    - `capture`: —Ñ–∞–∑–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º –±—É–¥–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ –≤ –≥–ª–∞–≤–µ <info:bubbling-and-capturing>. –¢–∞–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —Å–ª–æ–∂–∏–ª–æ—Å—å, —á—Ç–æ `options` –º–æ–∂–µ—Ç –±—ã—Ç—å `false/true`, —ç—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ `{capture: false/true}`.
    - `passive`: –µ—Å–ª–∏ `true`, —Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç `preventDefault()`, –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º –±—É–¥–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ –≤ –≥–ª–∞–≤–µ <info:default-browser-action>.


–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `removeEventListener`:

```js
element.removeEventListener(event, handler, [options]);
```

````warn header="–£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é"
–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–º–µ–Ω–Ω–æ —Ç—É —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞.

–í–æ—Ç —Ç–∞–∫ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç:

```js no-beautify
elem.addEventListener( "click" , () => alert('–°–ø–∞—Å–∏–±–æ!'));
// ....
elem.removeEventListener( "click", () => alert('–°–ø–∞—Å–∏–±–æ!'));
```

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω, —Ç.–∫. –≤ `removeEventListener` –ø–µ—Ä–µ–¥–∞–Ω–∞ –Ω–µ —Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è, –∞ –¥—Ä—É–≥–∞—è, —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∫–æ–¥–æ–º, –Ω–æ —ç—Ç–æ –Ω–µ –≤–∞–∂–Ω–æ.

–í–æ—Ç —Ç–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```js
function handler() {
  alert( '–°–ø–∞—Å–∏–±–æ!' );
}

input.addEventListener("click", handler);
// ....
input.removeEventListener("click", handler);
```

–û–±—Ä–∞—Ç–∏–º –≤–Ω–∏–º–∞–Ω–∏–µ -- –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–¥–µ-–ª–∏–±–æ, –º—ã –Ω–µ —Å–º–æ–∂–µ–º –µ—ë —É–¥–∞–ª–∏—Ç—å. –ù–µ—Ç –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `addEventListener`.
````

–ú–µ—Ç–æ–¥ `addEventListener` –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```html run no-beautify
<input id="elem" type="button" value="–ù–∞–∂–º–∏ –º–µ–Ω—è"/>

<script>
  function handler1() {
    alert('–°–ø–∞—Å–∏–±–æ!');
  };

  function handler2() {
    alert('–°–ø–∞—Å–∏–±–æ –µ—â—ë —Ä–∞–∑!');
  }

*!*
  elem.onclick = () => alert("–ü—Ä–∏–≤–µ—Ç");
  elem.addEventListener("click", handler1); // –°–ø–∞—Å–∏–±–æ!
  elem.addEventListener("click", handler2); // –°–ø–∞—Å–∏–±–æ –µ—â—ë —Ä–∞–∑!
*/!*
</script>
```

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã—à–µ, –º–æ–∂–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ —á–µ—Ä–µ–∑ DOM-—Å–≤–æ–π—Å—Ç–≤–æ –∏ —á–µ—Ä–µ–∑ `addEventListener`. –û–¥–Ω–∞–∫–æ, –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ø—É—Ç–∞–Ω–∏—Ü—ã, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Å–ø–æ—Å–æ–±.

````warn header="–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–±—ã—Ç–∏–π –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `addEventListener`"
–°—É—â–µ—Å—Ç–≤—É—é—Ç —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –Ω–∞–∑–Ω–∞—á–∏—Ç—å —á–µ—Ä–µ–∑ DOM-—Å–≤–æ–π—Å—Ç–≤–æ, –Ω–æ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `addEventListener`.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–æ–≤–æ —Å–æ–±—ã—Ç–∏–µ `DOMContentLoaded`, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ DOM –¥–æ–∫—É–º–µ–Ω—Ç–∞.

```js
document.onDOMContentLoaded = function() {
  alert("DOM –ø–æ—Å—Ç—Ä–æ–µ–Ω"); // –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
};
```

```js
document.addEventListener("DOMContentLoaded", function() {
  alert("DOM –ø–æ—Å—Ç—Ä–æ–µ–Ω"); // –∞ –≤–æ—Ç —Ç–∞–∫ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
});
```
–¢–∞–∫ —á—Ç–æ `addEventListener` –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω. –•–æ—Ç—è –∑–∞–º–µ—Ç–∏–º, —á—Ç–æ —Ç–∞–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π –º–µ–Ω—å—à–∏–Ω—Å—Ç–≤–æ, —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —á–µ–º –ø—Ä–∞–≤–∏–ª–æ.
````

## –û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è

–ß—Ç–æ–±—ã —Ö–æ—Ä–æ—à–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ, –º–æ–≥—É—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–µ—Ç–∞–ª–∏ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ. –ù–µ –ø—Ä–æ—Å—Ç–æ "–∫–ª–∏–∫" –∏–ª–∏ "–Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏", –∞ —Ç–∞–∫–∂–µ -- –∫–∞–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∫–∞–∑–∞—Ç–µ–ª—è –º—ã—à–∏, –∫–∞–∫–∞—è –∫–ª–∞–≤–∏—à–∞ –Ω–∞–∂–∞—Ç–∞ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

–ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ,  –±—Ä–∞—É–∑–µ—Ä —Å–æ–∑–¥–∞—ë—Ç *–æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è*, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –Ω–µ–≥–æ –¥–µ—Ç–∞–ª–∏ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É.

–ü—Ä–∏–º–µ—Ä –Ω–∏–∂–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –º—ã—à–∏ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Å–æ–±—ã—Ç–∏—è:

```html run
<input type="button" value="–ù–∞–∂–º–∏ –º–µ–Ω—è" id="elem">

<script>
  elem.onclick = function(*!*event*/!*) {
    // –≤—ã–≤–µ—Å—Ç–∏ —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è, —ç–ª–µ–º–µ–Ω—Ç –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–∞
    alert(event.type + " –Ω–∞ " + event.currentTarget);
    alert("–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: " + event.clientX + ":" + event.clientY);
  };
</script>
```

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ `event`:

`event.type`
: –¢–∏–ø —Å–æ–±—ã—Ç–∏—è, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `"click"`.

`event.currentTarget`
: –≠–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ä–∞–±–æ—Ç–∞–ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫. –ó–Ω–∞—á–µ–Ω–∏–µ -- –æ–±—ã—á–Ω–æ —Ç–∞–∫–æ–µ –∂–µ, –∫–∞–∫ –∏ —É `this`, –Ω–æ –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π-—Å—Ç—Ä–µ–ª–∫–æ–π –∏–ª–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ `bind` –ø—Ä–∏–≤—è–∑–∞–Ω –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ `this`, —Ç–æ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ `event.currentTarget`.

`event.clientX / event.clientY`
: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—É—Ä—Å–æ—Ä–∞ –≤ –º–æ–º–µ–Ω—Ç –∫–ª–∏–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–∫–Ω–∞, –¥–ª—è —Å–æ–±—ã—Ç–∏–π –º—ã—à–∏.

–ï—Å—Ç—å —Ç–∞–∫–∂–µ –∏ —Ä—è–¥ –¥—Ä—É–≥–∏—Ö —Å–≤–æ–π—Å—Ç–≤, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º –≤ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –≥–ª–∞–≤–∞—Ö.

````smart header="–û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –≤ HTML"
–ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ HTML, —Ç–æ–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç `event`, –≤–æ—Ç —Ç–∞–∫:

```html autorun height=60
<input type="button" onclick="*!*alert(event.type)*/!*" value="–¢–∏–ø —Å–æ–±—ã—Ç–∏—è">
```

–≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫, —Ç–æ –æ–Ω–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `function(event) { alert(event.type) }`. –¢–æ –µ—Å—Ç—å, –µ—ë –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `"event"`, –∞ —Ç–µ–ª–æ –≤–∑—è—Ç–æ –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞.
````


###### –û–±—ä–µ–∫—Ç-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫: handleEvent

–ú—ã –º–æ–∂–µ–º –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—é, –Ω–æ –∏ –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ `addEventListener`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞ `handleEvent`.

–ö –ø—Ä–∏–º–µ—Ä—É:


```html run
<button id="elem">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>

<script>
  elem.addEventListener('click', {
    handleEvent(event) {
      alert(event.type + " –Ω–∞ " + event.currentTarget);
    }
  });
</script>
```

–ö–∞–∫ –≤–∏–¥–∏–º, –µ—Å–ª–∏ `addEventListener` –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞, –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç `object.handleEvent(event)`, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ.

–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å –¥–ª—è —ç—Ç–æ–≥–æ:


```html run
<button id="elem">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>

<script>
  class Menu {
    handleEvent(event) {
      switch(event.type) {
        case 'mousedown':
          elem.innerHTML = "–ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏";
          break;
        case 'mouseup':
          elem.innerHTML += "...–∏ –æ—Ç–∂–∞—Ç–∞.";
          break;
      }
    }
  }

*!*
  let menu = new Menu();
  elem.addEventListener('mousedown', menu);
  elem.addEventListener('mouseup', menu);
*/!*
</script>
```

–ó–¥–µ—Å—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–∞ —Å–æ–±—ã—Ç–∏—è. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –º—ã –¥–æ–ª–∂–Ω—ã —è–≤–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–±–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —á–µ—Ä–µ–∑ `addEventListener`. –¢–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç `menu` –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è `mousedown` –∏ `mouseup`, –Ω–æ –Ω–µ –¥—Ä—É–≥–∏–µ (–Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ) —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π.

–ú–µ—Ç–æ–¥ `handleEvent` –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å—é —Ä–∞–±–æ—Ç—É —Å–∞–º. –û–Ω –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–æ—á–µ–Ω—ã –ø–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π, –≤–æ—Ç —Ç–∞–∫:

```html run
<button id="elem">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>

<script>
  class Menu {
    handleEvent(event) {
      // mousedown -> onMousedown
      let method = 'on' + event.type[0].toUpperCase() + event.type.slice(1);
      this[method]();
    }

    onMousedown() {
      elem.innerHTML = "–ö–Ω–æ–ø–∫–∞ –º—ã—à–∏ –Ω–∞–∂–∞—Ç–∞";
    }

    onMouseup() {
      elem.innerHTML += "...–∏ –æ—Ç–∂–∞—Ç–∞.";
    }
  }

  let menu = new Menu();
  elem.addEventListener('mousedown', menu);
  elem.addEventListener('mouseup', menu);
</script>
```

–¢–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –ø–æ –º–µ—Ç–æ–¥–∞–º, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞.

###### –ò—Ç–æ–≥–æ

–ï—Å—Ç—å —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π:

1. –ê—Ç—Ä–∏–±—É—Ç HTML: `onclick="..."`.
2. DOM-—Å–≤–æ–π—Å—Ç–≤–æ: `elem.onclick = function`.
3. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `elem.addEventListener(event, handler[, phase])` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, `removeEventListener` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è.

HTML-–∞—Ç—Ä–∏–±—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–¥–∫–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ JavaScript –≤ HTML-—Ç–µ–≥–µ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–Ω–æ. –ö —Ç–æ–º—É –∂–µ –º–Ω–æ–≥–æ –∫–æ–¥–∞ —Ç–∞–º –Ω–µ –Ω–∞–ø–∏—à–µ—à—å.

DOM-—Å–≤–æ–π—Å—Ç–≤–∞ –≤–ø–æ–ª–Ω–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ –º—ã –Ω–µ –º–æ–∂–µ–º –Ω–∞–∑–Ω–∞—á–∏—Ç—å –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –Ω–∞ –æ–¥–∏–Ω —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è. –í–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö —Å —ç—Ç–∏–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –º–æ–∂–Ω–æ –º–∏—Ä–∏—Ç—å—Å—è.

–ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–ø–æ—Å–æ–± —Å–∞–º—ã–π –≥–∏–±–∫–∏–π, –æ–¥–Ω–∞–∫–æ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∫–æ–¥–∞. –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `DOMContentLoaded`. –¢–∞–∫–∂–µ `addEventListener` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞ `handleEvent`.

–ù–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –≤—ã –Ω–∞–∑–Ω–∞—á–∞–µ—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ -- –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ.

–ú—ã –∏–∑—É—á–∏–º –±–æ–ª—å—à–µ –æ —Å–æ–±—ã—Ç–∏—è—Ö –∏ –∏—Ö —Ç–∏–ø–∞—Ö –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≥–ª–∞–≤–∞—Ö.

##### –≤—Å–ø–ª—ã—Ç–∏–µ/–ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ

–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω—ë–º —Å –ø—Ä–∏–º–µ—Ä–∞.

–≠—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è `<div>` —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ –≤—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –ª—é–±–æ–º—É –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤, –±—É–¥—å —Ç–æ `<em>` –∏–ª–∏ `<code>`:

```html autorun height=60
<div onclick="alert('–û–±—Ä–∞–±–æ—Ç—á–∏–∫!')">
  <em>–ï—Å–ª–∏ –≤—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ <code>EM</code>, —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ <code>DIV</code></em>
</div>
```

–í–∞–º –Ω–µ –∫–∞–∂–µ—Ç—Å—è —ç—Ç–æ —Å—Ç—Ä–∞–Ω–Ω—ã–º? –ü–æ—á–µ–º—É –∂–µ —Å—Ä–∞–±–æ—Ç–∞–ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ `<div>`, –µ—Å–ª–∏ –∫–ª–∏–∫ –ø—Ä–æ–∏–∑–æ—à—ë–ª –Ω–∞ `<em>`?

###### –í—Å–ø–ª—ã—Ç–∏–µ

–ü—Ä–∏–Ω—Ü–∏–ø –≤—Å–ø–ª—ã—Ç–∏—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π.

**–ö–æ–≥–¥–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–Ω–∞—á–∞–ª–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –Ω–∞ –Ω—ë–º, –ø–æ—Ç–æ–º –Ω–∞ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª–µ, –∑–∞—Ç–µ–º –≤—ã—à–µ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –≤–≤–µ—Ä—Ö –ø–æ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–µ–¥–∫–æ–≤.**

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å 3 –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞ `FORM > DIV > P` —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –Ω–∞ –∫–∞–∂–¥–æ–º:

```html run autorun
<style>
  body * {
    margin: 10px;
    border: 1px solid blue;
  }
</style>

<form onclick="alert('form')">FORM
  <div onclick="alert('div')">DIV
    <p onclick="alert('p')">P</p>
  </div>
</form>
```

–ö–ª–∏–∫ –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É `<p>` –≤—ã–∑–æ–≤–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onclick`:
1. –°–Ω–∞—á–∞–ª–∞ –Ω–∞ —Å–∞–º–æ–º `<p>`.
2. –ü–æ—Ç–æ–º –Ω–∞ –≤–Ω–µ—à–Ω–µ–º `<div>`.
3. –ó–∞—Ç–µ–º –Ω–∞ –≤–Ω–µ—à–Ω–µ–º `<form>`.
4. –ò —Ç–∞–∫ –¥–∞–ª–µ–µ –≤–≤–µ—Ä—Ö –ø–æ —Ü–µ–ø–æ—á–∫–µ –¥–æ —Å–∞–º–æ–≥–æ `document`.

![](event-order-bubbling.svg)

–ü–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ `<p>`, —Ç–æ –º—ã —É–≤–∏–¥–∏–º —Ç—Ä–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è: `p` -> `div` -> `form`.

–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–≤—Å–ø–ª—ã—Ç–∏–µ–º", –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–±—ã—Ç–∏—è "–≤—Å–ø–ª—ã–≤–∞—é—Ç" –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤–≤–µ—Ä—Ö —á–µ—Ä–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ–¥–æ–±–Ω–æ —Ç–æ–º—É, –∫–∞–∫ –≤—Å–ø–ª—ã–≤–∞–µ—Ç –ø—É–∑—ã—Ä—ë–∫ –≤–æ–∑–¥—É—Ö–∞ –≤ –≤–æ–¥–µ.

```warn header="*–ü–æ—á—Ç–∏* –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –≤—Å–ø–ª—ã–≤–∞—é—Ç."
–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –≤ —ç—Ç–æ–π —Ñ—Ä–∞–∑–µ -- "–ø–æ—á—Ç–∏".

–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–±—ã—Ç–∏–µ `focus` –Ω–µ –≤—Å–ø–ª—ã–≤–∞–µ—Ç. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º –º—ã —É–≤–∏–¥–∏–º –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã. –û–¥–Ω–∞–∫–æ, —Å—Ç–æ–∏—Ç –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —á–µ–º –ø—Ä–∞–≤–∏–ª–æ, –≤—Å—ë-—Ç–∞–∫–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –≤—Å–ø–ª—ã–≤–∞—é—Ç.
```

###### event.target

–í—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å, –Ω–∞ –∫–∞–∫–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ.

**–°–∞–º—ã–π –≥–ª—É–±–æ–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *—Ü–µ–ª–µ–≤—ã–º* —ç–ª–µ–º–µ–Ω—Ç–æ–º, –∏ –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `event.target`.**

–û—Ç–ª–∏—á–∏—è –æ—Ç `this` (=`event.currentTarget`):

- `event.target` -- —ç—Ç–æ "—Ü–µ–ª–µ–≤–æ–π" —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ, –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—Å–ø–ª—ã—Ç–∏—è –æ–Ω –Ω–µ–∏–∑–º–µ–Ω–µ–Ω.
- `this` -- —ç—Ç–æ "—Ç–µ–∫—É—â–∏–π" —ç–ª–µ–º–µ–Ω—Ç, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ—à–ª–æ –≤—Å–ø–ª—ã—Ç–∏–µ, –Ω–∞ –Ω—ë–º —Å–µ–π—á–∞—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `form.onclick`, —Ç–æ –æ–Ω "–ø–æ–π–º–∞–µ—Ç" –≤—Å–µ –∫–ª–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ–æ—Ä–º—ã. –ì–¥–µ –±—ã –Ω–∏ –±—ã–ª –∫–ª–∏–∫ –≤–Ω—É—Ç—Ä–∏ -- –æ–Ω –≤—Å–ø–ª—ã–≤—ë—Ç –¥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ `<form>`, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.

–ü—Ä–∏ —ç—Ç–æ–º –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ `form.onclick`:

- `this` (=`event.currentTarget`) –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —ç–ª–µ–º–µ–Ω—Ç `<form>`, —Ç–∞–∫ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –Ω–µ–π.
- `event.target` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ —Ñ–æ—Ä–º—ã, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à—ë–ª –∫–ª–∏–∫.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏:

[codetabs height=220 src="bubble-target"]

–í–æ–∑–º–æ–∂–Ω–∞ –∏ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ `event.target` –∏ `this` -- –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∫–ª–∏–∫ –±—ã–ª –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ —Å–∞–º–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ `<form>`, –∞ –Ω–µ –Ω–∞ –µ–≥–æ –ø–æ–¥—ç–ª–µ–º–µ–Ω—Ç–µ.

###### –ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Å–ø–ª—ã—Ç–∏—è

–í—Å–ø–ª—ã—Ç–∏–µ –∏–¥—ë—Ç —Å "—Ü–µ–ª–µ–≤–æ–≥–æ" —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä—è–º–æ –Ω–∞–≤–µ—Ä—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –≤—Å–ø–ª—ã–≤–∞—Ç—å –¥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ `<html>`, –∞ –∑–∞—Ç–µ–º –¥–æ –æ–±—ä–µ–∫—Ç–∞ `document`, –∞ –∏–Ω–æ–≥–¥–∞ –¥–∞–∂–µ –¥–æ `window`, –≤—ã–∑—ã–≤–∞—è –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —Å–≤–æ—ë–º –ø—É—Ç–∏.

–ù–æ –ª—é–±–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ, –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–ø–ª—ã—Ç–∏–µ.

–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ `event.stopPropagation()`.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É `<button>` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `body.onclick` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç:

```html run autorun height=60
<body onclick="alert(`—Å—é–¥–∞ –≤—Å–ø–ª—ã—Ç–∏–µ –Ω–µ –¥–æ–π–¥—ë—Ç`)">
  <button onclick="event.stopPropagation()">–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è</button>
</body>
```

```smart header="event.stopImmediatePropagation()"
–ï—Å–ª–∏ —É —ç–ª–µ–º–µ–Ω—Ç–∞ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ, —Ç–æ –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–∏ –≤—Å–ø–ª—ã—Ç–∏—è –≤—Å–µ –æ–Ω–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

–¢–æ –µ—Å—Ç—å, `event.stopPropagation()` –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é —Å–æ–±—ã—Ç–∏—è –¥–∞–ª—å—à–µ, –Ω–æ –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç–ª–µ–º–µ–Ω—Ç–µ –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–µ—Ç–æ–¥ `event.stopImmediatePropagation()`. –û–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤—Å–ø–ª—ã—Ç–∏–µ, –Ω–æ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç–ª–µ–º–µ–Ω—Ç–µ.
```

```warn header="–ù–µ –ø—Ä–µ–∫—Ä–∞—â–∞–π—Ç–µ –≤—Å–ø–ª—ã—Ç–∏–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏!"
–í—Å–ø–ª—ã—Ç–∏–µ -- —ç—Ç–æ —É–¥–æ–±–Ω–æ. –ù–µ –ø—Ä–µ–∫—Ä–∞—â–∞–π—Ç–µ –µ–≥–æ –±–µ–∑ —è–≤–Ω–æ–π –Ω—É–∂–¥—ã, –æ—á–µ–≤–∏–¥–Ω–æ–π –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π.

–ó–∞—á–∞—Å—Ç—É—é –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Å–ø–ª—ã—Ç–∏—è —á–µ—Ä–µ–∑ `event.stopPropagation()` –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–∞–º–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä:

1. –ú—ã –¥–µ–ª–∞–µ–º –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –º–µ–Ω—é.  –ö–∞–∂–¥–æ–µ –ø–æ–¥–º–µ–Ω—é –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫–∏ –Ω–∞ —Å–≤–æ–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∏ –¥–µ–ª–∞–µ—Ç –¥–ª—è –Ω–∏—Ö `stopPropagation`, —á—Ç–æ–±—ã –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ –≤–Ω–µ—à–Ω–µ–µ –º–µ–Ω—é.
2. –ü–æ–∑–∂–µ –º—ã —Ä–µ—à–∏–ª–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –∫–ª–∏–∫–∏ –≤ –æ–∫–Ω–µ –¥–ª—è –∫–∞–∫–æ–π-—Ç–æ —Å–≤–æ–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –∫ –ø—Ä–∏–º–µ—Ä—É, –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ ‚Äì –≥–¥–µ –≤–æ–æ–±—â–µ —É –Ω–∞—Å –∫–ª–∏–∫–∞—é—Ç –ª—é–¥–∏. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ç–∞–∫ –¥–µ–ª–∞—é—Ç. –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `document.addEventListener('click'‚Ä¶)`, —á—Ç–æ–±—ã –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –≤—Å–µ –∫–ª–∏–∫–∏.
3. –ù–∞—à–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –æ–±–ª–∞—Å—Ç—å—é, –≥–¥–µ –∫–ª–∏–∫–∏ –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç—Å—è `stopPropagation`. –£–≤—ã, –ø–æ–ª—É—á–∏–ª–∞—Å—å "–º—ë—Ä—Ç–≤–∞—è –∑–æ–Ω–∞".

–ó–∞—á–∞—Å—Ç—É—é –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–µ–∫—Ä–∞—â–∞—Ç—å –≤—Å–ø–ª—ã—Ç–∏–µ. –ó–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è, –∫–∞–∑–∞–ª–æ—Å—å –±—ã, —Ç—Ä–µ–±—É–µ—Ç —ç—Ç–æ–≥–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ—à–µ–Ω–∞ –∏–Ω–∞—á–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤–æ–µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, –æ —Ç–æ–º, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç—å, –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø–æ–∑–∂–µ. –¢–∞–∫–∂–µ –º—ã –º–æ–∂–µ–º –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∫–∞–∫—É—é-—Ç–æ —Å–ª—É–∂–µ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –æ–±—ä–µ–∫—Ç `event` –≤ –æ–¥–Ω–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ, –∞ —á–∏—Ç–∞—Ç—å –≤ –¥—Ä—É–≥–æ–º, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –º–æ–∂–µ–º —Å–æ–æ–±—â–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ —É–∂–µ –±—ã–ª–æ –∫–∞–∫-—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ.
```


###### –ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –µ—â—ë –æ–¥–Ω–∞ —Ñ–∞–∑–∞ –∏–∑ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏—è -- "–ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ" (–∏–Ω–æ–≥–¥–∞ –µ—ë –Ω–∞–∑—ã–≤–∞—é—Ç "–ø–µ—Ä–µ—Ö–≤–∞—Ç"). –û–Ω–∞ –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ, –æ–¥–Ω–∞–∫–æ —Ç–æ–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ–π.

–°—Ç–∞–Ω–¥–∞—Ä—Ç [DOM Events](https://www.w3.org/TR/DOM-Level-3-Events/) –æ–ø–∏—Å—ã–≤–∞–µ—Ç 3 —Ñ–∞–∑—ã –ø—Ä–æ—Ö–æ–¥–∞ —Å–æ–±—ã—Ç–∏—è:

1. –§–∞–∑–∞ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è (capturing phase) -- —Å–æ–±—ã—Ç–∏–µ —Å–Ω–∞—á–∞–ª–∞ –∏–¥—ë—Ç —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑.
2. –§–∞–∑–∞ —Ü–µ–ª–∏ (target phase) -- —Å–æ–±—ã—Ç–∏–µ –¥–æ—Å—Ç–∏–≥–ª–æ —Ü–µ–ª–µ–≤–æ–≥–æ(–∏—Å—Ö–æ–¥–Ω–æ–≥–æ) —ç–ª–µ–º–µ–Ω—Ç–∞.
3. –§–∞–∑–∞ –≤—Å–ø–ª—ã—Ç–∏—è (bubbling stage) -- —Å–æ–±—ã—Ç–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—Å–ø–ª—ã–≤–∞—Ç—å.

–ö–∞—Ä—Ç–∏–Ω–∫–∞ –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ —è—á–µ–π–∫–µ `<td>`, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–π –≤–Ω—É—Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã:

![](eventflow.svg)

–¢–æ –µ—Å—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ `<td>` —Å–æ–±—ã—Ç–∏–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤—É–µ—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π —Å–Ω–∞—á–∞–ª–∞ –≤–Ω–∏–∑ –∫ —ç–ª–µ–º–µ–Ω—Ç—É (–ø–æ–≥—Ä—É–∂–∞–µ—Ç—Å—è), –∑–∞—Ç–µ–º –æ–Ω–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç (—Ñ–∞–∑–∞ —Ü–µ–ª–∏), –∞ –ø–æ—Ç–æ–º –∏–¥—ë—Ç –Ω–∞–≤–µ—Ä—Ö (–≤—Å–ø–ª—ã—Ç–∏–µ), –≤—ã–∑—ã–≤–∞—è –ø–æ –ø—É—Ç–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.

**–†–∞–Ω–µ–µ –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ —Ç–æ–ª—å–∫–æ –æ –≤—Å–ø–ª—ã—Ç–∏–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥—Ä—É–≥–∏–µ —Å—Ç–∞–¥–∏–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–µ–∑–∞–º–µ—Ç–Ω–æ –¥–ª—è –Ω–∞—Å.**

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `on<event>`-—Å–≤–æ–π—Å—Ç–≤–æ –∏–ª–∏ —á–µ—Ä–µ–∑ HTML-–∞—Ç—Ä–∏–±—É—Ç—ã, –∏–ª–∏ —á–µ—Ä–µ–∑ `addEventListener(event, handler)` —Å –¥–≤—É–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—é—Ç –æ —Ñ–∞–∑–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è, –∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ 2-–æ–π –∏ 3-–µ–π —Ñ–∞–∑–∞—Ö.

–ß—Ç–æ–±—ã –ø–æ–π–º–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Å—Ç–∞–¥–∏–∏ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç `capture` –≤–æ—Ç —Ç–∞–∫:

```js
elem.addEventListener(..., {capture: true})
// –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ "true", –∫–∞–∫ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è {capture: true}
elem.addEventListener(..., true)
```

–°—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–π –æ–ø—Ü–∏–∏ `capture`:

- –ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç `false` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Ç–æ —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –ø–æ–π–º–∞–Ω–æ –ø—Ä–∏ –≤—Å–ø–ª—ã—Ç–∏–∏.
- –ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç `true`, —Ç–æ —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ –ø—Ä–∏ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–∏.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ö–æ—Ç—å –∏ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 3 —Ñ–∞–∑—ã, 2-—É—é —Ñ–∞–∑—É ("—Ñ–∞–∑—É —Ü–µ–ª–∏": —Å–æ–±—ã—Ç–∏–µ –¥–æ—Å—Ç–∏–≥–ª–æ —ç–ª–µ–º–µ–Ω—Ç–∞) –Ω–µ–ª—å–∑—è –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ, –ø—Ä–∏ –µ—ë –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: –∏ –Ω–∞ –≤—Å–ø–ª—ã—Ç–∏–µ, –∏ –Ω–∞ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ.

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∏ –≤—Å–ø–ª—ã—Ç–∏–µ –∏ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –¥–µ–π—Å—Ç–≤–∏–∏:

```html run autorun height=140 edit
<style>
  body * {
    margin: 10px;
    border: 1px solid blue;
  }
</style>

<form>FORM
  <div>DIV
    <p>P</p>
  </div>
</form>

<script>
  for(let elem of document.querySelectorAll('*')) {
    elem.addEventListener("click", e => alert(`–ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ: ${elem.tagName}`), true);
    elem.addEventListener("click", e => alert(`–í—Å–ø–ª—ã—Ç–∏–µ: ${elem.tagName}`));
  }
</script>
```

–ó–¥–µ—Å—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–µ—à–∏–≤–∞—é—Ç—Å—è –Ω–∞ *–∫–∞–∂–¥—ã–π* —ç–ª–µ–º–µ–Ω—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –æ–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –ø—Ä–æ—Ö–æ–¥–∞ —Å–æ–±—ã—Ç–∏—è.

–ï—Å–ª–∏ –≤—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ `<p>`, —Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∞—è:

1. `HTML` -> `BODY` -> `FORM` -> `DIV` (—Ñ–∞–∑–∞ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è, –ø–µ—Ä–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)
2. `P` (—Ñ–∞–∑–∞ —Ü–µ–ª–∏, —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏ –Ω–∞ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –∏ –Ω–∞ –≤—Å–ø–ª—ã—Ç–∏–µ, —Ç–∞–∫ —á—Ç–æ –≤—ã–≤–µ–¥–µ—Ç—Å—è –¥–≤–∞ —Ä–∞–∑–∞)
3. `DIV` -> `FORM` -> `BODY` -> `HTML` (—Ñ–∞–∑–∞ –≤—Å–ø–ª—ã—Ç–∏—è, –≤—Ç–æ—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)

–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `event.eventPhase`, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ –Ω–æ–º–µ—Ä —Ñ–∞–∑—ã, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Å–æ–±—ã—Ç–∏–µ –±—ã–ª–æ –ø–æ–π–º–∞–Ω–æ. –ù–æ –æ–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ, –º—ã –æ–±—ã—á–Ω–æ –∏ —Ç–∞–∫ –∑–Ω–∞–µ–º –æ–± —ç—Ç–æ–º –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ.

```smart header="–ß—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `removeEventListener`, –Ω—É–∂–Ω–∞ —Ç–∞ –∂–µ —Ñ–∞–∑–∞"
–ï—Å–ª–∏ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–æ—Ç —Ç–∞–∫ `addEventListener(..., true)`, —Ç–æ –º—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `capture` –≤ `removeEventListener(..., true)`, –∫–æ–≥–¥–∞ —Å–Ω–∏–º–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.


````smart header="–ù–∞ –∫–∞–∂–¥–æ–π —Ñ–∞–∑–µ —Ä–∞–∑–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ –æ–¥–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤ –ø–æ—Ä—è–¥–∫–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è"
–ï—Å–ª–∏ —É –Ω–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ–¥–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö `addEventListener` –Ω–∞ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç, –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ñ–∞–∑—ã, —Ç–æ –∏—Ö –ø–æ—Ä—è–¥–æ–∫ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è - —Ç–æ—Ç –∂–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

```js
elem.addEventListener("click", e => alert(1)); // –≤—Å–µ–≥–¥–∞ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º
elem.addEventListener("click", e => alert(2));
```
````

###### –ò—Ç–æ–≥–æ

–ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è - —Å–∞–º—ã–π –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ "—Ü–µ–ª–µ–≤–æ–π" (`event.target`).

- –ó–∞—Ç–µ–º —Å–æ–±—ã—Ç–∏–µ —Å–Ω–∞—á–∞–ª–∞ –¥–≤–∏–≥–∞–µ—Ç—Å—è –≤–Ω–∏–∑ –æ—Ç –∫–æ—Ä–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∫ `event.target`, –ø–æ –ø—É—Ç–∏ –≤—ã–∑—ã–≤–∞—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `addEventListener(...., true)`, –≥–¥–µ `true` -- —ç—Ç–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è `{capture: true}`.
- –î–∞–ª–µ–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ.
- –î–∞–ª–µ–µ —Å–æ–±—ã—Ç–∏–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è –æ—Ç `event.target` –≤–≤–µ—Ä—Ö –∫ –∫–æ—Ä–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–∞, –ø–æ –ø—É—Ç–∏ –≤—ã–∑—ã–≤–∞—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `on<event>` –∏ `addEventListener` –±–µ–∑ —Ç—Ä–µ—Ç—å–µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏–ª–∏ —Å —Ç—Ä–µ—Ç—å–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —Ä–∞–≤–Ω—ã–º `false`.

–ö–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º —Å–æ–±—ã—Ç–∏—è `event`:

- `event.target` -- —Å–∞–º—ã–π –≥–ª—É–±–æ–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ.
- `event.currentTarget` (=`this`) -- —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å—Ä–∞–±–æ—Ç–∞–ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (—Ç–æ—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º "–≤–∏—Å–∏—Ç" –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)
- `event.eventPhase` -- –Ω–∞ –∫–∞–∫–æ–π —Ñ–∞–∑–µ –æ–Ω —Å—Ä–∞–±–æ—Ç–∞–ª (–ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ=1, —Ñ–∞–∑–∞ —Ü–µ–ª–∏=2, –≤—Å–ø–ª—ã—Ç–∏–µ=3).

–õ—é–±–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –≤—ã–∑–æ–≤–æ–º `event.stopPropagation()`, –Ω–æ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è, –∏–Ω–æ–≥–¥–∞ –¥–ª—è —Å–∞–º—ã—Ö –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –≤–µ—â–µ–π.

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å—Ç–∞–¥–∏—è –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ, –æ–±—ã—á–Ω–æ —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—Å–ø–ª—ã—Ç–∏—è. –ò –≤ —ç—Ç–æ–º –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞.

–í —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, –º–µ—Å—Ç–Ω—ã–µ —Å–ª—É–∂–±—ã —Ä–µ–∞–≥–∏—Ä—É—é—Ç –ø–µ—Ä–≤—ã–º–∏. –û–Ω–∏ –∑–Ω–∞—é—Ç –ª—É—á—à–µ –≤—Å–µ—Ö –º–µ—Å—Ç–Ω–æ—Å—Ç—å, –≤ –∫–æ—Ç–æ—Ä–æ–π —ç—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –∏ –¥—Ä—É–≥–∏–µ –¥–µ—Ç–∞–ª–∏. –í—ã—à–µ—Å—Ç–æ—è—â–∏–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —É–∂–µ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

–¢–æ–∂–µ —Å–∞–º–æ–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π. –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π "–Ω–∞–≤–µ—Å–∏–ª" –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∑–Ω–∞–µ—Ç –º–∞–∫—Å–∏–º—É–º –¥–µ—Ç–∞–ª–µ–π –æ–± —ç–ª–µ–º–µ–Ω—Ç–µ –∏ –µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º `<td>` —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ `<td>`, –æ–Ω –∑–Ω–∞–µ—Ç –≤—Å–µ –æ –Ω—ë–º, –ø–æ—ç—Ç–æ–º—É –æ–Ω –¥–æ–ª–∂–µ–Ω –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º. –î–∞–ª–µ–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏—è —Ä–æ–¥–∏—Ç–µ–ª—é -- –æ–Ω —Ç–æ–∂–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –Ω–æ —É–∂–µ –º–µ–Ω–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ, –¥–∞–ª–µ–µ ‚Äì –≤—ã—à–µ, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –¥–æ —Å–∞–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `document`, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞–µ—Ç —Å–∞–º—É—é –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —É—Ä–æ–≤–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞.

–í—Å–ø–ª—ã—Ç–∏–µ –∏ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ —è–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è "–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π" -- –æ—á–µ–Ω—å –º–æ—â–Ω–æ–≥–æ –ø—Ä–∏—ë–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π. –ï–≥–æ –º—ã –∏–∑—É—á–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–π –≥–ª–∞–≤–µ.

##### –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

–í—Å–ø–ª—ã—Ç–∏–µ –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏—ë–º–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ -- *–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ*.

–ò–¥–µ—è –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Å–æ–±—ã—Ç–∏—è –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Ö–æ–∂–∏–º –æ–±—Ä–∞–∑–æ–º, —Ç–æ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞–∑–Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–∞–∂–¥–æ–º—É, –º—ã —Å—Ç–∞–≤–∏–º –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –∏—Ö –æ–±—â–µ–≥–æ –ø—Ä–µ–¥–∫–∞.

–ò–∑ –Ω–µ–≥–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç `event.target`, –ø–æ–Ω—è—Ç—å –Ω–∞ –∫–∞–∫–æ–º –∏–º–µ–Ω–Ω–æ –ø–æ—Ç–æ–º–∫–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ–≥–æ.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä -- [–¥–∏–∞–≥—Ä–∞–º–º—É –ë–∞-–ì—É–∞](https://ru.wikipedia.org/wiki/%D0%92%D0%BE%D1%81%D0%B5%D0%BC%D1%8C_%D1%82%D1%80%D0%B8%D0%B3%D1%80%D0%B0%D0%BC%D0%BC). –≠—Ç–æ —Ç–∞–±–ª–∏—Ü–∞, –æ—Ç—Ä–∞–∂–∞—é—â–∞—è –¥—Ä–µ–≤–Ω—é—é –∫–∏—Ç–∞–π—Å–∫—É—é —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é.

–í–æ—Ç –æ–Ω–∞:

[iframe height=350 src="bagua" edit link]

–ï—ë HTML (—Å—Ö–µ–º–∞—Ç–∏—á–Ω–æ):

```html
<table>
  <tr>
    <th colspan="3">–ö–≤–∞–¥—Ä–∞—Ç <em>Bagua</em>: –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –≠–ª–µ–º–µ–Ω—Ç, –¶–≤–µ—Ç, –ó–Ω–∞—á–µ–Ω–∏–µ</th>
  </tr>
  <tr>
    <td>...<strong>–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥</strong>...</td>
    <td>...</td>
    <td>...</td>
  </tr>
  <tr>...–µ—â—ë 2 —Å—Ç—Ä–æ–∫–∏ —Ç–∞–∫–æ–≥–æ –∂–µ –≤–∏–¥–∞...</tr>
  <tr>...–µ—â—ë 2 —Å—Ç—Ä–æ–∫–∏ —Ç–∞–∫–æ–≥–æ –∂–µ –≤–∏–¥–∞...</tr>
</table>
```

–í —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ –≤—Å–µ–≥–æ 9 —è—á–µ–µ–∫, –Ω–æ –º–æ–≥–ª–æ –±—ã –±—ã—Ç—å –∏ 99, –∏ –¥–∞–∂–µ 9999, –Ω–µ –≤–∞–∂–Ω–æ.

**–ù–∞—à–∞ –∑–∞–¥–∞—á–∞ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É —è—á–µ–π–∫–∏ `<td>` –ø—Ä–∏ –∫–ª–∏–∫–µ.**

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞–∑–Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onclick` –¥–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏ `<td>` (–∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –º–Ω–æ–≥–æ) -- –º—ã –ø–æ–≤–µ—Å–∏–º "–µ–¥–∏–Ω—ã–π" –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç `<table>`.

–û–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `event.target`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ, –∏ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å –µ–≥–æ.

–ö–æ–¥ –±—É–¥–µ—Ç —Ç–∞–∫–∏–º:

```js
let selectedTd;

*!*
table.onclick = function(event) {
  let target = event.target; // –≥–¥–µ –±—ã–ª –∫–ª–∏–∫?

  if (target.tagName != 'TD') return; // –Ω–µ –Ω–∞ TD? —Ç–æ–≥–¥–∞ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç

  highlight(target); // –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å TD
};
*/!*

function highlight(td) {
  if (selectedTd) { // —É–±—Ä–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–æ–¥—Å–≤–µ—Ç–∫—É, –µ—Å–ª–∏ –µ—Å—Ç—å
    selectedTd.classList.remove('highlight');
  }
  selectedTd = td;
  selectedTd.classList.add('highlight'); // –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å –Ω–æ–≤—ã–π td
}
```

–¢–∞–∫–æ–º—É –∫–æ–¥—É –Ω–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã, —Å–∫–æ–ª—å–∫–æ —è—á–µ–µ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ. –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å `<td>` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è, –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –±—É–¥–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å.

–û–¥–Ω–∞–∫–æ, —É —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –∫–æ–¥–∞ –µ—Å—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫.

–ö–ª–∏–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω–∞ —Ç–µ–≥–µ `<td>`, –∞ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ.

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ HTML-–∫–æ–¥ —Ç–∞–±–ª–∏—Ü—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ, –≤–∏–¥–Ω–æ, —á—Ç–æ —è—á–µ–π–∫–∞ `<td>` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–µ–≥–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `<strong>`:

```html
<td>
*!*
  <strong>–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥</strong>
*/!*
  ...
</td>
```

–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –µ—Å–ª–∏ –∫–ª–∏–∫ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ `<strong>`, —Ç–æ –æ–Ω —Å—Ç–∞–Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ–º `event.target`.

![](bagua-bubble.svg)

–í–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ `table.onclick` –º—ã –¥–æ–ª–∂–Ω—ã –ø–æ `event.target` —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, –±—ã–ª –∫–ª–∏–∫ –≤–Ω—É—Ç—Ä–∏ `<td>` –∏–ª–∏ –Ω–µ—Ç.

–í–æ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–¥:

```js
table.onclick = function(event) {
  let td = event.target.closest('td'); // (1)

  if (!td) return; // (2)

  if (!table.contains(td)) return; // (3)

  highlight(td); // (4)
};
```

–†–∞–∑–±–µ—Ä—ë–º –ø—Ä–∏–º–µ—Ä:
1. –ú–µ—Ç–æ–¥ `elem.closest(selector)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø—Ä–µ–¥–∫–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä—É. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–∞–º –Ω—É–∂–µ–Ω `<td>`, –Ω–∞—Ö–æ–¥—è—â–∏–π—Å—è –≤—ã—à–µ –ø–æ –¥–µ—Ä–µ–≤—É –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.
2. –ï—Å–ª–∏ `event.target` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ `<td>`, —Ç–æ –≤—ã–∑–æ–≤ –≤–µ—Ä–Ω—ë—Ç `null`, –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç.
3. –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –≤–ª–æ–∂–µ–Ω–Ω—ã–µ, `event.target` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç `<td>`, –Ω–∞—Ö–æ–¥—è—â–∏–π—Å—è –≤–Ω–µ —Ç–µ–∫—É—â–µ–π —Ç–∞–±–ª–∏—Ü—ã. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ —ç—Ç–æ `<td>` *–Ω–∞—à–µ–π —Ç–∞–±–ª–∏—Ü—ã*.
4. –ò –µ—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, —Ç–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –µ–≥–æ.

–í –∏—Ç–æ–≥–µ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–¥ –ø–æ–¥—Å–≤–µ—Ç–∫–∏, –±—ã—Å—Ç—Ä—ã–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π, –∫–æ—Ç–æ—Ä–æ–º—É —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ –≤–∞–∂–Ω–æ, —Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –≤ —Ç–∞–±–ª–∏—Ü–µ `<td>`.

###### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ä–∞–∑–º–µ—Ç–∫–µ

–ï—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –º–µ–Ω—é —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å (save)", "–ó–∞–≥—Ä—É–∑–∏—Ç—å (load)", "–ü–æ–∏—Å–∫ (search)" –∏ —Ç.–¥. –ò –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ `save`, `load`, `search`... –ö–∞–∫ –∏—Ö —Å–æ—Å—Ç—ã–∫–æ–≤–∞—Ç—å?

–ü–µ—Ä–≤–æ–µ, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ –≤ –≥–æ–ª–æ–≤—É ‚Äì —ç—Ç–æ –Ω–∞–π—Ç–∏ –∫–∞–∂–¥—É—é –∫–Ω–æ–ø–∫—É –∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –µ–π —Å–≤–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ä–µ–¥–∏ –º–µ—Ç–æ–¥–æ–≤ –æ–±—ä–µ–∫—Ç–∞. –ù–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –±–æ–ª–µ–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—Å–µ–≥–æ –º–µ–Ω—é –∏ –∞—Ç—Ä–∏–±—É—Ç—ã `data-action` –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –º–µ—Ç–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç:

```html
<button *!*data-action="save"*/!*>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
```

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –º–µ—Ç–æ–¥. –í–∑–≥–ª—è–Ω–∏—Ç–µ –Ω–∞ —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä:

```html autorun height=60 run untrusted
<div id="menu">
  <button data-action="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  <button data-action="load">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
  <button data-action="search">–ü–æ–∏—Å–∫</button>
</div>

<script>
  class Menu {
    constructor(elem) {
      elem.onclick = this.onClick.bind(this); // (*)
    }

    save() {
      alert('—Å–æ—Ö—Ä–∞–Ω—è—é');
    }

    load() {
      alert('–∑–∞–≥—Ä—É–∂–∞—é');
    }

    search() {
      alert('–∏—â—É');
    }

    onClick(event) {
*!*
      let action = event.target.dataset.action;
      if (action) {
        this[action]();
      }
*/!*
    }
  }

  new Menu(menu);
</script>
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º–µ—Ç–æ–¥ `this.onClick` –≤ —Å—Ç—Ä–æ–∫–µ, –æ—Ç–º–µ—á–µ–Ω–Ω–æ–π –∑–≤—ë–∑–¥–æ—á–∫–æ–π `(*)`, –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `this`. –≠—Ç–æ –≤–∞–∂–Ω–æ, —Ç.–∫. –∏–Ω–∞—á–µ `this` –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –±—É–¥–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç (`elem`), –∞ –Ω–µ –Ω–∞ –æ–±—ä–µ–∫—Ç `Menu`, –∏ `this[action]` –±—É–¥–µ—Ç –Ω–µ —Ç–µ–º, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ.

–¢–∞–∫ —á—Ç–æ –∂–µ –¥–∞—ë—Ç –Ω–∞–º –∑–¥–µ—Å—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ?

```compare
+ –ù–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥, —á—Ç–æ–±—ã –ø—Ä–∏—Å–≤–æ–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–µ. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –∏ –ø–æ–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –≤ —Ä–∞–∑–º–µ—Ç–∫—É.
+ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –≥–∏–±–∫–æ–π. –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è.
```

–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã `.action-save`, `.action-load`, –Ω–æ –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Ç—Ä–∏–±—É—Ç–æ–≤ `data-action` —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ —Å–µ–º–∞–Ω—Ç–∏—á–Ω—ã–º. –ò—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö CSS.

###### –ü—Ä–∏—ë–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–ø–æ–≤–µ–¥–µ–Ω–∏–µ"

–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞–º "–ø–æ–≤–µ–¥–µ–Ω–∏—è" (behavior), *–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ* –∑–∞–¥–∞–≤–∞—è —Ö–∏—Ç—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö HTML-–∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏ –∫–ª–∞—Å—Å–æ–≤.

–ü—Ä–∏—ë–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–ø–æ–≤–µ–¥–µ–Ω–∏–µ" —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
1. –≠–ª–µ–º–µ–Ω—Ç—É —Å—Ç–∞–≤–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞—Ç—Ä–∏–±—É—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
2. –ü—Ä–∏ –ø–æ–º–æ—â–∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞–≤–∏—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≤–∏—Ç –≤—Å–µ –∫–ª–∏–∫–∏ (–∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å–æ–±—ã—Ç–∏—è) –∏, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç –Ω—É–∂–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ.

###### –ü–æ–≤–µ–¥–µ–Ω–∏–µ: "–°—á—ë—Ç—á–∏–∫"

–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å HTML-–∞—Ç—Ä–∏–±—É—Ç `data-counter` –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫–∞–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ: "—É–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ":

```html run autorun height=60
–°—á—ë—Ç—á–∏–∫: <input type="button" value="1" data-counter>
–ï—â—ë —Å—á—ë—Ç—á–∏–∫: <input type="button" value="2" data-counter>

<script>
  document.addEventListener('click', function(event) {

    if (event.target.dataset.counter != undefined) { // –µ—Å–ª–∏ –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç...
      event.target.value++;
    }

  });
</script>
```

–ï—Å–ª–∏ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É -- –∑–Ω–∞—á–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏—Ç—Å—è. –ö–æ–Ω–µ—á–Ω–æ, –Ω–∞–º –≤–∞–∂–Ω—ã –Ω–µ —Å—á—ë—Ç—á–∏–∫–∏, –∞ –æ–±—â–∏–π –ø–æ–¥—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–¥–µ—Å—å –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.

–≠–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `data-counter` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ. –ù–æ–≤—ã–µ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ HTML-–∫–æ–¥ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç. –ü—Ä–∏ –ø–æ–º–æ—â–∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π "–ø—Å–µ–≤–¥–æ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π" –∞—Ç—Ä–∏–±—É—Ç –≤ HTML, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—É –Ω–æ–≤—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ("–ø–æ–≤–µ–¥–µ–Ω–∏–µ").

```warn header="–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `addEventListener` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞"
–ö–æ–≥–¥–∞ –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç `document`, –º—ã –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `addEventListener`, –∞ –Ω–µ `document.on<—Å–æ–±—ã—Ç–∏–µ>`, —Ç.–∫. –≤ —Å–ª—É—á–∞–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã: –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ.

–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏–º–µ—Ç—å –º–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ `document`, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π –∫–æ–¥–∞.
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ: "–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å" (Toggler)

–ï—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä –ø–æ–≤–µ–¥–µ–Ω–∏—è. –°–¥–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `data-toggle-id` –±—É–¥–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å—Å—è/–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —ç–ª–µ–º–µ–Ω—Ç —Å –∑–∞–¥–∞–Ω–Ω—ã–º `id`:

```html autorun run height=60
<button *!*data-toggle-id="subscribe-mail"*/!*>
  –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –ø–æ–¥–ø–∏—Å–∫–∏
</button>

<form id="subscribe-mail" hidden>
  –í–∞—à–∞ –ø–æ—á—Ç–∞: <input type="email">
</form>

<script>
*!*
  document.addEventListener('click', function(event) {
    let id = event.target.dataset.toggleId;
    if (!id) return;

    let elem = document.getElementById(id);

    elem.hidden = !elem.hidden;
  });
*/!*
</script>
```

–ï—â—ë —Ä–∞–∑ –ø–æ–¥—á–µ—Ä–∫–Ω—ë–º, —á—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏. –¢–µ–ø–µ—Ä—å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä—ã—Ç–∏–µ-—Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É, –¥–∞–∂–µ –Ω–µ –Ω–∞–¥–æ –∑–Ω–∞—Ç—å JavaScript, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç `data-toggle-id`.

–≠—Ç–æ –±—ã–≤–∞–µ—Ç –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ -- –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å JavaScript-–∫–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Ç–∞–∫ —Å–µ–±—è –≤–µ—Å—Ç–∏. –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å–¥–µ–ª–∞—é—Ç —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω—ã–º –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–ú—ã –º–æ–∂–µ–º –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –æ–¥–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ.

–®–∞–±–ª–æ–Ω "–ø–æ–≤–µ–¥–µ–Ω–∏–µ" –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –¥–ª—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ JS-–∫–æ–¥–∞ –≤ –≤—ë—Ä—Å—Ç–∫–µ.

###### –ò—Ç–æ–≥–æ

–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π -- —ç—Ç–æ –∑–¥–æ—Ä–æ–≤–æ! –ü–æ–∂–∞–ª—É–π, —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏—ë–º–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DOM.

–û–Ω —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –µ—Å—Ç—å –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ—Ç–æ—Ä—ã—Ö –æ—á–µ–Ω—å —Å—Ö–æ–∂–∞, –Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ.

–ê–ª–≥–æ—Ä–∏—Ç–º:

1. –í–µ—à–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
2. –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç `event.target`.
3. –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤–Ω—É—Ç—Ä–∏ –Ω—É–∂–Ω–æ–≥–æ –Ω–∞–º —ç–ª–µ–º–µ–Ω—Ç–∞, —Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –µ–≥–æ.

–ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```compare
+ –£–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å: –Ω–µ –Ω—É–∂–Ω–æ –≤–µ—à–∞—Ç—å –º–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
+ –ú–µ–Ω—å—à–µ –∫–æ–¥–∞: –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –Ω—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ —Å–Ω–∏–º–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.
+ –£–¥–æ–±—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π DOM: –º–æ–∂–Ω–æ –º–∞—Å—Å–æ–≤–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–ª–∏ —É–¥–∞–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –ø—É—Ç—ë–º –∏–∑–º–µ–Ω–µ–Ω–∏—è `innerHTML` –∏ –µ–º—É –ø–æ–¥–æ–±–Ω—ã—Ö.
```

–ö–æ–Ω–µ—á–Ω–æ, —É –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –µ—Å—Ç—å —Å–≤–æ–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

```compare
- –í–æ-–ø–µ—Ä–≤—ã—Ö, —Å–æ–±—ã—Ç–∏–µ –¥–æ–ª–∂–Ω–æ –≤—Å–ø–ª—ã–≤–∞—Ç—å. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è —ç—Ç–æ–≥–æ –Ω–µ –¥–µ–ª–∞—é—Ç. –¢–∞–∫–∂–µ, –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å `event.stopPropagation()`.
- –í–æ-–≤—Ç–æ—Ä—ã—Ö, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±—Ä–∞—É–∑–µ—Ä, –≤–µ–¥—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã. –ù–æ –æ–±—ã—á–Ω–æ —ç—Ç–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—è–∫–æ–≤–∞—è, —á—Ç–æ –µ—ë –¥–∞–∂–µ –Ω–µ —Å—Ç–æ–∏—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–æ –≤–Ω–∏–º–∞–Ω–∏–µ.
```

##### –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è
https://doka.guide/js/event/

–û–±—ä–µ–∫—Ç¬†`Event`¬†–æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞¬†`event`:

`event.type`

–¢–∏–ø —Å–æ–±—ã—Ç–∏—è, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ¬†`"click"`.

`event.currentTarget`

–≠–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ä–∞–±–æ—Ç–∞–ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫. –ó–Ω–∞—á–µ–Ω–∏–µ ‚Äì –æ–±—ã—á–Ω–æ —Ç–∞–∫–æ–µ –∂–µ, –∫–∞–∫ –∏ —É¬†`this`, –Ω–æ –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π-—Å—Ç—Ä–µ–ª–∫–æ–π –∏–ª–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏¬†`bind`¬†–ø—Ä–∏–≤—è–∑–∞–Ω –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ¬†`this`, —Ç–æ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑¬†`event.currentTarget`.

`event.clientX / event.clientY`

–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—É—Ä—Å–æ—Ä–∞ –≤ –º–æ–º–µ–Ω—Ç –∫–ª–∏–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–∫–Ω–∞, –¥–ª—è —Å–æ–±—ã—Ç–∏–π –º—ã—à–∏.

–ï—Å—Ç—å —Ç–∞–∫–∂–µ –∏ —Ä—è–¥ –¥—Ä—É–≥–∏—Ö —Å–≤–æ–π—Å—Ç–≤, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º –≤ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –≥–ª–∞–≤–∞—Ö.




##### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `this`, `currentTarget` –∏ `target` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π

–í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π JavaScript —ç—Ç–∏ —Ç—Ä–∏ –ø–æ–Ω—è—Ç–∏—è —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞—é—Ç –ø—É—Ç–∞–Ω–∏—Ü—É. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º –∏—Ö —Ä–∞–∑–ª–∏—á–∏—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö.

###### –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è

| –ü–æ–Ω—è—Ç–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Å–µ–≥–¥–∞ –ª–∏ —Ä–∞–≤–Ω–æ —ç–ª–µ–º–µ–Ω—Ç—É, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤–∏—Å–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫? |
|---------|----------|--------------------------------------------------------|
| `this` | –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ (–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π –æ–±—ã—á–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç) | –î–∞ |
| `event.currentTarget` | –≠–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è | –î–∞ |
| `event.target` | –ò—Å—Ö–æ–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–≤–∞–ª —Å–æ–±—ã—Ç–∏–µ (–≥–¥–µ –ø—Ä–æ–∏–∑–æ—à—ë–ª –∫–ª–∏–∫) | –ù–µ—Ç |


###### `event.target`
–≠—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª —Å–æ–±—ã—Ç–∏–µ. –û–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º –Ω–∞ –≤—Å—ë–º –ø—É—Ç–∏ –≤—Å–ø–ª—ã—Ç–∏—è —Å–æ–±—ã—Ç–∏—è.

```html
<div id="outer" style="padding: 50px; background: lightblue;">
  <button id="inner">Click me</button>
</div>

<script>
document.getElementById('outer').addEventListener('click', function(event) {
  console.log('target:', event.target.id); // –ë—É–¥–µ—Ç "inner" –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É
});
</script>
```

###### `event.currentTarget` –∏ `this`
–≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω —Ç–µ–∫—É—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è.

```html
<div id="outer" style="padding: 50px; background: lightblue;">
  <button id="inner">Click me</button>
</div>

<script>
document.getElementById('outer').addEventListener('click', function(event) {
  console.log('currentTarget:', event.currentTarget.id); // –í—Å–µ–≥–¥–∞ "outer"
  console.log('this:', this.id); // –í—Å–µ–≥–¥–∞ "outer" (–µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –¥—Ä—É–≥–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)
});
</script>
```

###### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

```html
<ul id="menu" style="background: #eee; padding: 20px;">
  <li>Item 1</li>
  <li>Item 2 <button>X</button></li>
  <li>Item 3</li>
</ul>

<script>
document.getElementById('menu').addEventListener('click', function(event) {
  console.log('this:', this.tagName); // UL
  console.log('currentTarget:', event.currentTarget.tagName); // UL
  console.log('target:', event.target.tagName); // –ú–æ–∂–µ—Ç –±—ã—Ç—å LI –∏–ª–∏ BUTTON
  
  // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π - –ø–æ–ª–µ–∑–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
  if (event.target.tagName === 'BUTTON') {
    console.log('–ö–ª–∏–∫–Ω—É—Ç button, —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç');
    event.target.closest('li').remove();
  }
});
</script>
```

###### –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

1. **`event.target`** - –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –Ω–∞ –∫–∞–∫–æ–º –∏–º–µ–Ω–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ
   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
   - –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ —Ç–∞–±–ª–∏—Ü–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –ø–æ –∫–∞–∫–æ–π —è—á–µ–π–∫–µ –∫–ª–∏–∫–Ω—É–ª–∏

2. **`event.currentTarget` –∏–ª–∏ `this`** - –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —ç–ª–µ–º–µ–Ω—Ç —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º
   - –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ, –µ—Å–ª–∏ –Ω–µ –≤–∞–∂–Ω–æ, –ø–æ –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –µ—ë —á–∞—Å—Ç–∏ –∫–ª–∏–∫–Ω—É–ª–∏

3. **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**:
   ```javascript
   element.addEventListener('click', (event) => {
     console.log(this); // –ë—É–¥–µ—Ç window (–∏–ª–∏ undefined –≤ strict mode)
     // –í —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö this –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —ç–ª–µ–º–µ–Ω—Ç—É!
     // –ü–æ—ç—Ç–æ–º—É –≤ —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ event.currentTarget
   });
   ```

###### –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –°–∏—Ç—É–∞—Ü–∏—è | `this` | `event.currentTarget` | `event.target` |
|----------|--------|-----------------------|----------------|
| –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –≤ div (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ div) | `<div>` | `<div>` | `<button>` |
| –ö–ª–∏–∫ –ø—Ä—è–º–æ –ø–æ div (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ div) | `<div>` | `<div>` | `<div>` |
| –°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è | –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç | `<div>` | `<button>` |
| –í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è | –¢–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Ü–µ–ø–æ—á–∫–µ | –¢–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Ü–µ–ø–æ—á–∫–µ | –ò—Å—Ö–æ–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç |

–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–∏—Ö —Ä–∞–∑–ª–∏—á–∏–π –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–æ–±—ã—Ç–∏–π –∏ —Å–ª–æ–∂–Ω—ã–º–∏ DOM-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏.


##### –î–µ–π—Å—Ç–≤–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ú–Ω–æ–≥–∏–µ —Å–æ–±—ã—Ç–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–ª–µ–∫—É—Ç –∑–∞ —Å–æ–±–æ–π –¥–µ–π—Å—Ç–≤–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä:

- –ö–ª–∏–∫ –ø–æ —Å—Å—ã–ª–∫–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—ã–π URL.
- –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–æ—Ç–ø—Ä–∞–≤–∏—Ç—å" –≤ —Ñ–æ—Ä–º–µ ‚Äì –æ—Ç—Å—ã–ª–∫—É –µ—ë –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
- –ó–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ –º—ã—à–∏ –Ω–∞–¥ —Ç–µ–∫—Å—Ç–æ–º –∏ –µ—ë –¥–≤–∏–∂–µ–Ω–∏–µ –≤ —Ç–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ ‚Äì –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏–µ.

–ï—Å–ª–∏ –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –≤ JavaScript, —Ç–æ –∑–∞—á–∞—Å—Ç—É—é —Ç–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ. –ö —Å—á–∞—Å—Ç—å—é, –µ–≥–æ –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å.

###### –û—Ç–º–µ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

–ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –æ—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞:

- –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± ‚Äì —ç—Ç–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–±—ä–µ–∫—Ç–æ–º `event`. –î–ª—è –æ—Ç–º–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `event.preventDefault()`.
- –ï—Å–ª–∏ –∂–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω —á–µ—Ä–µ–∑ `on<—Å–æ–±—ã—Ç–∏–µ>` (–Ω–µ —á–µ—Ä–µ–∑ `addEventListener`), —Ç–æ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `false` –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞.

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ —Å—Å—ã–ª–∫–µ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:

```html autorun height=60 no-beautify
<a href="/" onclick="return false">–ù–∞–∂–º–∏ –∑–¥–µ—Å—å</a>
–∏–ª–∏
<a href="/" onclick="event.preventDefault()">–∑–¥–µ—Å—å</a>
```

```warn header="–í–æ–∑–≤—Ä–∞—Ç `false` –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ - —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ"
–û–±—ã—á–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äì —ç—Ç–æ `return false` –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ —á–µ—Ä–µ–∑ `on<—Å–æ–±—ã—Ç–∏–µ>`.

–í –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞—è—Ö `return` –Ω–µ –Ω—É–∂–µ–Ω, –æ–Ω –Ω–∏–∫–∞–∫ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è.
```

### –ü—Ä–∏–º–µ—Ä: –º–µ–Ω—é

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –º–µ–Ω—é –¥–ª—è —Å–∞–π—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```html
<ul id="menu" class="menu">
  <li><a href="/html">HTML</a></li>
  <li><a href="/javascript">JavaScript</a></li>
  <li><a href="/css">CSS</a></li>
</ul>
```

–î–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø—Ä–∏ –ø–æ–º–æ—â–∏ CSS –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

[iframe height=70 src="menu" link edit]

–í HTML-—Ä–∞–∑–º–µ—Ç–∫–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é —è–≤–ª—è—é—Ç—Å—è –Ω–µ –∫–Ω–æ–ø–∫–∞–º–∏, –∞ —Å—Å—ã–ª–∫–∞–º–∏, —Ç–æ –µ—Å—Ç—å —Ç–µ–≥–∞–º–∏ `<a>`. –í —ç—Ç–æ–º –ø–æ–¥—Ö–æ–¥–µ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ –æ—á–µ–Ω—å –ª—é–±—è—Ç —Å–æ—á–µ—Ç–∞–Ω–∏–µ "–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Äì –æ—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ". –ï—Å–ª–∏ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `<button>` –∏–ª–∏ `<span>`, —Ç–æ –¥–∞–Ω–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç.
- –ü–æ–∏—Å–∫–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –ø–æ —Å—Å—ã–ª–∫–∞–º `<a href="...">` –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.

–ü–æ—ç—Ç–æ–º—É –≤ —Ä–∞–∑–º–µ—Ç–∫–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `<a>`. –ù–æ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–ª–∏–∫–∏ –≤ JavaScript, –∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ) - –æ—Ç–º–µ–Ω–∏—Ç—å.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Ç–∞–∫:

```js
menu.onclick = function(event) {
  if (event.target.nodeName != 'A') return;

  let href = event.target.getAttribute('href');
  alert( href ); // –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ —Ç.–ø.

*!*
  return false; // –æ—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ)
*/!*
};
```

–ï—Å–ª–∏ –º—ã —É–±–µ—Ä—ë–º `return false`, —Ç–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä –≤—ã–ø–æ–ª–Ω–∏—Ç "–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é" - –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ `href`. –ê —ç—Ç–æ –Ω–∞–º –∑–¥–µ—Å—å –Ω–µ –Ω—É–∂–Ω–æ, –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–ª–∏–∫ —Å–∞–º–∏.

–ö—Å—Ç–∞—Ç–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–¥–µ—Å—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –¥–µ–ª–∞–µ—Ç –Ω–∞—à–µ –º–µ–Ω—é –æ—á–µ–Ω—å –≥–∏–±–∫–∏–º. –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –∏ —Å—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é CSS ‚Äì –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π.

````smart header="–°–æ–±—ã—Ç–∏—è, –≤—ã—Ç–µ–∫–∞—é—â–∏–µ –∏–∑ –¥—Ä—É–≥–∏—Ö"
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã—Ç–µ–∫–∞—é—Ç –¥—Ä—É–≥ –∏–∑ –¥—Ä—É–≥–∞. –ï—Å–ª–∏ –º—ã –æ—Ç–º–µ–Ω–∏–º –ø–µ—Ä–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ, —Ç–æ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –Ω–µ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–±—ã—Ç–∏–µ `mousedown` –¥–ª—è –ø–æ–ª—è `<input>` –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–µ –Ω–∞ –Ω—ë–º –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `focus`. –ï—Å–ª–∏ –º—ã –æ—Ç–º–µ–Ω–∏–º —Å–æ–±—ã—Ç–∏–µ `mousedown`, —Ç–æ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç.

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å –Ω–∞ –ø–µ—Ä–≤–æ–º `<input>` -- –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ `focus`. –ù–æ –µ—Å–ª–∏ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ –ø–æ –≤—Ç–æ—Ä–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É, —Ç–æ —Å–æ–±—ã—Ç–∏—è `focus` –Ω–µ –±—É–¥–µ—Ç.

```html run autorun
<input value="–§–æ–∫—É—Å —Ä–∞–±–æ—Ç–∞–µ—Ç" onfocus="this.value=''">
<input *!*onmousedown="return false"*/!* onfocus="this.value=''" value="–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è">
```

–≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –æ—Ç–º–µ–Ω–µ–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ `mousedown`. –í–ø—Ä–æ—á–µ–º, —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ –≤—Å—ë –µ—â—ë –≤–æ–∑–º–æ–∂–Ω–∞, –µ—Å–ª–∏ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–∂–∞—Ç–∏–µ–º –∫–ª–∞–≤–∏—à–∏ `key:Tab` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—è –≤–≤–æ–¥–∞ –∫–æ –≤—Ç–æ—Ä–æ–º—É. –ù–æ —Ç–æ–ª—å–∫–æ –Ω–µ —á–µ—Ä–µ–∑ –∫–ª–∏–∫ –º—ã—à—å—é –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç, —ç—Ç–æ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.
````

###### –û–ø—Ü–∏—è "passive" –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ü–∏—è `passive: true` –¥–ª—è `addEventListener` —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å `preventDefault()`.

–ü–æ—á–µ–º—É —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ?

–ï—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è, –∫–∞–∫ `touchmove` –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (–∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –ø–∞–ª–µ—Ü –ø–æ —ç–∫—Ä–∞–Ω—É), –∫–æ—Ç–æ—Ä–æ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É, –Ω–æ –º—ã –º–æ–∂–µ–º –æ—Ç–º–µ–Ω–∏—Ç—å —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è `preventDefault()` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ.

–ü–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –æ–±–Ω–∞—Ä—É–∂–∏—Ç —Ç–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ, –æ–Ω –¥–æ–ª–∂–µ–Ω –¥–ª—è –Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –ø–æ—Å–ª–µ, –µ—Å–ª–∏ `preventDefault` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∏–≥–¥–µ, –æ–Ω –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É. –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

–û–ø—Ü–∏—è `passive: true` —Å–æ–æ–±—â–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –æ—Ç–º–µ–Ω—è—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É. –¢–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç –µ—ë –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è —Å–æ–±—ã—Ç–∏–µ.

–î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (Firefox, Chrome) –æ–ø—Ü–∏—è `passive` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–∞ –≤ `true` –¥–ª—è —Ç–∞–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π, –∫–∞–∫ `touchstart` –∏ `touchmove`.


###### event.defaultPrevented

–°–≤–æ–π—Å—Ç–≤–æ `event.defaultPrevented` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ `true`, –µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—ã–ª–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ, –∏ `false`, –µ—Å–ª–∏ –Ω–µ—Ç.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç—Ç–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

–ü–æ–º–Ω–∏—Ç–µ, –≤ –≥–ª–∞–≤–µ <info:bubbling-and-capturing> –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –æ `event.stopPropagation()` –∏ —É–ø–æ–º–∏–Ω–∞–ª–∏, —á—Ç–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å "–≤—Å–ø–ª—ã—Ç–∏–µ" - –ø–ª–æ—Ö–æ?

–ò–Ω–æ–≥–¥–∞ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `event.defaultPrevented`, —á—Ç–æ–±—ã –ø—Ä–æ—Å–∏–≥–Ω–∞–ª–∏—Ç—å –¥—Ä—É–≥–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ.

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—Ä–∞—É–∑–µ—Ä –ø—Ä–∏ —Å–æ–±—ã—Ç–∏–∏ `contextmenu` (–∫–ª–∏–∫ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏. –ú—ã –º–æ–∂–µ–º –æ—Ç–º–µ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ—ë –º–µ–Ω—é, –∫–∞–∫ –∑–¥–µ—Å—å:

```html autorun height=50 no-beautify run
<button>–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞</button>

<button *!*oncontextmenu="alert('–†–∏—Å—É–µ–º –Ω–∞—à–µ –º–µ–Ω—é'); return false"*/!*>
  –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–∞—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
</button>
```

–¢–µ–ø–µ—Ä—å –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —ç—Ç–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º—É –º–µ–Ω—é —Ä–µ–∞–ª–∏–∑—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –≤—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞.

–ü—Ä–∏ –ø—Ä–∞–≤–æ–º –∫–ª–∏–∫–µ –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –±–ª–∏–∂–∞–π—à–µ–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é.

```html autorun height=80 no-beautify run
<p>–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –∑–¥–µ—Å—å –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–∞</p>
<button id="elem">–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –∑–¥–µ—Å—å –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∫–Ω–æ–ø–∫–∏</button>

<script>
  elem.oncontextmenu = function(event) {
    event.preventDefault();
    alert("–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∫–Ω–æ–ø–∫–∏");
  };

  document.oncontextmenu = function(event) {
    event.preventDefault();
    alert("–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–∞");
  };
</script>
```

–ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –∫–æ–≥–¥–∞ –º—ã –∫–ª–∏–∫–∞–µ–º –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É `elem`, —Ç–æ –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–≤–∞ –º–µ–Ω—é: –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∏ (—Å–æ–±—ã—Ç–∏–µ –≤—Å–ø–ª—ã–≤–∞–µ—Ç –≤–≤–µ—Ä—Ö) –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞.

–ö–∞–∫ —ç—Ç–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å? –û–¥–Ω–æ –∏–∑ —Ä–µ—à–µ–Ω–∏–π - —ç—Ç–æ –ø–æ–¥—É–º–∞—Ç—å: "–ö–æ–≥–¥–∞ –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫–µ, –æ—Å—Ç–∞–Ω–æ–≤–∏–º –≤—Å–ø–ª—ã—Ç–∏–µ", –∏ –≤—ã–∑–≤–∞—Ç—å `event.stopPropagation()`:

```html autorun height=80 no-beautify run
<p>–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–∞</p>
<button id="elem">–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –∫–Ω–æ–ø–∫–∏ (–¥–æ–±–∞–≤–ª–µ–Ω event.stopPropagation)</button>

<script>
  elem.oncontextmenu = function(event) {
    event.preventDefault();
*!*
    event.stopPropagation();
*/!*
    alert("–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∫–Ω–æ–ø–∫–∏");
  };

  document.oncontextmenu = function(event) {
    event.preventDefault();
    alert("–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–∞");
  };
</script>
```

–¢–µ–ø–µ—Ä—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ. –ù–æ —Ü–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞. –ú—ã –Ω–∞–≤—Å–µ–≥–¥–∞ –∑–∞–ø—Ä–µ—Ç–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∞–≤—ã—Ö –∫–ª–∏–∫–∞—Ö –¥–ª—è –ª—é–±–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–¥–∞, –≤–∫–ª—é—á–∞—è —Å—á—ë—Ç—á–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –∏ —Ç.–ø. –≠—Ç–æ —Å–ª–µ–≥–∫–∞ –Ω–µ—Ä–∞–∑—É–º–Ω–æ.

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –±—ã–ª–æ –±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `document`, –±—ã–ª–æ –ª–∏ –æ—Ç–º–µ–Ω–µ–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é? –ï—Å–ª–∏ –¥–∞, —Ç–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ, –∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞ –Ω–µ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.


```html autorun height=80 no-beautify run
<p>–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ event.defaultPrevented)</p>
<button id="elem">–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –∫–Ω–æ–ø–∫–∏</button>

<script>
  elem.oncontextmenu = function(event) {
    event.preventDefault();
    alert("–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∫–Ω–æ–ø–∫–∏");
  };

  document.oncontextmenu = function(event) {
*!*
    if (event.defaultPrevented) return;
*/!*

    event.preventDefault();
    alert("–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–∞");
  };
</script>
```

–°–µ–π—á–∞—Å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –∏–º–µ–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é, —Ç–æ –∫–æ–¥ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –ü—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ `event.defaultPrevented` –≤ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `contextmenu`.

```smart header="event.stopPropagation() –∏ event.preventDefault()"
–ö–∞–∫ –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å, `event.stopPropagation()` –∏ `event.preventDefault()` (—Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–∞–∫ `return false`)  - —ç—Ç–æ –¥–≤–µ —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –û–Ω–∏ –Ω–∏–∫–∞–∫ –Ω–µ —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.
```

```smart header="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω—é"
–ï—Å—Ç—å —Ç–∞–∫–∂–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—É—Ç–µ–π, —á—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω—é. –û–¥–Ω–∏–º –∏–∑ –Ω–∏—Ö —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–π –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º `document.oncontextmenu` –∏ –º–µ—Ç–æ–¥–∞–º–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º–∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –Ω—ë–º –¥—Ä—É–≥–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.

–û–±—ä–µ–∫—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –ª—é–±–æ–π –∫–ª–∏–∫ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π.

–ù–æ –ø—Ä–∏ —ç—Ç–æ–º –∫–∞–∂–¥—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä–æ–º—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é, –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ–± —ç—Ç–æ–º –æ–±—ä–µ–∫—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ `contextmenu`.
```

###### –ò—Ç–æ–≥–æ

–î–µ–π—Å—Ç–≤–∏–π –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–æ–≥–æ:

- `mousedown` -- –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–¥–µ–ª—è—Ç—å —Ç–µ–∫—Å—Ç (–µ—Å–ª–∏ –¥–≤–∏–≥–∞—Ç—å –º—ã—à–∫–æ–π).
- `click` –Ω–∞ `<input type="checkbox">` --  —Å—Ç–∞–≤–∏—Ç –∏–ª–∏ —É–±–∏—Ä–∞–µ—Ç –≥–∞–ª–æ—á–∫—É –≤ `input`.
- `submit` -- –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ `<input type="submit">` –∏–ª–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏ `key:Enter` –≤ —Ñ–æ—Ä–º–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
- `keydown` -- –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–∏–º–≤–æ–ª.
- `contextmenu` -- –ø—Ä–∏ –ø—Ä–∞–≤–æ–º –∫–ª–∏–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞.
- ...–∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ...

–í—Å–µ —ç—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ JavaScript.

–ß—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `event.preventDefault()` –∏–ª–∏  `return false`. –í—Ç–æ—Ä–æ–π –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω —á–µ—Ä–µ–∑ `on<—Å–æ–±—ã—Ç–∏–µ>`.

–û–ø—Ü–∏—è `passive: true` –¥–ª—è `addEventListener` —Å–æ–æ–±—â–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–æ. –≠—Ç–æ –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–±—ã—Ç–∏–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ `touchstart` –∏ `touchmove`, —á—Ç–æ–±—ã —Å–æ–æ–±—â–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –æ–∂–∏–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∞ –µ–º—É —Å–ª–µ–¥—É–µ—Ç —Å—Ä–∞–∑—É –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –¥–µ–π—Å—Ç–≤–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ.

–ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–º–µ–Ω–µ–Ω–æ, —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ `event.defaultPrevented` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `true`, –∏–Ω–∞—á–µ `false`.

```warn header="–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–µ–º–∞–Ω—Ç–∏–∫—É, –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ"
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏, –æ—Ç–º–µ–Ω—è—è –¥–µ–π—Å—Ç–≤–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –¥–æ–±–∞–≤–ª—è—è JavaScript, –º—ã –º–æ–∂–µ–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ª—é–±–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –∑–∞—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É `<a>` —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∫–Ω–æ–ø–∫—É, –∞ –∫–Ω–æ–ø–∫—É `<button>` –≤–µ—Å—Ç–∏ —Å–µ–±—è –∫–∞–∫ —Å—Å—ã–ª–∫–∞ (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π URL).

–ù–æ –Ω–∞–º —Å–ª–µ–¥—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ HTML —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –∫–Ω–æ–ø–∫–∏, –∞ —Ç–µ–≥ `<a>` –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º.

–ü–æ–º–∏–º–æ —Ç–æ–≥–æ, —á—Ç–æ —ç—Ç–æ "—Ö–æ—Ä–æ—à–æ", —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–∞—à HTML –ª—É—á—à–µ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –ª—é–¥–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∏ —Å –æ—Å–æ–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

–¢–∞–∫–∂–µ, –µ—Å–ª–∏ –º—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä —Å —Ç–µ–≥–æ–º `<a>`, —Ç–æ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –±—Ä–∞—É–∑–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ (–∫–ª–∏–∫–∞—è –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—è –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏). –ò –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —ç—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è. –ù–æ –µ—Å–ª–∏ –º—ã –∑–∞–º–µ–Ω–∏–º —Å—Å—ã–ª–∫—É –∫–Ω–æ–ø–∫–æ–π –∏ —Å—Ç–∏–ª–∏–∑—É–µ–º –µ—ë –∫–∞–∫ —Å—Å—ã–ª–∫—É, –∏—Å–ø–æ–ª—å–∑—É—è CSS, —Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —Ç–µ–≥–∞ `<a>` –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥—É—Ç.
```
##### –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

–í JavaScript –µ—Å—Ç—å —Å–µ–º—å –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:

- `||` (–ò–õ–ò)
  - `||=` (–û–ø–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò–õ–ò)
- `&&` (–ò)
  - `&&=` (–û–ø–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò)
- `!` (–ù–ï)
- `??` (–û–ø–µ—Ä–∞—Ç–æ—Ä –Ω—É–ª–µ–≤–æ–≥–æ —Å–ª–∏—è–Ω–∏—è)
  - `??=` (–û–ø–µ—Ä–∞—Ç–æ—Ä –Ω—É–ª–µ–≤–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è)

–ó–¥–µ—Å—å –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–µ—Ä–≤—ã–µ –ø—è—Ç—å, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã `??` –∏ `??=` –±—É–¥—É—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–≤–æ—ë –Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ª—é–±—ã—Ö —Ç–∏–ø–æ–≤. –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–π —Ç–∏–ø.

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö –ø–æ–¥—Ä–æ–±–Ω–µ–µ.

###### || (–ò–õ–ò)

–û–ø–µ—Ä–∞—Ç–æ—Ä "–ò–õ–ò" –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –¥–≤–æ–π–Ω–æ–π —Å–∏–º–≤–æ–ª –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π —á–µ—Ä—Ç—ã:

```js
result = a || b;
```

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –ò–õ–ò –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–ª–µ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏: –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ `true`, –æ–Ω –≤–µ—Ä–Ω—ë—Ç `true`, –≤ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è  `false`.

–í JavaScript, –∫–∞–∫ –º—ã —É–≤–∏–¥–∏–º –¥–∞–ª–µ–µ, —ç—Ç–æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –ù–æ –¥–∞–≤–∞–π—Ç–µ —Å–ø–µ—Ä–≤–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –±—É–ª–µ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –≤—Å–µ–≥–æ —á–µ—Ç—ã—Ä–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:

```js run
alert( true || true );   // true
alert( false || true );  // true
alert( true || false );  // true
alert( false || false ); // false
```

–ö–∞–∫ –º—ã –º–æ–∂–µ–º –Ω–∞–±–ª—é–¥–∞—Ç—å, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–π –≤—Å–µ–≥–¥–∞ —Ä–∞–≤–µ–Ω `true`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ –æ–±–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `false`.

–ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–∏–ø–∞,  —Ç–æ –æ–Ω–æ –∫ –Ω–µ–º—É –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –≤ —Ü–µ–ª—è—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

–ù–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Å–ª–æ `1` –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–∏–Ω—è—Ç–æ –∫–∞–∫ `true`, –∞ `0` ‚Äì –∫–∞–∫ `false`:

```js run
if (1 || 0) { // —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ if( true || false )
  alert( '–∏—Å—Ç–∏–Ω–Ω–æ!' );
}
```

–û–±—ã—á–Ω–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä `||` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `if` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–∏ –ª—é–±–æ–≥–æ –∏–∑ –∑–∞–¥–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π.

–ö –ø—Ä–∏–º–µ—Ä—É:

```js run
let hour = 9;

*!*
if (hour < 10 || hour > 18) {
*/!*
  alert( '–û—Ñ–∏—Å –∑–∞–∫—Ä—ã—Ç.' );
}
```

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏ –±–æ–ª—å—à–µ —É—Å–ª–æ–≤–∏–π:

```js run
let hour = 12;
let isWeekend = true;

if (hour < 10 || hour > 18 || isWeekend) {
  alert( '–û—Ñ–∏—Å –∑–∞–∫—Ä—ã—Ç.' ); // —ç—Ç–æ –≤—ã—Ö–æ–¥–Ω–æ–π
}
```

###### –ò–õ–ò "||" –Ω–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ–µ¬†–∑–Ω–∞—á–µ–Ω–∏–µ [#or-finds-the-first-truthy-value]

–û–ø–∏—Å–∞–Ω–Ω–∞—è –≤—ã—à–µ –ª–æ–≥–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π. –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ—Ä–∞–±–æ—Ç–∞–µ–º —Å "–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏" –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ JavaScript.

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ò–õ–ò `||` —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

```js
result = value1 || value2 || value3;
```

–û–ø–µ—Ä–∞—Ç–æ—Ä `||` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

- –í—ã—á–∏—Å–ª—è–µ—Ç –æ–ø–µ—Ä–∞–Ω–¥—ã —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ.
- –ö–∞–∂–¥—ã–π –æ–ø–µ—Ä–∞–Ω–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `true`, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –æ–ø–µ—Ä–∞–Ω–¥–∞.
- –ï—Å–ª–∏ –≤—Å–µ –æ–ø–µ—Ä–∞–Ω–¥—ã —è–≤–ª—è—é—Ç—Å—è –ª–æ–∂–Ω—ã–º–∏ (`false`), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏–∑ –Ω–∏—Ö.

–ó–Ω–∞—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –≤–∏–¥–µ, –±–µ–∑ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.

–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ü–µ–ø–æ—á–∫–∞ –ò–õ–ò `||` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ, –µ—Å–ª–∏ —Ç–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
alert( 1 || 0 ); // 1 (1 - –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
alert( true || '–∫–∞–∫–∞—è-—Ç–æ —Å—Ç—Ä–æ–∫–∞' ); // true

alert( null || 1 ); // 1 (–ø–µ—Ä–≤–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
alert( null || 0 || 1 ); // 1 (–ø–µ—Ä–≤–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
alert( undefined || null || 0 ); // 0 (–ø–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –ª–æ–∂–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
```

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–º –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å "—á–∏—Å—Ç—ã–º, —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º, —Ç–æ–ª—å–∫–æ –±—É–ª–µ–≤—ã–º –ò–õ–ò".

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π.**

    –ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `firstName`, `lastName` –∏ `nickName`, –≤—Å–µ –æ–Ω–∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (—Ç.–µ. –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∏–ª–∏ –∏–º–µ—Ç—å –ª–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è).

    –î–∞–≤–∞–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –ò–õ–ò `||`, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –≤ –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ, –∏ –ø–æ–∫–∞–∑–∞—Ç—å –µ—ë (–∏–ª–∏ "–ê–Ω–æ–Ω–∏–º", –µ—Å–ª–∏ –Ω–∏ –≤ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç):

    ```js run
    let firstName = "";
    let lastName = "";
    let nickName = "–°—É–ø–µ—Ä–∫–æ–¥–µ—Ä";
    
    *!*alert( firstName || lastName || nickName || "–ê–Ω–æ–Ω–∏–º"); // –°—É–ø–µ—Ä–∫–æ–¥–µ—Ä*/!*
    ```

    –ï—Å–ª–∏ –±—ã –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±—ã–ª–∏ –ª–æ–∂–Ω—ã–º–∏, –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –º—ã –±—ã –Ω–∞–±–ª—é–¥–∞–ª–∏ `"–ê–Ω–æ–Ω–∏–º"`.
2. **–°–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ.**

    –ï—â—ë –æ–¥–Ω–æ–π –æ—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ò–õ–ò `||` —è–≤–ª—è–µ—Ç—Å—è —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ ¬´—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ¬ª.

    –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ò–õ–ò `||` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–≤–æ–∏ –æ–ø–µ—Ä–∞–Ω–¥—ã –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –ø–µ—Ä–≤–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∏ –∑–∞—Ç–µ–º —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ä–∞–∑—É –∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è, –¥–∞–∂–µ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è –¥—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞–Ω–¥—ã.

    –í–∞–∂–Ω–æ—Å—Ç—å —ç—Ç–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–≤–∏–¥–Ω–æ–π, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞–Ω–¥ -- —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º, –∫–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–ª–∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏.

    –í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤—Ç–æ—Ä–æ–π `alert`:

    ```js run
    *!*true*/!* || alert("–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç");
    *!*false*/!* || alert("—Å—Ä–∞–±–æ—Ç–∞–µ—Ç");
    ```

    –í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä –ò–õ–ò `||` –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –∏—Å—Ç–∏–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º (`true`), –ø–æ—ç—Ç–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è.

    –ò–Ω–æ–≥–¥–∞ –ª—é–¥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –≤ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∂–Ω—ã–º.

###### ||= (–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ò–õ–ò)

[recent browser="new"]

–û–ø–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò–õ–ò `||=` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ò–õ–ò `||` —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å–∏–º–≤–æ–ª–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è `=`. –¢–∞–∫–∞—è –∑–∞–ø–∏—Å—å –Ω–µ —Å–ª—É—á–∞–π–Ω–∞, —Ç–∞–∫ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –Ω–∞–º `||`.

–í–æ—Ç –µ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```js
a ||= b;
```

–û–ø–µ—Ä–∞—Ç–æ—Ä `||=` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –æ–ø–µ—Ä–∞–Ω–¥–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

- –í—ã—á–∏—Å–ª—è–µ—Ç –æ–ø–µ—Ä–∞–Ω–¥—ã —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ.
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç `a` –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
- –ï—Å–ª–∏ `a` –ª–æ–∂–Ω–æ, –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç `a` –∑–Ω–∞—á–µ–Ω–∏–µ `b`.

–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `||=` –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ ¬´—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏¬ª, –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏ —Ä–∞–Ω–µ–µ.

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–ø–∏—à–µ–º `a ||= b` –ø–æ–¥ –≤–∏–¥ ¬´—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è¬ª:

```js
a || (a = b);
```

–ú—ã —É–∂–µ –∑–Ω–∞–µ–º, —á—Ç–æ –ò–õ–ò `||` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç *–ø–µ—Ä–≤–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ*, –ø–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ `a` —è–≤–ª—è–µ—Ç—Å—è —Ç–∞–∫–æ–≤—ã–º, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –¥–æ–π–¥—ë—Ç.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Å –æ—á–µ–≤–∏–¥–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `||=`:

```js run
let johnHasCar = false;

johnHasCar ||= "–£ –î–∂–æ–Ω–∞ –Ω–µ—Ç –º–∞—à–∏–Ω—ã!"; // —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ false || (johnHasCar = "...")

alert( johnHasCar ); // "–£ –î–∂–æ–Ω–∞ –Ω–µ—Ç –º–∞—à–∏–Ω—ã!"
```

...–ê –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫ –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é:

```js run
let manufacturer = ""; // –æ–ø–µ—Ä–∞—Ç–æ—Ä ||= –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É "" –∫ –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é false

manufacturer ||= "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å"; // —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ false || (manufacturer = "...")

alert( manufacturer ); // "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å"
```

–û–ø–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò–õ–ò `||=` -- —ç—Ç–æ ¬´[—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä](https://ru.wikipedia.org/wiki/–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π_—Å–∞—Ö–∞—Ä)¬ª, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ —è–∑—ã–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–ø–∏—Å–∏ `if`-–≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ–º.

–ú—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—ã—á–Ω–æ–≥–æ `if`:

```js run
let johnHasCar = false;

if (johnHasCar == false) {
  johnHasCar = "–£ –î–∂–æ–Ω–∞ –Ω–µ—Ç –º–∞—à–∏–Ω—ã!";
}

alert(johnHasCar); // "–£ –î–∂–æ–Ω–∞ –Ω–µ—Ç –º–∞—à–∏–Ω—ã!"

let manufacturer = "";

if (manufacturer == false) {
  manufacturer = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å";
}

alert(manufacturer); // "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å"
```

###### && (–ò)

–û–ø–µ—Ä–∞—Ç–æ—Ä –ò –ø–∏—à–µ—Ç—Å—è –∫–∞–∫ –¥–≤–∞ –∞–º–ø–µ—Ä—Å–∞–Ω–¥–∞ `&&`:

```js
result = a && b;
```

–í —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –æ–±–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏—Å—Ç–∏–Ω–Ω—ã, –∞ –∏–Ω–∞—á–µ ‚Äì `false`:

```js run
alert( true && true );   // true
alert( false && true );  // false
alert( true && false );  // false
alert( false && false ); // false
```

–ü—Ä–∏–º–µ—Ä —Å `if`:

```js run
let hour = 12;
let minute = 30;

if (hour == 12 && minute == 30) {
  alert( '–í—Ä–µ–º—è 12:30' );
}
```

–ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å –ò–õ–ò, –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–ø–µ—Ä–∞–Ω–¥–∞ –ò:

```js run
if (1 && 0) { // –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ true && false
  alert( "–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ª–æ–∂–Ω—ã–π" );
}
```


###### –ò "&&" –Ω–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤–æ–µ –ª–æ–∂–Ω–æ–µ¬†–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–¥—Ä—è–¥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞—Ö –ò:

```js
result = value1 && value2 && value3;
```

–û–ø–µ—Ä–∞—Ç–æ—Ä `&&` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

- –í—ã—á–∏—Å–ª—è–µ—Ç –æ–ø–µ—Ä–∞–Ω–¥—ã —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ.
- –ö–∞–∂–¥—ã–π –æ–ø–µ—Ä–∞–Ω–¥ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `false`, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –æ–ø–µ—Ä–∞–Ω–¥–∞.
- –ï—Å–ª–∏ –≤—Å–µ –æ–ø–µ—Ä–∞–Ω–¥—ã –±—ã–ª–∏ –∏—Å—Ç–∏–Ω–Ω—ã–º–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π.

–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤–æ–µ –ª–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ò–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ, –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.

–í—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å—Ö–æ–∂–∏ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –ò–õ–ò. –†–∞–∑–Ω–∏—Ü–∞ –≤ —Ç–æ–º, —á—Ç–æ –ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤–æ–µ *–ª–æ–∂–Ω–æ–µ* –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –ò–õ–ò‚Ää-‚Ää –ø–µ—Ä–≤–æ–µ *–∏—Å—Ç–∏–Ω–Ω–æ–µ*.

–ü—Ä–∏–º–µ—Ä—ã:

```js run
// –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥ –∏—Å—Ç–∏–Ω–Ω—ã–π,
// –ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ç–æ—Ä–æ–π:
alert( 1 && 0 ); // 0
alert( 1 && 5 ); // 5

// –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥ –ª–æ–∂–Ω—ã–π,
// –ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ. –í—Ç–æ—Ä–æ–π –æ–ø–µ—Ä–∞–Ω–¥ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
alert( null && 5 ); // null
alert( 0 && "–∫–∞–∫–∞—è-—Ç–æ —Å—Ç—Ä–æ–∫–∞" ); // 0
```

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç—Å—è –ø–µ—Ä–≤–æ–µ "–ª–æ–∂–Ω–æ–µ" –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.

```js run
alert( 1 && 2 && null && 3 ); // null
```

–ö–æ–≥–¥–∞ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–µ—Ä–Ω—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–µ–µ

```js run
alert( 1 && 2 && 3 ); // 3
```

````smart header="–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `&&` –±–æ–ª—å—à–µ, —á–µ–º —É `||`"
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ò `&&` –±–æ–ª—å—à–µ, —á–µ–º –ò–õ–ò `||`, —Ç–∞–∫ —á—Ç–æ –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–¥ `a && b || c && d` –ø–æ —Å—É—â–µ—Å—Ç–≤—É —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –≤—ã—Ä–∞–∂–µ–Ω–∏—è `&&` –±—ã–ª–∏ –≤ –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–∫–∞—Ö: `(a && b) || (c && d)`.
````

````warn header="–ù–µ –∑–∞–º–µ–Ω—è–π—Ç–µ `if` –Ω–∞ `||` –∏–ª–∏ `&&`"
–ò–Ω–æ–≥–¥–∞ –ª—é–¥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä –ò `&&` –∫–∞–∫ ¬´–±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π —Å–ø–æ—Å–æ–± –∑–∞–ø–∏—Å–∏ `if`-–≤—ã—Ä–∞–∂–µ–Ω–∏—è¬ª.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
let x = 1;

(x > 0) && alert( 'x –±–æ–ª—å—à–µ –Ω—É–ª—è!' );
```

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ `&&` –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ–π–¥–µ—Ç –¥–æ –Ω–µ–µ. –¢–æ –µ—Å—Ç—å, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `(x > 0)` –∏—Å—Ç–∏–Ω–Ω–æ.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –∏–º–µ–µ–º –∞–Ω–∞–ª–æ–≥ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–æ–¥–∞:

```js run
let x = 1;

if (x > 0) alert( 'x –±–æ–ª—å—à–µ –Ω—É–ª—è!' );
```

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç —Å `&&` –∫–∞–∂–µ—Ç—Å—è –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–º, `if` –±–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–µ–Ω –∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª–µ–Ω. –ü–æ—ç—Ç–æ–º—É –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `if`, –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–æ `if`, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `&&`, –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –ò.
````

###### &&= (–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ò)

[recent browser="new"]

–û–ø–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò `&&=` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –¥–≤–∞ –∞–º–ø–µ—Ä—Å–∞–Ω–¥–∞ `&&` –∏ —Å–∏–º–≤–æ–ª –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è `=`.

–í–æ—Ç –µ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```js
a &&= b;
```

–ü—Ä–∏–Ω—Ü–∏–ø –¥–µ–π—Å—Ç–≤–∏—è `&&=` –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –∏ —É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò–õ–ò `||=`. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ `&&=` –ø—Ä–∏—Å–≤–æ–∏—Ç `a` –∑–Ω–∞—á–µ–Ω–∏–µ `b` —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ `a` *–∏—Å—Ç–∏–Ω–Ω–æ*.

–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò `&&=` —Ç–∞–∫–∂–µ –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ ¬´—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏¬ª:

```js
a && (a = b);
```

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```js run
let greeting = "–ü—Ä–∏–≤–µ—Ç"; // —Å—Ç—Ä–æ–∫–∞ –Ω–µ–ø—É—Å—Ç–∞—è, –ø–æ—ç—Ç–æ–º—É –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∞ –∫ –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é true –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º &&=

greeting &&= greeting + ", –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!"; // —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ true && (greeting = greeting + "...")

alert( greeting ) // "–ü—Ä–∏–≤–µ—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!"
```

–¢–∞–∫ –∫–∞–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ò `&&=` —Ç–∞–∫–∂–µ –∫–∞–∫ –∏ `||=` —è–≤–ª—è–µ—Ç—Å—è ¬´—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–º —Å–∞—Ö–∞—Ä–æ–º¬ª, –º—ã –º–æ–∂–µ–º –±–µ–∑ –ø—Ä–æ–±–ª–µ–º –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ø—Ä–∏–º–µ—Ä –≤—ã—à–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–≤—ã—á–Ω–æ–≥–æ –¥–ª—è –Ω–∞—Å `if`:

```js run
let greeting = "–ü—Ä–∏–≤–µ—Ç";

if (greeting) {
  greeting = greeting + ", –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!"
}

alert( greeting ) // "–ü—Ä–∏–≤–µ—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!"
```

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `||=`, –æ–ø–µ—Ä–∞—Ç–æ—Ä `&&=` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–¥–∫–æ -- –æ–±—ã—á–Ω–æ, –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏ —è–∑—ã–∫–æ–≤—ã–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏, –æ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –±—É–¥–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –ø–æ–∑–∂–µ. –ü–æ–¥–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ -- –¥–æ–≤–æ–ª—å–Ω–æ –Ω–µ–ø—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞.

###### ! (–ù–ï)

–û–ø–µ—Ä–∞—Ç–æ—Ä –ù–ï –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –∑–Ω–∞–∫–æ–º `!`.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç:

```js
result = !value;
```

–û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∞—Ä–≥—É–º–µ–Ω—Ç –∫ –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É —Ç–∏–ø—É `true/false`.
2. –ó–∞—Ç–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
alert( !true ); // false
alert( !0 ); // true
```

–í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –¥–≤–æ–π–Ω–æ–µ –ù–ï `!!` –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∫ –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É —Ç–∏–ø—É:

```js run
alert( !!"–Ω–µ–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞" ); // true
alert( !!null ); // false
```

–¢–æ –µ—Å—Ç—å –ø–µ—Ä–≤–æ–µ –ù–ï –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ–µ, –∞ –≤—Ç–æ—Ä–æ–µ –ù–ï —Å–Ω–æ–≤–∞ –∏–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –µ–≥–æ. –í –∫–æ–Ω—Ü–µ –º—ã –∏–º–µ–µ–º –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ.

–ï—Å—Ç—å –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `Boolean`:

```js run
alert( Boolean("–Ω–µ–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞") ); // true
alert( Boolean(null) ); // false
```

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ù–ï `!` —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–≤—ã—Å—à–∏–º –∏–∑ –≤—Å–µ—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –ø–æ—ç—Ç–æ–º—É –æ–Ω –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º, –ø–µ—Ä–µ–¥ `&&` –∏–ª–∏ `||`.

##### Map, Set, WeakMap, WeakSet

–°–µ–π—á–∞—Å –º—ã –∑–Ω–∞–µ–º –æ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö:

- –û–±—ä–µ–∫—Ç—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π.
- –ú–∞—Å—Å–∏–≤—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π.

–ù–æ —ç—Ç–æ–≥–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á. –ü–æ—ç—Ç–æ–º—É —Ç–∞–∫–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç `Map` –∏ `Set`.

###### Map

[Map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) -- —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–∞–∫ –∏ `Object`. –ù–æ –æ—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –≤ —Ç–æ–º, —á—Ç–æ `Map` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–∏ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞.

–ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞:

- [`new Map()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/Map) -- —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é.
- [`map.set(key, value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/set) -- –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ –∫–ª—é—á—É `key` –∑–Ω–∞—á–µ–Ω–∏–µ `value`.
- [`map.get(key)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –∏–ª–∏ `undefined`, –µ—Å–ª–∏ –∫–ª—é—á `key` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
- [`map.has(key)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/has) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –∫–ª—é—á `key` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –∏–Ω–∞—á–µ `false`.
- [`map.delete(key)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/delete) -- —É–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç (–ø–∞—Ä—É "–∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ") –ø–æ –∫–ª—é—á—É `key`.
- [`map.clear()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/clear) -- –æ—á–∏—â–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ—Ç –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
- [`map.size`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/size) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
let map = new Map();

map.set("1", "str1");    // —Å—Ç—Ä–æ–∫–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞
map.set(1, "num1");      // —Ü–∏—Ñ—Ä–∞ –∫–∞–∫ –∫–ª—é—á
map.set(true, "bool1");  // –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ –∫–ª—é—á

// –ø–æ–º–Ω–∏—Ç–µ, –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç Object –ø—Ä–∏–≤–æ–¥–∏—Ç –∫–ª—é—á–∏ –∫ —Å—Ç—Ä–æ–∫–∞–º?
// Map —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–∏–ø –∫–ª—é—á–µ–π, —Ç–∞–∫ —á—Ç–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è 2 —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è:
alert(map.get(1)); // "num1"
alert(map.get("1")); // "str1"

alert(map.size); // 3
```

–ö–∞–∫ –º—ã –≤–∏–¥–∏–º, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ä–µ–∫—Ç–æ–≤, –∫–ª—é—á–∏ –Ω–µ –±—ã–ª–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ —Å—Ç—Ä–æ–∫–∞–º. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–ª—é—á–µ–π.

```smart header="`map[key]` —ç—Ç–æ –Ω–µ —Å–æ–≤—Å–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Map`"
–•–æ—Ç—è `map[key]` —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `map[key] = 2`, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ`map` —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª—Å—è –±—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–π JavaScript –æ–±—ä–µ–∫—Ç, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —ç—Ç–æ –≤–µ–¥—ë—Ç –∫–æ –≤—Å–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º (—Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏/—Å–∏–º–≤–æ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ).

–ü–æ—ç—Ç–æ–º—É –Ω–∞–º —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã `map`: `set`, `get` –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.
```

**Map –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π.**

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
let john = { name: "John" };

// –¥–∞–≤–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
let visitsCountMap = new Map();

// –æ–±—ä–µ–∫—Ç john - —ç—Ç–æ –∫–ª—é—á –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ–±—ä–µ–∫—Ç–µ Map
visitsCountMap.set(john, 123);

alert(visitsCountMap.get(john)); // 123
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π - –æ–¥–Ω–∞ –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω—ã—Ö –∏ –≤–∞–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π `Map`. –≠—Ç–æ —Ç–æ —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–ª—è `Object`. –°—Ç—Ä–æ–∫–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –≤ `Object` - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ –º—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π `Object` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –≤ `Object`.

–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –∑–∞–º–µ–Ω–∏—Ç—å `Map` –Ω–∞ `Object`:

```js run
let john = { name: "John" };
let ben = { name: "Ben" };

let visitsCountObj = {}; // –ø–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç

visitsCountObj[ben] = 234; // –ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç ben –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞
visitsCountObj[john] = 123; // –ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç john –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞, –ø—Ä–∏ —ç—Ç–æ–º –æ–±—ä–µ–∫—Ç ben –±—É–¥–µ—Ç –∑–∞–º–µ—â—ë–Ω

*!*
// –í–æ—Ç —á—Ç–æ —Ç–∞–º –±—ã–ª–æ –∑–∞–ø–∏—Å–∞–Ω–æ!
alert( visitsCountObj["[object Object]"] ); // 123 
*/!*
```

–¢–∞–∫ –∫–∞–∫ `visitsCountObj` —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º, –æ–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤—Å–µ –∫–ª—é—á–∏ `Object`, —Ç–∞–∫–∏–µ –∫–∞–∫ `john` –∏ `ben`, –≤ –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—Ç—Ä–æ–∫—É `"[object Object]"`. –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ –Ω–µ —Ç–æ, —á–µ–≥–æ –º—ã —Ö–æ—Ç–∏–º.

```smart header="–ö–∞–∫ –æ–±—ä–µ–∫—Ç `Map` —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∫–ª—é—á–∏"
–ß—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∫–ª—é—á–∏, –æ–±—ä–µ–∫—Ç `Map` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º [SameValueZero](https://tc39.github.io/ecma262/#sec-samevaluezero). –≠—Ç–æ –ø–æ—á—Ç–∏ —Ç–∞–∫–æ–µ –∂–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, —á—Ç–æ –∏ `===`, —Å —Ç–æ–π –ª–∏—à—å —Ä–∞–∑–Ω–∏—Ü–µ–π, —á—Ç–æ `NaN` —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–∞–≤–Ω—ã–º `NaN`. –¢–∞–∫ —á—Ç–æ `NaN` —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞.

–≠—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω—ë–Ω –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω.

````smart header="–¶–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤"
–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `map.set` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç map, —Ç–∞–∫ —á—Ç–æ –º—ã –º–æ–∂–µ–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã –≤ —Ü–µ–ø–æ—á–∫—É:

```js
map.set("1", "str1")
  .set(1, "num1")
  .set(true, "bool1");
```
````

###### –ü–µ—Ä–µ–±–æ—Ä Map

–î–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `Map` –µ—Å—Ç—å 3 –º–µ—Ç–æ–¥–∞:

- [`map.keys()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/keys) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø–æ –∫–ª—é—á–∞–º,
- [`map.values()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/values) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º,
- [`map.entries()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/entries) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø–æ –ø–∞—Ä–∞–º –≤–∏–¥–∞ `[–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]`, —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `for..of`.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
let recipeMap = new Map([
  ["–æ–≥—É—Ä–µ—Ü", 500],
  ["–ø–æ–º–∏–¥–æ—Ä", 350],
  ["–ª—É–∫",    50]
]);

// –ø–µ—Ä–µ–±–æ—Ä –ø–æ –∫–ª—é—á–∞–º (–æ–≤–æ—â–∏)
for (let vegetable of recipeMap.keys()) {
  alert(vegetable); // –æ–≥—É—Ä–µ—Ü, –ø–æ–º–∏–¥–æ—Ä, –ª—É–∫
}

// –ø–µ—Ä–µ–±–æ—Ä –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º (—á–∏—Å–ª–∞)
for (let amount of recipeMap.values()) {
  alert(amount); // 500, 350, 50
}

// –ø–µ—Ä–µ–±–æ—Ä –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]
for (let entry of recipeMap) { // —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ recipeMap.entries()
  alert(entry); // –æ–≥—É—Ä–µ—Ü,500 (–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ)
}
```

```smart header="–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏"
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ `Object`, –≤ `Map` –ø–µ—Ä–µ–±–æ—Ä –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ç–æ–º –∂–µ  –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–∞–∫–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
```

–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ, `Map` –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `forEach`, —Å—Ö–æ–∂–∏–π —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º –º–∞—Å—Å–∏–≤–æ–≤ `Array`:

```js
// –≤—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã (–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ)
recipeMap.forEach((value, key, map) => {
  alert(`${key}: ${value}`); // –æ–≥—É—Ä–µ—Ü: 500 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
});
```

###### Object.entries: Map –∏–∑ Object

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `Map` –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å –º–∞—Å—Å–∏–≤ (–∏–ª–∏ –¥—Ä—É–≥–æ–π –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç) —Å –ø–∞—Ä–∞–º–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–∞–∫ –∑–¥–µ—Å—å:

```js run
// –º–∞—Å—Å–∏–≤ –ø–∞—Ä [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]
let map = new Map([
  ['1',  'str1'],
  [1,    'num1'],
  [true, 'bool1']
]);

alert( map.get('1') ); // str1
```

–ï—Å–ª–∏ —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∏ –º—ã —Ö–æ—Ç–µ–ª–∏ –±—ã —Å–æ–∑–¥–∞—Ç—å `Map` –∏–∑ –Ω–µ–≥–æ, —Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ [Object.entries(obj)](mdn:js/Object/entries), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –Ω–µ–≥–æ, –∫–∞–∫ —Ä–∞–∑ –≤ —ç—Ç–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

–¢–∞–∫ —á—Ç–æ –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å `Map` –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js run
let obj = {
  name: "John",
  age: 30
};

*!*
let map = new Map(Object.entries(obj));
*/!*

alert( map.get('name') ); // John
```

–ó–¥–µ—Å—å `Object.entries` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ: `[ ["name","John"], ["age", 30] ]`. –≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `Map`.

###### Object.fromEntries: Object –∏–∑ Map

–ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –≤–∏–¥–µ–ª–∏, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å `Map` –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ `Object.entries(obj)`.

–ï—Å—Ç—å –º–µ—Ç–æ–¥ `Object.fromEntries`, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ: –ø–æ–ª—É—á–∏–≤ –º–∞—Å—Å–∏–≤ –ø–∞—Ä –≤–∏–¥–∞ `[–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]`, –æ–Ω —Å–æ–∑–¥–∞—ë—Ç –∏–∑ –Ω–∏—Ö –æ–±—ä–µ–∫—Ç:

```js run
let prices = Object.fromEntries([
  ['banana', 1],
  ['orange', 2],
  ['meat', 4]
]);

// prices = { banana: 1, orange: 2, meat: 4 }

alert(prices.orange); // 2
```

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Object.fromEntries`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–∑ `Map`.

–ö –ø—Ä–∏–º–µ—Ä—É, —É –Ω–∞—Å –¥–∞–Ω–Ω—ã–µ –≤ `Map`, –Ω–æ –∏—Ö –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞–µ—Ç –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç.

–í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:

```js run
let map = new Map();
map.set('banana', 1);
map.set('orange', 2);
map.set('meat', 4);

*!*
let obj = Object.fromEntries(map.entries()); // —Å–æ–∑–¥–∞—ë–º –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç (*)
*/!*

// –≥–æ—Ç–æ–≤–æ!
// obj = { banana: 1, orange: 2, meat: 4 }

alert(obj.orange); // 2
```

–í—ã–∑–æ–≤ `map.entries()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø–∞—Ä –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–∞–∫ —Ä–∞–∑ –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è `Object.fromEntries`.

–ú—ã –º–æ–≥–ª–∏ –±—ã –Ω–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä–æ–∫—É `(*)` –µ—â—ë –∫–æ—Ä–æ—á–µ:

```js
let obj = Object.fromEntries(map); // —É–±—Ä–∞—Ç—å .entries()
```

–≠—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —Ç–∞–∫ –∫–∞–∫ `Object.fromEntries` –æ–∂–∏–¥–∞–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –º–∞—Å—Å–∏–≤. –ê –ø–µ—Ä–µ–±–æ—Ä `map` –∫–∞–∫ —Ä–∞–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ä—ã –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ `map.entries()`. –¢–∞–∫ —á—Ç–æ –≤ –∏—Ç–æ–≥–µ —É –Ω–∞—Å –±—É–¥–µ—Ç –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å —Ç–µ–º–∏ –∂–µ –∫–ª—é—á–∞–º–∏/–∑–Ω–∞—á–µ–Ω–∏—è–º–∏, —á—Ç–æ –∏ –≤ `map`.

###### Set

–û–±—ä–µ–∫—Ç [`Set`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set) -- —ç—Ç–æ –æ—Å–æ–±—ã–π –≤–∏–¥ –∫–æ–ª–ª–µ–∫—Ü–∏–∏: "–º–Ω–æ–∂–µ—Å—Ç–≤–æ" –∑–Ω–∞—á–µ–Ω–∏–π (–±–µ–∑ –∫–ª—é—á–µ–π), –≥–¥–µ –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

–ï–≥–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —ç—Ç–æ:

- [`new Set(iterable)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Set) -- —Å–æ–∑–¥–∞—ë—Ç `Set`, –∏ –µ—Å–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –±—ã–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç (–æ–±—ã—á–Ω–æ —ç—Ç–æ –º–∞—Å—Å–∏–≤), —Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ω–æ–≤—ã–π `Set`.
- [`set.add(value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/add) -- –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –æ–Ω–æ —É–∂–µ –µ—Å—Ç—å, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç `set`.
- [`set.delete(value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/delete) -- —É–¥–∞–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ `value` –±—ã–ª–æ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞, –∏–Ω–∞—á–µ `false`.
- [`set.has(value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/has) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ, –∏–Ω–∞—á–µ `false`.
- [`set.clear()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/clear) -- —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∏–º–µ—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è.
- [`set.size`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/size) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.

–û—Å–Ω–æ–≤–Ω–∞—è "–∏–∑—é–º–∏–Ω–∫–∞" - —ç—Ç–æ —Ç–æ, —á—Ç–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö `set.add()` —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∑–∞ —Å—á—ë—Ç —ç—Ç–æ–≥–æ –∫–∞–∫ —Ä–∞–∑ –∏ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –æ–∂–∏–¥–∞–µ–º –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π, –∏ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∏—Ö —Å–ø–∏—Å–æ–∫. –ù–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤–∏–∑–∏—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –¥—É–±–ª–∏–∫–∞—Ç–∞–º. –ö–∞–∂–¥—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

–ú–Ω–æ–∂–µ—Å—Ç–≤–æ `Set` - –∫–∞–∫ —Ä–∞–∑ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ:

```js run
let set = new Set();

let john = { name: "John" };
let pete = { name: "Pete" };
let mary = { name: "Mary" };

// —Å—á–∏—Ç–∞–µ–º –≥–æ—Å—Ç–µ–π, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
set.add(john);
set.add(pete);
set.add(mary);
set.add(john);
set.add(mary);

// set —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ 3 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è
alert(set.size); // 3

for (let user of set) {
  alert(user.name); // John (–ø–æ—Ç–æ–º Pete –∏ Mary)
}
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤—É `Set` –º–æ–∂–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥–æ—Å—Ç–µ–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–∂–µ –∏–º–µ—é—â–µ–≥–æ—Å—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é [arr.find](mdn:js/Array/find). –ù–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç —Ö—É–∂–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ `arr.find` –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–µ—Å—å –º–∞—Å—Å–∏–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞. –ú–Ω–æ–∂–µ—Å—Ç–≤–æ `Set` –ª—É—á—à–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–π, –æ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å.

###### –ü–µ—Ä–µ–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞ Set

–ú—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–±—Ä–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ–±—ä–µ–∫—Ç–∞ set –∫–∞–∫ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `for..of`, —Ç–∞–∫ –∏ –∏—Å–ø–æ–ª—å–∑—É—è `forEach`:

```js run
let set = new Set(["–∞–ø–µ–ª—å—Å–∏–Ω", "—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω"]);

for (let value of set) alert(value);

// —Ç–æ –∂–µ —Å–∞–º–æ–µ —Å forEach:
set.forEach((value, valueAgain, set) => {
  alert(value);
});
```

–ó–∞–º–µ—Ç–∏–º –∑–∞–±–∞–≤–Ω—É—é –≤–µ—â—å. –§—É–Ω–∫—Ü–∏—è –≤ `forEach` —É `Set` –∏–º–µ–µ—Ç 3 –∞—Ä–≥—É–º–µ–Ω—Ç–∞: –∑–Ω–∞—á–µ–Ω–∏–µ `value`, –ø–æ—Ç–æ–º *—Å–Ω–æ–≤–∞ —Ç–æ –∂–µ —Å–∞–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ* `valueAgain`, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ü–µ–ª–µ–≤–æ–π –æ–±—ä–µ–∫—Ç. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–∞–∫, –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–≤–∞–∂–¥—ã.

–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –æ–±—ä–µ–∫—Ç–æ–º `Map`, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–æ–ª–±—ç–∫ `forEach` –∏–º–µ–µ—Ç 3 –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –í—ã–≥–ª—è–¥–∏—Ç –Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å `Map` –Ω–∞ `Set` –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

`Set` –∏–º–µ–µ—Ç —Ç–µ –∂–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —á—Ç–æ –∏ `Map`:

- [`set.values()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/values) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π,
- [`set.keys()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/keys) -- —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ `set.values()`, –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å `Map`,
- [`set.entries()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/entries) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –ø–∞—Ä –≤–∏–¥–∞ `[–∑–Ω–∞—á–µ–Ω–∏–µ, –∑–Ω–∞—á–µ–Ω–∏–µ]`, –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å `Map`.

###### –ò—Ç–æ–≥–æ

[`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) -- –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ.

–ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞:

- [`new Map([iterable])`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/Map) -- —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç (–æ–±—ã—á–Ω–æ –º–∞—Å—Å–∏–≤) –∏–∑ –ø–∞—Ä `[–∫–ª—é—á,–∑–Ω–∞—á–µ–Ω–∏–µ]` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
- [`map.set(key, value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/set) -- –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ –∫–ª—é—á—É `key` –∑–Ω–∞—á–µ–Ω–∏–µ `value`.
- [`map.get(key)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –∏–ª–∏ `undefined`, –µ—Å–ª–∏ –∫–ª—é—á `key` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
- [`map.has(key)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/has) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –∫–ª—é—á `key` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –∏–Ω–∞—á–µ `false`.
- [`map.delete(key)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/delete) -- —É–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∫–ª—é—á—É `key`.
- [`map.clear()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/clear) -- –æ—á–∏—â–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ—Ç –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
- [`map.size`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/size) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–û—Ç–ª–∏—á–∏—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `Object`:

- –ß—Ç–æ —É–≥–æ–¥–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–ª—é—á–æ–º, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –æ–±—ä–µ–∫—Ç—ã.
- –ï—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Å–≤–æ–π—Å—Ç–≤–æ `size`.

[`Set`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set) -- –∫–æ–ª–ª–µ–∫—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ "–º–Ω–æ–∂–µ—Å—Ç–≤–æ".

–ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞:

- [`new Set(iterable)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Set) -- —Å–æ–∑–¥–∞—ë—Ç `Set`, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
- [`set.add(value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/add) -- –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –æ–Ω–æ —É–∂–µ –µ—Å—Ç—å, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç `set`.
- [`set.delete(value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/delete) -- —É–¥–∞–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true` –µ—Å–ª–∏ `value` –±—ã–ª–æ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞, –∏–Ω–∞—á–µ `false`.
- [`set.has(value)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/has) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ, –∏–Ω–∞—á–µ `false`.
- [`set.clear()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/clear) -- —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∏–º–µ—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è.
- [`set.size`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/size) -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.

–ü–µ—Ä–µ–±–æ—Ä `Map` –∏ `Set` –≤—Å–µ–≥–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ç–∞–∫ —á—Ç–æ –Ω–µ–ª—å–∑—è —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ -- –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–æ –µ–≥–æ –Ω–æ–º–µ—Ä—É –Ω–µ–ª—å–∑—è.


###### WeakMap –∏ WeakSet

–ö–∞–∫ –º—ã –∑–Ω–∞–µ–º –∏–∑ –≥–ª–∞–≤—ã <info:garbage-collection>, –¥–≤–∏–∂–æ–∫ JavaScript —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–Ω–∏ –¥–æ—Å—Ç–∏–∂–∏–º—ã (—Ç–æ –µ—Å—Ç—å, —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã).

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js
let john = { name: "John" };

// –æ–±—ä–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è john ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ–≥–æ

// –ø–µ—Ä–µ–ø–∏—à–µ–º —Å—Å—ã–ª–∫—É
john = null;

*!*
// –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –ø–∞–º—è—Ç–∏
*/!*
```

–û–±—ã—á–Ω–æ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞, —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å—á–∏—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ —ç—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –ø–æ–º–µ—Å—Ç–∏–º –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤, —Ç–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –º–∞—Å—Å–∏–≤ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–±—ä–µ–∫—Ç —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –¥—Ä—É–≥–∏—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –Ω–µ–≥–æ –Ω–µ—Ç.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js
let john = { name: "John" };

let array = [ john ];

john = null; // –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç

*!*
// –æ–±—ä–µ–∫—Ç john —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ, –ø–æ—ç—Ç–æ–º—É –æ–Ω –Ω–µ –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞
// –º—ã –º–æ–∂–µ–º –≤–∑—è—Ç—å –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ array[0]
*/!*
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –µ—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç –∫–∞–∫ –∫–ª—é—á –≤ `Map`, —Ç–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç `Map`, —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç. –û–Ω –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js
let john = { name: "John" };

let map = new Map();
map.set(john, "...");

john = null; // –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç

*!*
// –æ–±—ä–µ–∫—Ç john —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ `Map`,
// –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ map.keys()
*/!*
```

`WeakMap` - –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –¥—Ä—É–≥–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ —ç—Ç–æ–º –∞—Å–ø–µ–∫—Ç–µ. –û–Ω–∞ –Ω–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞, –∫–æ–≥–¥–∞ —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –≤—ã—Å—Ç—É–ø–∞—é—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π.

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö.

###### WeakMap

–ü–µ—Ä–≤–æ–µ –µ–≥–æ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `Map` –≤ —Ç–æ–º, —á—Ç–æ –∫–ª—é—á–∏ –≤ `WeakMap` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–∞–º–∏, –∞ –Ω–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

```js run
let weakMap = new WeakMap();

let obj = {};

weakMap.set(obj, "ok"); // —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞)

*!*
// –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞
weakMap.set("test", "Whoops"); // –û—à–∏–±–∫–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ "test" –Ω–µ –æ–±—ä–µ–∫—Ç
*/!*
```

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –∏ –µ—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç, —Ç–æ –æ–Ω –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –ø–∞–º—è—Ç–∏ (–∏ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `WeakMap`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

```js
let john = { name: "John" };

let weakMap = new WeakMap();
weakMap.set(john, "...");

john = null; // –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç

// –æ–±—ä–µ–∫—Ç john —É–¥–∞–ª—ë–Ω –∏–∑ –ø–∞–º—è—Ç–∏!
```

–°—Ä–∞–≤–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –æ–±—ã—á–Ω–æ–≥–æ `Map`, –ø—Ä–∏–º–µ—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª –ø—Ä–∏–≤–µ–¥—ë–Ω —Ä–∞–Ω–µ–µ. –¢–µ–ø–µ—Ä—å `john` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–∫ –∫–ª—é—á –≤ `WeakMap` –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω –æ—Ç—Ç—É–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

`WeakMap` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–±–æ—Ä –∏ –º–µ—Ç–æ–¥—ã `keys()`, `values()`, `entries()`, —Ç–∞–∫ —á—Ç–æ –Ω–µ—Ç —Å–ø–æ—Å–æ–±–∞ –≤–∑—è—Ç—å –≤—Å–µ –∫–ª—é—á–∏ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –Ω–µ—ë.

–í `WeakMap` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

- `weakMap.get(key)`
- `weakMap.set(key, value)`
- `weakMap.delete(key)`
- `weakMap.has(key)`

–ö —á–µ–º—É —Ç–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è? –ò–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º (–∫–∞–∫ –æ–±—ä–µ–∫—Ç `john` –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ), —Ç–æ –æ–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—ë–Ω —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞. –ù–æ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, *–≤ –∫–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —ç—Ç–∞ –æ—á–∏—Å—Ç–∫–∞*.

–†–µ—à–µ–Ω–∏–µ –æ —Ç–æ–º, –∫–æ–≥–¥–∞ –¥–µ–ª–∞—Ç—å —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∏–∂–æ–∫ JavaScript. –û–Ω –º–æ–∂–µ—Ç –ø–æ—Å—á–∏—Ç–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –∫–∞–∫ —É–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, —Ç–∞–∫ –∏ –æ—Ç–ª–æ–∂–∏—Ç—å —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é, —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞ —Ä–∞–∑ –ø–æ–∑–∂–µ. –¢–∞–∫ —á—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `WeakMap` –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ. –î–≤–∏–∂–æ–∫ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ—á–∏—Å—Ç–∫—É —Å—Ä–∞–∑—É –∏–ª–∏ –ø–æ—Ç–æ–º, –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —á–∞—Å—Ç–∏—á–Ω–æ. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Å—Ä–∞–∑—É –∫–ª—é—á–∞–º/–∑–Ω–∞—á–µ–Ω–∏—è–º –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.

–ù–æ –¥–ª—è —á–µ–≥–æ –∂–µ –Ω–∞–º –Ω—É–∂–Ω–∞ —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö?

###### –ü—Ä–∏–º–µ—Ä: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–í –æ—Å–Ω–æ–≤–Ω–æ–º, `WeakMap` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ *–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö*.

–ï—Å–ª–∏ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –æ–±—ä–µ–∫—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π "–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç" –¥—Ä—É–≥–æ–º—É –∫–æ–¥—É, –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –∏ —Ö–æ—Ç–∏–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —É —Å–µ–±—è –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–µ–≥–æ, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –ª–∏—à—å –ø–æ–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç, —Ç–æ `WeakMap` - –∫–∞–∫ —Ä–∞–∑ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ.

–ú—ã –∫–ª–∞–¥—ë–º —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ `WeakMap`, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—ä–µ–∫—Ç –∫–∞–∫ –∫–ª—é—á, –∏ –∫–æ–≥–¥–∞ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–¥–∞–ª–∏—Ç –æ–±—ä–µ–∫—Ç—ã –∏–∑ –ø–∞–º—è—Ç–∏, –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ –¥–∞–Ω–Ω—ã–µ —Ç–æ–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—á–µ–∑–Ω—É—Ç.

```js
weakMap.set(john, "—Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã");
// –µ—Å–ª–∏ john —É–º—Ä—ë—Ç, "—Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã
```

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä.

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–µ–¥—ë—Ç —É—á—ë—Ç –ø–æ—Å–µ—â–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `Map`: –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–æ–º, –∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–∑–∏—Ç–æ–≤ -- –∑–Ω–∞—á–µ–Ω–∏–µ–º. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å –ø–æ–∫–∏–¥–∞–µ—Ç (–µ–≥–æ –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞), —Ç–æ –±–æ–ª—å—à–µ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—á—ë—Ç—á–∏–∫ –ø–æ—Å–µ—â–µ–Ω–∏–π.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—á—ë—Ç—á–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Map`:

```js
// üìÅ visitsCount.js
let visitsCountMap = new Map(); // map: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å => —á–∏—Å–ª–æ –≤–∏–∑–∏—Ç–æ–≤

// —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
function countUser(user) {
  let count = visitsCountMap.get(user) || 0;
  visitsCountMap.set(user, count + 1);
}
```

–ê –≤–æ—Ç –¥—Ä—É–≥–∞—è —á–∞—Å—Ç—å –∫–æ–¥–∞, –≤–æ–∑–º–æ–∂–Ω–æ, –≤ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `countUser`:

```js
// üìÅ main.js
let john = { name: "John" };

countUser(john); // –≤–µ–¥—ë–º –ø–æ–¥—Å—á—ë—Ç –ø–æ—Å–µ—â–µ–Ω–∏–π

// –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫–∏–Ω—É–ª –Ω–∞—Å
john = null;
```

–¢–µ–ø–µ—Ä—å –æ–±—ä–µ–∫—Ç `john` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª—ë–Ω —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞, –Ω–æ –æ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –ø–∞–º—è—Ç–∏, —Ç–∞–∫ –∫–∞–∫ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–æ–º –≤ `visitsCountMap`.

–ù–∞–º –Ω—É–∂–Ω–æ –æ—á–∏—â–∞—Ç—å `visitsCountMap` –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–Ω–∞—á–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è –±—É–¥–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ —Ä–∞—Å—Ç–∏. –ü–æ–¥–æ–±–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—É–¥–æ–±–Ω–∞ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ —Å–ª–æ–∂–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü—Ä–æ–±–ª–µ–º—ã –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `WeakMap`:

```js
// üìÅ visitsCount.js
let visitsCountMap = new WeakMap(); // map: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å => —á–∏—Å–ª–æ –≤–∏–∑–∏—Ç–æ–≤

// —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
function countUser(user) {
  let count = visitsCountMap.get(user) || 0;
  visitsCountMap.set(user, count + 1);
}
```

–¢–µ–ø–µ—Ä—å –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –æ—á–∏—â–∞—Ç—å `visitsCountMap`. –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–±—ä–µ–∫—Ç  `john` —Å—Ç–∞–ª –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º –¥—Ä—É–≥–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, –∫—Ä–æ–º–µ –∫–∞–∫ —á–µ—Ä–µ–∑ `WeakMap`, –æ–Ω —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏ –≤–º–µ—Å—Ç–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ —Ç–∞–∫–æ–º—É –∫–ª—é—á—É –∏–∑ `WeakMap`.

###### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

–î—Ä—É–≥–∞—è —á–∞—Å—Ç–∞—è —Å—Ñ–µ—Ä–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è -- —ç—Ç–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –≥–¥–µ-—Ç–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å—Å—è ("–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å—Å—è") –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞–ª—å–Ω–µ–π—à–∏–µ –µ—ë –≤—ã–∑–æ–≤—ã –Ω–∞ —Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ –º–æ–≥–ª–∏ –ø—Ä–æ—Å—Ç–æ –±—Ä–∞—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—è –µ–≥–æ.

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Map`, –≤–æ—Ç —Ç–∞–∫:

```js run
// üìÅ cache.js
let cache = new Map();

// –≤—ã—á–∏—Å–ª—è–µ–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
function process(obj) {
  if (!cache.has(obj)) {
    let result = /* —Ç—É—Ç –∫–∞–∫–∏–µ-—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ */ obj;

    cache.set(obj, result);
  }

  return cache.get(obj);
}

*!*
// –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ–º process() –≤ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ:
*/!*

// üìÅ main.js
let obj = {/* –¥–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–∞–∫–æ–π-—Ç–æ –æ–±—ä–µ–∫—Ç */};

let result1 = process(obj); // –≤—ã—á–∏—Å–ª–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç

// ...–ø–æ–∑–∂–µ, –∏–∑ –¥—Ä—É–≥–æ–≥–æ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ...
let result2 = process(obj); // —Ä–∞–Ω–µ–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∑—è—Ç –∏–∑ –∫–µ—à–∞

// ...–ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω:
obj = null;

alert(cache.size); // 1 (–£–ø—Å! –û–±—ä–µ–∫—Ç –≤—Å—ë –µ—â—ë –≤ –∫–µ—à–µ, –∑–∞–Ω–∏–º–∞–µ—Ç –ø–∞–º—è—Ç—å!)
```

–ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã `process(obj)` —Å —Ç–µ–º –∂–µ —Å–∞–º—ã–º –æ–±—ä–µ–∫—Ç–æ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤–µ–¥—É—Ç –∫ —Ç–æ–º—É, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –∞ –∑–∞—Ç–µ–º –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã –±–µ—Ä—É—Ç –µ–≥–æ –∏–∑ –∫–µ—à–∞. –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Ä—É—á–Ω—É—é –æ—á–∏—â–∞—Ç—å `cache` –æ—Ç —Å—Ç–∞–≤—à–∏—Ö –Ω–µ–Ω—É–∂–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤.

–ù–æ –µ—Å–ª–∏ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `WeakMap` –≤–º–µ—Å—Ç–æ `Map`, —Ç–æ —ç—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∏—Å—á–µ–∑–Ω–µ—Ç: –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –ø–∞–º—è—Ç–∏ —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞.

```js run
// üìÅ cache.js
*!*
let cache = new WeakMap();
*/!*

// –≤—ã—á–∏—Å–ª—è–µ–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
function process(obj) {
  if (!cache.has(obj)) {
    let result = /* –≤—ã—á–∏—Å–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ */ obj;

    cache.set(obj, result);
  }

  return cache.get(obj);
}

// üìÅ main.js
let obj = {/* –∫–∞–∫–æ–π-—Ç–æ –æ–±—ä–µ–∫—Ç */};

let result1 = process(obj);
let result2 = process(obj);

// ...–ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω:
obj = null;

// –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∏—Ç—å cache.size, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ WeakMap,
// –Ω–æ –æ–Ω —Ä–∞–≤–µ–Ω 0 –∏–ª–∏ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω 0
// –ö–æ–≥–¥–∞ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–¥–∞–ª—è–µ—Ç obj, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞ —Ç–æ–∂–µ —É–¥–∞–ª—è—é—Ç—Å—è
```

###### WeakSet

–ö–æ–ª–ª–µ–∫—Ü–∏—è `WeakSet` –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ—Ö–æ–∂–µ:

- –û–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ `Set`, –Ω–æ –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –≤ `WeakSet` —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã (–Ω–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è).
- –û–±—ä–µ–∫—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ —Ç–æ–ª—å–∫–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≥–¥–µ-—Ç–æ –µ—â—ë.
- –ö–∞–∫ –∏ `Set`, –æ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `add`, `has` –∏ `delete`, –Ω–æ –Ω–µ `size`, `keys()` –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º–æ–π.

–ë—É–¥—É—á–∏ "—Å–ª–∞–±–æ–π" –≤–µ—Ä—Å–∏–µ–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –æ–Ω–∞ —Ç–æ–∂–µ —Å–ª—É–∂–∏—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –ù–æ –Ω–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∞ —Å–∫–æ—Ä–µ–µ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π —Ç–∏–ø–∞ "–¥–∞/–Ω–µ—Ç". –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ `WeakSet` –º–æ–∂–µ—Ç —á—Ç–æ-—Ç–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞–º –æ–± –æ–±—ä–µ–∫—Ç–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ `WeakSet` –¥–ª—è —É—á—ë—Ç–∞ —Ç–µ—Ö, –∫—Ç–æ –ø–æ—Å–µ—â–∞–ª –Ω–∞—à —Å–∞–π—Ç:

```js run
let visitedSet = new WeakSet();

let john = { name: "John" };
let pete = { name: "Pete" };
let mary = { name: "Mary" };

visitedSet.add(john); // John –∑–∞—Ö–æ–¥–∏–ª –∫ –Ω–∞–º
visitedSet.add(pete); // –ø–æ—Ç–æ–º Pete
visitedSet.add(john); // John —Å–Ω–æ–≤–∞

// visitedSet —Å–µ–π—á–∞—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

// –ø—Ä–æ–≤–µ—Ä–∏–º, –∑–∞—Ö–æ–¥–∏–ª –ª–∏ John?
alert(visitedSet.has(john)); // true

// –ø—Ä–æ–≤–µ—Ä–∏–º, –∑–∞—Ö–æ–¥–∏–ª–∞ –ª–∏ Mary?
alert(visitedSet.has(mary)); // false

john = null;

// —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö visitedSet –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–æ–±—ä–µ–∫—Ç john –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ visitedSet)
```

–ù–∞–∏–±–æ–ª–µ–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º `WeakMap` –∏ `WeakSet` —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –∏—Ö –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–±—Ä–∞—Ç—å –∏–ª–∏ –≤–∑—è—Ç—å –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞, –Ω–æ –Ω–µ –º–µ—à–∞–µ—Ç `WeakMap/WeakSet` –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏—Ö –≥–ª–∞–≤–Ω—É—é –∑–∞–¥–∞—á—É -- –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∏–∑ –∫–∞–∫–∏—Ö-—Ç–æ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç –≤ –∫–æ–¥–µ.

###### –ò—Ç–æ–≥–æ

`WeakMap` -- —ç—Ç–æ `Map`-–ø–æ–¥–æ–±–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—â–∞—è –∏—Ö –≤–º–µ—Å—Ç–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏ –∏–Ω—ã–º–∏ –ø—É—Ç—è–º–∏.

`WeakSet` -- —ç—Ç–æ `Set`-–ø–æ–¥–æ–±–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã –∏ —É–¥–∞–ª—è–µ—Ç –∏—Ö, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏ –∏–Ω—ã–º–∏ –ø—É—Ç—è–º–∏.

–û–±–µ —ç—Ç–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å–æ –≤—Å–µ–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Å—Ä–∞–∑—É –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–º–µ—Ä–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –í–æ–∑–º–æ–∂–Ω—ã —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

`WeakMap` –∏ `WeakSet` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ "–æ—Å–Ω–æ–≤–Ω–æ–º—É" –º–µ—Å—Ç—É —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫—Ä–æ–º–µ –∫–∞–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –≤ `WeakMap` –∏–ª–∏ –≤ `WeakSet`, —Ç–æ –æ–Ω –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
##### –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
https://learn.javascript.ru/currying-partials
https://habr.com/ru/companies/ruvds/articles/427295/
https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%80%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5


[–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ](https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%80%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5) - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤ JavaScript, –Ω–æ –∏ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö.

–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –æ–Ω–∏ –ø—Ä–∏–Ω–∏–º–∞–ª–∏  –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ –∫–∞–∫ `f(a, b, c)`, –∞ –∫–∞–∫ `f(a)(b)(c)`.

–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é. –û–Ω–æ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –µ—ë.

–î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å, –æ —á—ë–º —Ä–µ—á—å, –∞ –ø–æ—Ç–æ–º –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.

–°–æ–∑–¥–∞–¥–∏–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `curry(f)`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `f` —Å –¥–≤—É–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, `curry(f)` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ `f(a, b)` —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –µ—ë –≤ `f(a)(b)`.

```js run
*!*
function curry(f) { // curry(f) –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
  return function(a) {
    return function(b) {
      return f(a, b);
    };
  };
}
*/!*

// –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function sum(a, b) {
  return a + b;
}

let curriedSum = curry(sum);

alert( curriedSum(1)(2) ); // 3
```

–ö–∞–∫ –≤—ã –≤–∏–¥–∏—Ç–µ, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–≤–æ–ª—å–Ω–∞ –ø—Ä–æ—Å—Ç–∞: —ç—Ç–æ –¥–≤–µ –æ–±—ë—Ä—Ç–∫–∏.

- –†–µ–∑—É–ª—å—Ç–∞—Ç `curry(func)` -- –æ–±—ë—Ä—Ç–∫–∞ `function(a)`.
- –ö–æ–≥–¥–∞ –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ `sum(1)`, –∞—Ä–≥—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –æ–±—ë—Ä—Ç–∫–∞ `function(b)`.
- –î–∞–ª–µ–µ —É–∂–µ —ç—Ç–∞ –æ–±—ë—Ä—Ç–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `2` –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –≤—ã–∑–æ–≤ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `sum`.

–ë–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä [_.curry](https://lodash.com/docs#curry) –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ lodash, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ë—Ä—Ç–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –æ–±—ã—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, —Ç–∞–∫ –∏ —á–∞—Å—Ç–∏—á–Ω–æ.

```js run
function sum(a, b) {
  return a + b;
}

let curriedSum = _.curry(sum); // –∏—Å–ø–æ–ª—å–∑—É–µ–º _.curry –∏–∑ lodash

alert( curriedSum(1, 2) ); // 3, –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ
alert( curriedSum(1)(2) ); // 3, –∞ –º–æ–∂–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ
```

###### –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ? –ó–∞—á–µ–º?

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø–æ–ª—å–∑—É –æ—Ç –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–º –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ –Ω—É–∂–µ–Ω –ø—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è `log(date, importance, message)`, –∫–æ—Ç–æ—Ä–∞—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —É —Ç–∞–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –µ—Å—Ç—å –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å—ã–ª–∞—Ç—å –ª–æ–≥–∏ –ø–æ —Å–µ—Ç–∏, –∑–¥–µ—Å—å –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `alert`:

```js
function log(date, importance, message) {
  alert(`[${date.getHours()}:${date.getMinutes()}] [${importance}] ${message}`);
}
```

–ê —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏–º–µ–Ω–∏–º –∫ –Ω–µ–π –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ!

```js
log = _.curry(log);
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ `log` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ:

```js
log(new Date(), "DEBUG", "some debug"); // log(a, b, c)
```

...–ù–æ —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç —Å –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º:

```js
log(new Date())("DEBUG")("some debug"); // log(a)(b)(c)
```

–î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —É–¥–æ–±–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ª–æ–≥–æ–≤ —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º:

```js
// logNow –±—É–¥–µ—Ç —á–∞—Å—Ç–∏—á–Ω—ã–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ log —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º
let logNow = log(new Date());

// –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë
logNow("INFO", "message"); // [HH:mm] INFO message
```

–¢–µ–ø–µ—Ä—å `logNow` - —ç—Ç–æ `log` —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º, –∏–Ω–∞—á–µ –≥–æ–≤–æ—Ä—è, "—á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–∞—è" –∏–ª–∏ "—á–∞—Å—Ç–∏—á–Ω–∞—è" —Ñ—É–Ω–∫—Ü–∏—è.

–ú—ã –º–æ–∂–µ–º –ø–æ–π—Ç–∏ –¥–∞–ª—å—à–µ –∏ —Å–¥–µ–ª–∞—Ç—å —É–¥–æ–±–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∏–º–µ–Ω–Ω–æ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤ —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º:

```js
let debugNow = logNow("DEBUG");

debugNow("message"); // [HH:mm] DEBUG message
```

–ò—Ç–∞–∫:
1. –ú—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–ª–∏ –ø–æ—Å–ª–µ –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è: `log` –≤—Å—ë —Ç–∞–∫ –∂–µ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ.
2. –ú—ã –º–æ–∂–µ–º –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∫ —Å–¥–µ–ª–∞–ª–∏ –¥–ª—è –ª–æ–≥–æ–≤ —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º.

###### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –¥–µ—Ç–∞–ª–∏, –≤–æ—Ç "–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è" —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—É—é –º—ã –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã—à–µ.

–û–Ω–∞ –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∞—è:

```js
function curry(func) {

  return function curried(...args) {
    if (args.length >= func.length) {
      return func.apply(this, args);
    } else {
      return function(...args2) {
        return curried.apply(this, args.concat(args2));
      }
    }
  };

}
```

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```js
function sum(a, b, c) {
  return a + b + c;
}

let curriedSum = curry(sum);

alert( curriedSum(1, 2, 3) ); // 6, –≤—Å—ë –µ—â—ë –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ
alert( curriedSum(1)(2,3) ); // 6, –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
alert( curriedSum(1)(2)(3) ); // 6, –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
```

–ù–æ–≤–æ–µ `curry` –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–æ–∂–Ω–æ–≤–∞—Ç–æ, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –µ–≥–æ –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å.

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ `curry(func)` -- —ç—Ç–æ –æ–±—ë—Ä—Ç–∫–∞ `curried`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```js
// func -- —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º
function curried(...args) {
  if (args.length >= func.length) { // (1)
    return func.apply(this, args);
  } else {
    return function pass(...args2) { // (2)
      return curried.apply(this, args.concat(args2));
    }
  }
};
```

–ö–æ–≥–¥–∞ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º –µ—ë, –µ—Å—Ç—å –¥–≤–µ –≤–µ—Ç–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `if`:

1. –í—ã–∑–≤–∞—Ç—å —Å–µ–π—á–∞—Å: –µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ `args` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (`func.length`) –∏–ª–∏ –±–æ–ª—å—à–µ, —Ç–æ–≥–¥–∞ –≤—ã–∑–æ–≤ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –Ω–µ–π.
2. –ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ `func` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –¥—Ä—É–≥–∞—è –æ–±—ë—Ä—Ç–∫–∞ `pass`, –∫–æ—Ç–æ—Ä–∞—è —Å–Ω–æ–≤–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç `curried`, –ø–µ—Ä–µ–¥–∞–≤ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–µ —Å –Ω–æ–≤—ã–º–∏. –ó–∞—Ç–µ–º –ø—Ä–∏ –Ω–æ–≤–æ–º –≤—ã–∑–æ–≤–µ –º—ã –æ–ø—è—Ç—å –ø–æ–ª—É—á–∏–º –ª–∏–±–æ –Ω–æ–≤–æ–µ —á–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ) –ª–∏–±–æ, –Ω–∞–∫–æ–Ω–µ—Ü, —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –≤ —Å–ª—É—á–∞–µ `sum(a, b, c)`. –£ –Ω–µ—ë —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, —Ç–∞–∫ —á—Ç–æ `sum.length = 3`.

–î–ª—è –≤—ã–∑–æ–≤–∞ `curried(1)(2)(3)`:

1. –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ `curried(1)` –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç `1` –≤ —Å–≤–æ—ë–º –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ë—Ä—Ç–∫—É `pass`.
2. –û–±—ë—Ä—Ç–∫–∞ `pass` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å `(2)`: –æ–Ω–∞ –±–µ—Ä—ë—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (`1`), –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö —Å —Ç–µ–º, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–∞ —Å–∞–º–∞ `(2)` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `curried(1, 2)` —Å–æ –≤—Å–µ–º–∏ –Ω–∏–º–∏. –¢–∞–∫ –∫–∞–∫ —á–∏—Å–ª–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤—Å—ë –µ—â—ë –º–µ–Ω—å—à–µ 3-—Ö, `curry` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `pass`.
3. –û–±—ë—Ä—Ç–∫–∞ `pass` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–Ω–æ–≤–∞ —Å `(3)`. –î–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—ã–∑–æ–≤–∞ `pass(3)` –±–µ—Ä—ë—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (`1`, `2`) –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –Ω–∏–º `3`, –¥–µ–ª–∞—è –≤—ã–∑–æ–≤ `curried(1, 2, 3)` -- –Ω–∞–∫–æ–Ω–µ—Ü 3 –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –∏ –æ–Ω–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

–ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å–ø–∏—à–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤ –Ω–∞ –±—É–º–∞–≥–µ.

```smart header="–¢–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤"
–î–ª—è –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

–§—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–∏–ø–∞ `f(...args)`, —Ç–∞–∫ –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è.
```

```smart header="–ù–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ, —á–µ–º –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ"
–ü–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é, –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å `sum(a, b, c)` –≤ `sum(a)(b)(c)`.

–ù–æ, –∫–∞–∫ –±—ã–ª–æ –æ–ø–∏—Å–∞–Ω–æ, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –≤ JavaScript –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã: –æ–Ω–∏ —Ç–∞–∫–∂–µ –æ—Å—Ç–∞–≤–ª—è—é—Ç –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.
```

###### –ò—Ç–æ–≥–æ

*–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ* -- —ç—Ç–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –≤—ã–∑–æ–≤ `f(a, b, c)` –≤ `f(a)(b)(c)`. –í JavaScript —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ã—á–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ–±–æ–∏–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏: –ª–∏–±–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ª–∏–±–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ö–∞–∫ –º—ã –≤–∏–¥–µ–ª–∏ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö —Å –ª–æ–≥–∞–º–∏: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `log(date, importance, message)` –ø–æ—Å–ª–µ –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–º —á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –æ–¥–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º, –∫–∞–∫ `log(date)` –∏–ª–∏ –¥–≤—É–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –∫–∞–∫ `log(date, importance)`.
##### webworkers
https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers
https://doka.guide/js/web-workers/
https://habr.com/ru/articles/767494/

**Web Workers**¬†‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è¬†–∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤¬†—Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ. –ü–æ—Ç–æ–∫ Worker'–∞ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –±–µ–∑¬†–≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤¬†–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.  
  
–ò–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫¬†_Navigator, XMLHttpRequest, Array, Date, Math, String, setTimeout(), setInterval().  
_  
–ò–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫¬†DOM, –≤–º–µ—Å—Ç–æ window¬†‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç self, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫¬†cookies/localStorage/sessionStorage, —Ç–∞–∫–∂–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–∞—Å—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö API, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–æ—Å—Ç—É–ø –∫¬†–∫–∞–º–µ—Ä–µ/–º–∏–∫—Ä–æ—Ñ–æ–Ω—É. –¢–∞–∫–∂–µ —É¬†–Ω–∏—Ö –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ¬†—Ä–µ—Å—É—Ä—Å–∞–º –æ—Ç¬†—Å–∞–º–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞.  
  
–¢–∞–∫–∂–µ Web Workers –∏–º–µ—é—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π event loop, –Ω–æ¬†–æ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –ø–æ‚Äë–¥—Ä—É–≥–æ–º—É, –≤¬†–æ—Ç–ª–∏—á–∏–∏ –æ—Ç¬†–≥–ª–∞–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞.

–í¬†Web Workers —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è¬†–æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –∑–∞–¥–∞—á, –≤–∫–ª—é—á–∞—è —Å–æ–±—ã—Ç–∏—è, —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞¬†‚Äî¬†_WorkerGlobalScope_. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤¬†–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –≤¬†–æ—Ç–≤–µ—Ç –Ω–∞¬†—Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏—è.

–ï—Å–ª–∏ —á—É—Ç—å –ø—Ä–æ—â–µ, —Ç–æ Web Workers¬†‚Äî —ç—Ç–æ —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å¬†–æ—Å–Ω–æ–≤–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∫–∏–µ‚Äë—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ¬†–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤–µ–Ω–Ω–æ –Ω–µ¬†–º–µ—à–∞—é—â–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å¬†–Ω–∞—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π.
> **Dedicated Worker**¬†‚Äî worker, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç¬†_–æ—Ç–¥–µ–ª—å–Ω—ã–π_¬†–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å¬†–æ—Å–Ω–æ–≤–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º –≤¬†–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –í¬†–æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è¬†–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –Ω–µ¬†–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

> **Shared Worker**¬†‚Äî worker, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç¬†_–æ–±—â–∏–π_¬†–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–ª—è¬†–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–∫–æ–Ω, –≤–∫–ª–∞–¥–æ–∫ –∏–ª–∏¬†—Ñ—Ä–µ–π–º–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í¬†–æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è¬†–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –≤¬†—Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø –∫¬†–¥–∞–Ω–Ω—ã–º –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—é –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ¬†–¥–µ–ª–∞–µ—Ç –µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–º –≤¬†—Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –≥–¥–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏¬†–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å¬†–¥—Ä—É–≥–æ–º.


###### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Dedicated Workers ?

–í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏¬†`postMessage()`¬†–∏ listener¬†`onmessage`, –¥–∞–ª–µ–µ –º—ã –ø–æ–¥—Ä–æ–±–Ω–æ –∏—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º. –û–±—â–∏–π workflow –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Dedicated Worker —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
    
2. –î–µ–ª–∞–µ–º¬†`postMessage`¬†–∏–∑ Main Thread
    
3. –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç listener –≤ Worker Thread
    
4. Worker –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã –Ω–∞–ø–∏—Å–∞–ª–∏
    
5. Worker —Å –ø–æ–º–æ—â—å—é¬†`postMessage`¬†–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ Main Thread
    
6. –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º listener –≤ Main Thread
    

![–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Main Thread -> Worker](https://habrastorage.org/r/w1560/getpro/habr/upload_files/029/44c/197/02944c197c330e0c73c14887019f862b.png "–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Main Thread -> Worker")

–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Main Thread -> Worker

–ú—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –ø–æ—Ç–æ–∫–æ–≤(–ø—Ä–∏ —ç—Ç–æ–º, –∫–∞–∂–¥—ã–π –∏–∑¬†–Ω–∏—Ö –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç), –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã —Ö–≤–∞—Ç–∏–ª–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –ü–ö –∏ –º—ã –Ω–µ¬†—É–ø–µ—Ä–ª–∏—Å—å –≤¬†–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞.

> **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Dedicated Worker**

–î–ª—è¬†–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞ Worker'a, –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ–º –≤¬†–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—É—Ç—å –¥–æ¬†—Ñ–∞–π–ª–∞ –Ω–∞—à–µ–≥–æ Worker —Ñ–∞–π–ª–∞

```
// new Worker('–ü—É—Ç—å –¥–æ worker —Ñ–∞–π–ª–∞, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞')const worker = new Worker('worker.js');
```

Worker –º—ã –ø–æ–ª—É—á–∏–ª–∏, –¥–∞–ª–µ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è¬†–æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏

> `postMessage(message: any, transfer: Transferable[]): void` ‚Äî –º–µ—Ç–æ–¥ –¥–ª—è¬†–æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑¬†–æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤¬†–¥—Ä—É–≥–æ–π.

- **message**¬†‚Äî –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏¬†–æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç¬†–±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω¬†[–∞–ª–≥–æ—Ä–∏—Ç–º–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è](https://developer.mozilla.org/ru/docs/Web/API/Web_Workers_API/Structured_clone_algorithm), –µ—Å–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ, —Ç–æ —ç—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–µ–µ —á–µ–º JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä –æ–Ω –º–æ–∂–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å¬†‚Äî Blob, File, ImageData, Buffers, –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏, –Ω–æ¬†–Ω–µ¬†—É–º–µ–µ—Ç –≤¬†–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –∏ –Ω–µ¬†—Ä–∞–±–æ—Ç–∞–µ—Ç —Å¬†Error, Function, DOM Elements.
    

- **transfer**¬†‚Äî –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤(–æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç¬†–±—ã—Ç—å —Ç–æ–ª—å–∫–æ¬†_ArrayBuffer_¬†|¬†_MessagePort_¬†|¬†_ImageBitmap_), –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–Ω–µ—Å—É—Ç—Å—è –≤¬†–∫–æ–Ω—Ç–µ–∫—Å—Ç worker –∏ –±–æ–ª—å—à–µ –Ω–µ¬†–±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤¬†–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ø—Ä–∏¬†–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –Ω–µ¬†–ø–æ—Ç–µ—Ä—è—Ç—å –≤¬†–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–∞–º—è—Ç–∏.
    

```
// –¢—É—Ç –º—ã –ø–µ—Ä–µ–¥–∞–µ–º buffer –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç worker, –≤ —ç—Ç–æ–º —Å–∫—Ä–∏–ø—Ç–µ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω const buffer = new ArrayBuffer(42);const data = { text: 'Hello, World!', buffer };worker.postMessage(data, [buffer]);
```

> `onmessage: ((this: Worker, event: MessageEvent) => any) | null` - —Å–ª—É—à–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∫–∏ message.

- **event**¬†‚Äî¬†–æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç worker/main thread
    

```
interface MessageEvent<T = any> extends Event {    // –ü–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ    readonly data: T;    // –ü–æ—Å–ª–µ–¥–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è (event ID) –≤ —Å–ª—É—á–∞–µ —Å–æ–±—ã—Ç–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–æ–º    readonly lastEventId: string;    // Origin —Å–æ–æ–±—â–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–æ–±—ã—Ç–∏—è–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ cross-document messaging, –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è.    readonly origin: string;    // –ü–æ—Ä—Ç—ã, –ø–æ —Å—É—Ç–∏, –æ—Ç–∫—Ä—ã—Ç—ã–µ –Ω–∞–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –≤–µ–±-–≤–æ—Ä–∫–µ—Ä–∞–º–∏ –∏ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏.    readonly ports: ReadonlyArray<MessagePort>;    // –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —Ç–∞–∫—É—é –∫–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫–æ–µ –æ–∫–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏–ª–æ —Å–æ–±—ã—Ç–∏–µ    readonly source: MessageEventSource | null;}
```

> **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

–ü–æ–∫–∞–∂—É –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Dedicated Worker, –Ω–∞¬†–ø—Ä–∏–º–µ—Ä–µ —Ä–∞–±–æ—Ç—ã —Å¬†–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º(–ø—Ä–∏–º–µ—Ä –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π, –±–µ–∑¬†–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π, –Ω–æ¬†–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏).

–î–æ–ø—É—Å—Ç–∏–º –≤—ã –ø–∏—à–µ—Ç–µ –∫–∞–∫–æ–µ‚Äë—Ç–æ –ø–æ–¥–æ–±–∏–µ google docs –∏ —Ö–æ—Ç–∏—Ç–µ —Å–∂–∏–º–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É, –µ—Å–ª–∏ –æ–Ω–∞ –±–æ–ª—å—à–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –∏ –ø—Ä–∏¬†—ç—Ç–æ–º –Ω–µ¬†–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

–í¬†–æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ —Ö—ç–Ω–¥–ª–∏–º —Å–æ–±—ã—Ç–∏–µ –≤—ã–±–æ—Ä–∞ —é–∑–µ—Ä–æ–º —Ñ–∞–π–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –≤¬†Worker, –∏ –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑¬†Worker, –¥–æ–±–∞–≤–ª—è–µ–º —ç—Ç—É –∫–∞—Ä—Ç–∏–Ω–∫—É –Ω–∞¬†—Å—Ç—Ä–∞–Ω–∏—Ü—É.
```js
const imageProcessingWorker = new Worker('worker.js');const imageSelect = document.getElementById('image-select');imageSelect.addEventListener('change', function(event) {  const selectedImage = event.target.files[0];  imageProcessingWorker.postMessage(selectedImage);});imageProcessingWorker.onmessage = function(event) {  const processedImage = event.data;  const imageContainer = document.getElementById('image-container');  imageContainer.appendChild(processedImage);};
```

worker.js

```js
self.onmessage = function(event) {  const image = event.data;  // –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∫–∞–∫–∏–µ-—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–∂–∞—Ç–∏–µ  const processedImage = processImage(image)    self.postMessage(processedImage);};
```

> **–£–±–∏–π—Å—Ç–≤–æ Dedicated Worker**

1. –ö–æ–≥–¥–∞ Dedicated Worker –≤–∞–º –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω, –µ–≥–æ –º–æ–∂–Ω–æ —É–±–∏—Ç—å —Å –ø–æ–º–æ—â—å—é¬†`worker.terminate()`.
    
2. Dedicated Worker —Å–∞–º —É–Ω–∏—á—Ç–æ–∂–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã –∑–∞–∫—Ä–æ–µ—Ç–µ –≤–∫–ª–∞–¥–∫—É —Å –Ω–∏–º.
    

> **Use Cases**

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ/–∫–∞—Ä—Ç–∏–Ω–æ–∫ - —Ä–µ—Å–∞–π–∑, –Ω–∞–ª–æ–∂–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞–¥–∞–Ω–Ω—ã—Ö –∏ —Ç–¥.
    
- –ó–∞–≥—Ä—É–∑–∫–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤.
    
- 3D-–≥—Ä–∞—Ñ–∏–∫–∞ –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏.
    
- –ú–∞–ø–ø–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–ø–∏—Å–∫–æ–≤/—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ç–¥.
    

–ú–æ–∂–Ω–æ —Å–∞–º–æ–º—É —Ä–∞–¥–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –ø–æ–∏—Å–∫–∞—Ç—å Workers –Ω–∞ —Å–∞–π—Ç–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é¬†[devtools: sources ‚Üí threads ‚Üí smth with workers.js](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#debugging_worker_threads)

###### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Shared Workers ?

Shared Worker —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ö–æ–∂–∏–º –æ–±—Ä–∞–∑–æ–º —Å¬†Dedicated Worker, –æ–¥–Ω–∞–∫–æ —Ç—É—Ç –≤—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑¬†`port: MessagePort,`¬†–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤–µ–Ω–Ω–æ –∏–∑‚Äë–∑–∞ —ç—Ç–æ–≥–æ —É¬†–Ω–∞—Å –ø–æ—è–≤–ª—è–µ—Ç—Å—è listener¬†`onconnect`¬†–≤¬†—Ñ–∞–π–ª–µ Worker'a. –û–±—â–∏–π workflow –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Shared Worker —Å¬†–ø–æ–º–æ—â—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≤¬†–Ω–∞—à–∏—Ö —Ñ–∞–π–ª–∞—Ö(–≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏—Ö 2)
    
2. –ü–æ–ª—É—á–∞–µ–º port –Ω–∞—à–µ–≥–æ Shared Worker'a
    
3. –î–µ–ª–∞–µ–º¬†`port.postMessage()`¬†–∏–∑¬†Main Threads
    
4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º connect —Å¬†Main Threads –∏–∑¬†Worker Thread, —Å¬†–ø–æ–º–æ—â—å—é¬†`onconnect`
    
5. –ü–æ–ª—É—á–∞–µ–º port –∏–∑¬†event'a, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–ª–µ—Ç–µ–ª –Ω–∞–º –Ω–∞¬†–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏, —è –ø–æ–∫–∞ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —É¬†–º–µ–Ω—è 1¬†–ø–æ—Ä—Ç¬†‚Äî¬†`const port = event.ports[0];`, –µ—Å–ª–∏ —É¬†–≤–∞—Å –±—É–¥–µ—Ç –±–æ–ª—å—à–µ, –≤—ã–±–∏—Ä–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–π(–ø–æ—Ä—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º¬†‚Äî¬†[—Ç—ã–∫](https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel))
    
6. Worker —Å¬†–ø–æ–º–æ—â—å—é¬†`port.postMessage`¬†–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –≤¬†Main Thread's –≤—Å–µ–º –ø–æ—Ä—Ç–∞–º, –Ω–∞¬†–∫–æ—Ç–æ—Ä—ã—Ö –≤–∏—Å–∏—Ç¬†`port.onmessage`
    
7. –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç listeners –≤¬†Main Thread's
    

![–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Shared Worker —Å –¥–≤—É–º—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ index1.html –∏ index2.html](https://habrastorage.org/r/w1560/getpro/habr/upload_files/2c8/784/81a/2c878481af7176479b8bd73527a9d5bd.png "–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Shared Worker —Å –¥–≤—É–º—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ index1.html –∏ index2.html")

–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Shared Worker —Å –¥–≤—É–º—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ index1.html –∏ index2.html

–ú—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –ø–æ—Ç–æ–∫–æ–≤(–ø—Ä–∏ —ç—Ç–æ–º –µ—Å–ª–∏ –º—ã —Å–æ–∑–¥–∞–µ–º –∏—Ö –∏–∑¬†–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ Worker'a, –æ–Ω–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç), –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã —Ö–≤–∞—Ç–∏–ª–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –ü–ö –∏ –º—ã –Ω–µ¬†—É–ø–µ—Ä–ª–∏—Å—å –≤¬†–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞.

> **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Shared Worker**

```js
// new Worker('–ü—É—Ç—å –¥–æ worker —Ñ–∞–π–ª–∞, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞')const worker = new SharedWorker('worker.js');// —Ç—É—Ç —É –Ω–∞—Å –≤ worker –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç port –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Shared Worker
```

SharedWorker –∏–º–µ–µ—Ç —Ç–∞–∫–∏–µ –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è¬†`postMessage`¬†–∏ listener¬†`onmessage,` –∞ —Ç–∞–∫–∂–µ¬†`onconnect`¬†–∏–º–µ–µ—Ç —Ç–∞–∫—É—é –∂–µ —Å–∏–≥–∞–Ω—Ç—É—Ä—É –∫–∞–∫¬†`onmessage`

```js
postMessage(message: any, transfer: Transferable[]): voidonmessage: ((this: Worker, event: MessageEvent) => any) | nullonconnect: ((this: Worker, event: MessageEvent) => any) | null
```

> **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

–ü–æ–∫–∞–∂—É –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Shared Worker: —Å–¥–µ–ª–∞–µ–º —Ñ–æ—Ä–º–æ—á–∫—É, –≥–¥–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤–±–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞¬†—Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∏ —Å¬†–ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ Worker'a –æ—Ç–æ–±—Ä–∞–∑–∏–º –µ–≥–æ —Å—Ä–∞–∑—É –Ω–∞¬†–¥–≤—É—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö(_index1.html_,¬†_index2.html_). –û—Ç–∫—Ä–æ–π—Ç–µ –æ–±–µ —Å—Ç—Ä–∞–Ω–∏—á–∫–∏, —á—Ç–æ–±—ã –∑–∞—Ü–µ–Ω–∏—Ç—å.

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞—à–∏—Ö Shared Worker's –≤¬†_index1.html, index2.html, –≥–¥–µ_

_index1.html_

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Shared Worker, –±–µ—Ä–µ–º –µ–≥–æ port
    
2. –ü—Ä–∏¬†–∫–ª–∏–∫–µ –Ω–∞¬†–∫–Ω–æ–ø–∫—É Send –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤¬†Shared Worker message, —Å¬†–ø–æ–º–æ—â—å—é¬†`port.postMessage()`
    
3. –°–æ–∑–¥–∞–µ–º handler`onmessage`, –≤¬†–Ω–µ–º –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤¬†–Ω–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å¬†—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
    

_index2.html_

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Shared Worker, –±–µ—Ä–µ–º –µ–≥–æ port
    
2. –°–æ–∑–¥–∞–µ–º handler¬†`onmessage`, –≤¬†–Ω–µ–º –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤¬†–Ω–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å¬†—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (—Ç—É—Ç –Ω–µ¬†–¥–µ–ª–∞–µ–º –Ω–∞—à–µ–π —Ñ–æ—Ä–º–æ—á–∫–∏, —Ç—É—Ç –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π)
    

_worker.js_

1. –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤, –∫—É–¥–∞ —Å–ª–æ–∂–∏–º –≤—Å–µ –Ω–∞—à–∏ –ø–æ—Ä—Ç—ã¬†‚Äî¬†`ports`(—ç—Ç–∏ –ø–æ—Ä—Ç—ã –Ω–∞–º –Ω—É–∂–Ω—ã, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å—Ä–∞–∑—É –≤–æ¬†–≤—Å–µ –≤–∫–ª–∞–¥–∫–∏/iframe, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—à Worker, –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–∞–º –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
    
2. –°–æ–∑–¥–∞–µ–º handler¬†`onmessage`¬†–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞¬†–≤—Å–µ –Ω–∞—à–∏¬†`ports`
    
3. –í—É–∞–ª—è, –ø–æ–ª—É—á–∞–µ–º –Ω–∞¬†–æ–±–µ–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ¬†`messages`

index1.html

```html
<!DOCTYPE html><html>  <head>    <title>Shared Worker 1</title>  </head>  <body>    <div class="message-container"></div>    <input type="text" class="message-input" />    <button class="send-message-button">Send</button>    <script>      const messageContainer = document.querySelector('.message-container');      const messageInput = document.querySelector('.message-input');      const sendMessageButton = document.querySelector('.send-message-button');      const worker = new SharedWorker('worker.js');      const port = worker.port;      sendMessageButton.addEventListener('click', () => {        const message = messageInput.value;        port.postMessage(message);        messageInput.value = '';      });            port.onmessage = (e) => {        messageContainer.innerHTML += e.data + '<br>';      };    </script>  </body></html>
```

index2.html

```html
<!DOCTYPE html><html>  <head>    <title>Shared Worker 2</title>  </head>  <body>    <div class="message-container"></div>    <script>      const messageContainer = document.querySelector('.message-container');          const worker = new SharedWorker('worker.js');      const port = worker.port;      port.onmessage = (e) => {        messageContainer.innerHTML += e.data + '<br>';      };    </script>  </body></html>
```

worker.js

```
const ports = [];self.onconnect = (event) => {  // –î–æ—Å—Ç–∞–µ–º –ø–æ—Ä—Ç —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–º—É —Å–æ–æ–±—â–µ–Ω–∏–µ  const port = event.ports[0];  ports.push(port);  port.onmessage = (e) => {    const message = e.data;    for (const client of ports) {      client.postMessage(`Message: ${message}`);    }  };};
```

> **–£–±–∏–π—Å—Ç–≤–æ Shared Worker**

1. –° –ø–æ–º–æ—â—å—é¬†`worker.close()`
    
2. –ö–æ–≥–¥–∞ –∑–∞–∫—Ä—ã–ª–∏ –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —ç—Ç–æ—Ç Shared Worker
    

> **Use Cases**

- –í—Å–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –æ–±–º–µ–Ω–æ–º –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –∏ –æ–∫–Ω–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.
    
- –í—Å–µ —Ç–æ–∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ —É Dedicated Workers

##### Service Workers

https://web.dev/learn/pwa/service-workers
https://habr.com/ru/articles/532516/
https://habr.com/ru/companies/2gis/articles/345552/
https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API


–í–æ-–ø–µ—Ä–≤—ã—Ö, —ç—Ç–æ —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ—Ç–∫—Ä—ã–≤–∞—è –¥–≤–µ—Ä—å –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –Ω–µ —Ç—Ä–µ–±—É—é—â–∏—Ö –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –°–µ–≥–æ–¥–Ω—è –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ç–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Ñ–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –≤ –±—É–¥—É—â–µ–º SW –±—É–¥—É—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –¥—Ä—É–≥–∏–µ –≤–µ—â–∏. –ö–ª—é—á–µ–≤–∞—è –∏—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—Ç–≤–µ—Ç–æ–≤.  
  
–í–æ-–≤—Ç–æ—Ä—ã—Ö, SW –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ worker –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –ø–æ—ç—Ç–æ–º—É –æ–Ω –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ DOM –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–æ—Ç–æ–∫–µ, –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ JavaScript, —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ –≤–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∞ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –µ–≥–æ. –û–Ω –ø—Ä–∏–∑–≤–∞–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ API (XHR –∏ LocalStorage) –≤ SW –Ω–µ–ª—å–∑—è.  
  
–í-—Ç—Ä–µ—Ç—å–∏—Ö, –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ SW —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTPS, —Ç–∞–∫ –∫–∞–∫ –¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –ª—é–¥—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω—è—Ç—å —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫—Ä–∞–π–Ω–µ –æ–ø–∞—Å–Ω–æ.  
  
###### –ß—Ç–æ –Ω—É–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å?

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–ª–æ –±–æ–ª–µ–µ –æ—Ç–∑—ã–≤—á–∏–≤—ã–º, –Ω–∞–º –Ω—É–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã:  

- js (vendor, chunks)
- css
- –º–µ–¥–∏–∞–∫–æ–Ω—Ç–µ–Ω—Ç (—Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, —à—Ä–∏—Ñ—Ç—ã)

###### –ü–æ—á–µ–º—É –º—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LocalStorage –¥–ª—è –ø–æ–¥–æ–±–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?

  
–í—Å—ë –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ. LocalStorage ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API, –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 5MB –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏.  
  
–£ SW —Å —ç—Ç–∏–º –≤—Å—ë –ª—É—á—à–µ: –æ–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –∏ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞—Ç—å–µ¬†[Offline Storage for Progressive Web Apps](https://medium.com/dev-channel/offline-storage-for-progressive-web-apps-70d52695513c)¬†–æ—Ç –≠–¥–¥–∏ –û—Å–º–∞–Ω–∏:  
  

- Chrome/Opera: –æ–±–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤¬†[Quota Management API](https://www.w3.org/TR/quota-api/)¬†–∏¬†[Persistent Storage](https://developers.google.com/web/updates/2016/06/persistent-storage)).
- Firefox: –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ 50MB.
- Mobile Safari: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 50MB.
- Desktop Safari: –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ 5MB.
- IE10+: –º–∞–∫—Å–∏–º—É–º 250MB –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ 10MB.

###### –ú–Ω–µ —É–∂–µ –Ω—Ä–∞–≤–∏—Ç—Å—è Service Worker. –ö–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–ù–∏–∂–µ —è —Ä–∞—Å—Å–∫–∞–∂—É –ø—Ä–æ —Ä–µ—Ü–µ–ø—Ç—ã –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è SW –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∑—ã–≤—á–∏–≤—ã—Ö –∏ –ø–æ–Ω—è—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.  
  
###### –ó–∞–≥–æ—Ç–æ–≤–∫–∏ –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è Service Workers

–î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–≤–æ–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ SW –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:  
  
- index.html
- index.js
- sw.js


–í—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ –≤ index.html –ø–æ–¥–∫–ª—é—á–∏—Ç—å index.js, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–∞ sw.js  
  
```
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≥–æ, —á—Ç–æ –Ω–∞—à –±—Ä–∞—É–∑–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Service Worker API.if ('serviceWorker' in navigator) {    // –í–µ—Å—å –∫–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É –Ω–∞—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π.    navigator.serviceWorker.register('./sw.js')      .then(() => navigator.serviceWorker.ready.then((worker) => {        worker.sync.register('syncdata');      }))      .catch((err) => console.log(err));}
```

  
–í —Ñ–∞–π–ª–µ sw.js –Ω–∞–º –Ω—É–∂–Ω–æ –ª–∏—à—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å SW.  
  

```
self.addEventListener('install', (event) => {    console.log('–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');});self.addEventListener('activate', (event) => {    console.log('–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');});self.addEventListener('fetch', (event) => {    console.log('–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä');});
```

  
–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–æ lifecycle –¥–ª—è SW –≤—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –∏–∑¬†[–¥–∞–Ω–Ω–æ–π](https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle)¬†—Å—Ç–∞—Ç—å–∏.  
  

###### –†–µ—Ü–µ–ø—Ç ‚Ññ1 ‚Äî Network or cache

  
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–µ–¥–∏–π–Ω—ã—Ö —Å–∞–π—Ç–æ–≤, –≥–¥–µ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ö–∞—Ä—Ç–∏–Ω–∫–∏ –∏ –≤–∏–¥–µ–æ –º–æ–≥—É—Ç –æ—Ç–¥–∞–≤–∞—Ç—å—Å—è –¥–æ–ª–≥–æ, –Ω–∞—à–∞ –∑–∞–¥–∞—á–∞ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏—Ö. –ü—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä –º—ã –±—É–¥–µ–º –æ—Ç–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞. –ò–º–µ–µ–º –≤ –≤–∏–¥—É, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É–∂–µ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏, –¥–ª—è –Ω–∞—Å –≥–ª–∞–≤–Ω–æ–µ –∑–¥–µ—Å—å ‚Äî –∏–∑–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤.  
  
![](https://habrastorage.org/r/w1560/webt/bc/ck/k5/bcckk5p9k_axmimle2ocl6rasq8.png)  
**–†–µ—à–µ–Ω–∏–µ**  
  
–î–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–æ–π–¥—ë—Ç, –µ—Å–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –≤–∞—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞, –Ω–æ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.  
  
–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã —Å–ª–µ–¥—É—é—â–∏–π: –∏–¥—ë—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–µ—Å—É—Ä—Å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä 400ms, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –º—ã –æ—Ç–¥–∞—ë–º –∏—Ö –∏–∑ –∫—ç—à–∞.  
  
SW –≤ —ç—Ç–æ–º —Ä–µ—Ü–µ–ø—Ç–µ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å–∞–º—ã–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ —Å–µ—Ç–∏, –Ω–æ –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —Ç–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –≤–∑—è—Ç—ã –∏–∑ –∫—ç—à–∞. –≠—Ç—É –ø—Ä–æ–±–ª–µ–º—É –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø—É—Ç—ë–º –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è timeout‚Äô–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å.  
  

```
const CACHE = 'network-or-cache-v1';const timeout = 400;// –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–æ—Ä–∫–µ—Ä–∞ –º—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞—Ç–∏–∫—É).self.addEventListener('install', (event) => {    event.waitUntil(        caches.open(CACHE).then((cache) => cache.addAll([                '/img/background'            ])        ));});// –ø—Ä–∏ —Å–æ–±—ã—Ç–∏–∏ fetch, –º—ã –∏ –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à, —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è timeout.self.addEventListener('fetch', (event) => {    event.respondWith(fromNetwork(event.request, timeout)      .catch((err) => {          console.log(`Error: ${err.message()}`);          return fromCache(event.request);      }));});// –í—Ä–µ–º–µ–Ω–Ω–æ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å.function fromNetwork(request, timeout) {    return new Promise((fulfill, reject) => {        var timeoutId = setTimeout(reject, timeout);        fetch(request).then((response) => {            clearTimeout(timeoutId);            fulfill(response);        }, reject);    });}function fromCache(request) {// –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–∞—à–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∫—ç—à–∞ (CacheStorage API), –≤—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞.// –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è Promise –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–æ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `undefined`    return caches.open(CACHE).then((cache) =>        cache.match(request).then((matching) =>            matching || Promise.reject('no-match')        ));}
```

  

###### –†–µ—Ü–µ–ø—Ç ‚Ññ2 ‚Äî Cache only

  
–ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç –¥–ª—è –ª–µ–Ω–¥–∏–Ω–≥–æ–≤, –∑–∞–¥–∞—á–∞ –∫–æ—Ç–æ—Ä—ã—Ö ‚Äî –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ–¥—É–∫—Ç –∏ —Ç–µ–º —Å–∞–º—ã–º –∑–∞–¥–µ—Ä–∂–∞—Ç—å –µ–≥–æ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–∞–π—Ç–µ. –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –ø–ª–æ—Ö–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ—Å—Ç–æ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–∞, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞ ‚Äî –æ—Ç–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—ç—à–∞ –ø—Ä–∏ –ª—é–±–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏ —á–∏—Å—Ç–∫–∞ –∫—ç—à–∞. –ú–∏–Ω—É—Å —Å–ø–æ—Å–æ–±–∞ –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ –≤—ã –∏–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç, —Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–µ—Ä–µ–º–µ–Ω–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∫—ç—à —Å—Ç–∞–Ω–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é SW –¥–µ–ª–∞—é—Ç –ø–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.  
  
![](https://habrastorage.org/r/w1560/webt/gq/ie/ta/gqietaw5wpfkx6lhv1axr_qnhoc.png)  
**–†–µ—à–µ–Ω–∏–µ**  
  
–í—Å—ë, —á—Ç–æ –º—ã –¥–µ–ª–∞–µ–º, —ç—Ç–æ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ SW —Å–∫–ª–∞–¥—ã–≤–∞–µ–º –≤ –∫—ç—à –≤—Å–µ –Ω–∞—à–∏ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã; –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö –∫ —Ä–µ—Å—É—Ä—Å–∞–º SW –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –∫—ç—à–∞.  
  

```
const CACHE = 'cache-only-v1';// –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–æ—Ä–∫–µ—Ä–∞ –º—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞—Ç–∏–∫—É).self.addEventListener('install', (event) => {    event.waitUntil(        caches.open(CACHE).then((cache) => {            return cache.addAll([                '/img/background'            ]);        })    );});// –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—Å–æ–±—ã—Ç–∏–µ fetch), –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞.self.addEventListener('fetch', (event) =>    event.respondWith(fromCache(event.request)););function fromCache(request) {    return caches.open(CACHE).then((cache) =>      cache.match(request)          .then((matching) => matching || Promise.reject('no-match'))    );}
```

  

###### –†–µ—Ü–µ–ø—Ç ‚Ññ3 ‚Äî Cache and update

  
–î–∞–Ω–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, —á–µ–≥–æ –Ω–µ –±—ã–ª–æ –≤ —Ä–µ—Ü–µ–ø—Ç–µ ‚Ññ2.  
–ò–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –º—ã –ø–æ–ª—É—á–∏–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –Ω–æ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.  
  
![](https://habrastorage.org/r/w1560/webt/7w/-7/n9/7w-7n9ifwvxv6i6fv0jt_9-uoyc.png)  
**–†–µ—à–µ–Ω–∏–µ**  
  
–ö–∞–∫ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ, –≤ –¥–∞–Ω–Ω–æ–º —Ä–µ—Ü–µ–ø—Ç–µ SW —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∏–∑ –∫—ç—à–∞, —á—Ç–æ–±—ã –¥–æ—Å—Ç–∞–≤–∏—Ç—å –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫—ç—à–∞ –∏–∑ —Å–µ—Ç–∏.  
  

```
const CACHE = 'cache-and-update-v1';// –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–æ—Ä–∫–µ—Ä–∞ –º—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞—Ç–∏–∫—É).self.addEventListener('install', (event) => {    event.waitUntil(        caches.open(CACHE).then((cache) =>            cache.addAll(['/img/background']))    );});// –ø—Ä–∏ —Å–æ–±—ã—Ç–∏–∏ fetch, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –æ–±–Ω–æ–≤–ª—è–µ–º –µ–≥–æ –¥–∞–Ω–Ω—ã–º —Å —Å–µ—Ä–≤–µ—Ä–∞self.addEventListener('fetch', function(event) {    // –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `respondWith()`, —á—Ç–æ–±—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞.    event.respondWith(fromCache(event.request));    // `waitUntil()` –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã worker'a –¥–æ —Ç–æ–≥–æ –∫–∞–∫ –∫—ç—à –æ–±–Ω–æ–≤–∏—Ç—å—Å—è.    event.waitUntil(update(event.request));});function fromCache(request) {    return caches.open(CACHE).then((cache) =>        cache.match(request).then((matching) =>            matching || Promise.reject('no-match')        ));}function update(request) {    return caches.open(CACHE).then((cache) =>        fetch(request).then((response) =>            cache.put(request, response)        )    );}
```

  

###### –†–µ—Ü–µ–ø—Ç ‚Ññ4 ‚Äî Cache, update and refresh

  
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞ ‚Ññ3. –í –¥–∞–Ω–Ω–æ–º —Ä–µ—à–µ–Ω–∏–∏ –º—ã –æ–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Ñ–æ–Ω–µ, –Ω–æ –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–º–µ–Ω—è–ª–∏—Å—å. –ü—Ä–∏–º–µ—Ä–æ–º –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —Ñ–æ–Ω–µ. –¢–∞–∫, –≤—ã —á–∏—Ç–∞–µ—Ç–µ —Å—Ç–∞—Ç—å—é –Ω–∞ –Ω–æ–≤–æ—Å—Ç–æ–º —Å–∞–π—Ç–µ –∏ –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å –∏ –ø–æ—è–≤–∏–ª–∞—Å—å –±–æ–ª–µ–µ —Å–≤–µ–∂–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.  
  
![](https://habrastorage.org/r/w1560/webt/7w/-7/n9/7w-7n9ifwvxv6i6fv0jt_9-uoyc.png)  
  
![](https://habrastorage.org/r/w1560/webt/6c/az/-s/6caz-ssslzjredzqqhsqs1m72dk.png)  
**–†–µ—à–µ–Ω–∏–µ**  
  
–†–µ—Ü–µ–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç SW –æ—Ç–≤–µ—á–∞—Ç—å –∏–∑ –∫—ç—à–∞, —á—Ç–æ–±—ã –æ—Ç–¥–∞–≤–∞—Ç—å –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –∞ —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –∏–∑ —Å–µ—Ç–∏. –ö–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º UI-–∫–æ–Ω—Ç—Ä–æ–ª–∞.  
  
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞, –Ω–æ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∫—ç—à–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ UI –æ –Ω–æ–≤—ã–π –¥–∞–Ω–Ω—ã—Ö.  
  

```
const CACHE = 'cache-update-and-refresh-v1';// –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–æ—Ä–∫–µ—Ä–∞ –º—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞—Ç–∏–∫—É).self.addEventListener('install', (event) => {    event.waitUntil(        caches            .open(CACHE)            .then((cache) => cache.addAll(['/img/background']))    );});// –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∏–¥–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä.self.addEventListener('fetch', (event) => {    // –ö–∞–∫ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ, —Å–Ω–∞—á–∞–ª–∞ `respondWith()` –ø–æ—Ç–æ–º `waitUntil()`    event.respondWith(fromCache(event.request));    event.waitUntil(      update(event.request)      // –í –∫–æ–Ω—Ü–µ, –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è "—Å–≤–µ–∂–∏—Ö" –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ —É–≤–µ–¥–æ–º–ª—è–µ–º –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.      .then(refresh)    );});function fromCache(request) {    return caches.open(CACHE).then((cache) =>        cache.match(request).then((matching) =>            matching || Promise.reject('no-match')        ));}function update(request) {    return caches.open(CACHE).then((cache) =>        fetch(request).then((response) =>            cache.put(request, response.clone()).then(() => response)        )    );}// –®–ª—ë–º —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º.function refresh(response) {    return self.clients.matchAll().then((clients) => {        clients.forEach((client) => {            // –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ ETag –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç            // https://en.wikipedia.org/wiki/HTTP_ETag            const message = {                type: 'refresh',                url: response.url,                eTag: response.headers.get('ETag')            };            // –£–≤–µ–¥–æ–º–ª—è–µ–º –∫–ª–∏–µ–Ω—Ç –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.            client.postMessage(JSON.stringify(message));        });    });}
```

  

###### –†–µ—Ü–µ–ø—Ç ‚Ññ5 ‚Äî Embedded fallback

  
–°—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–¥–∞—ë—Ç –≤–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –≤—ã –æ—Ñ–ª–∞–π–Ω. –Ø –Ω–∞–∑—ã–≤–∞—é —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–æ–π, —Ç–∞–∫ –∫–∞–∫:  
  

- –≠–∫—Ä–∞–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –≠–∫—Ä–∞–Ω –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∫–∞–∂–¥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ.
- –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–æ.

  

|![](https://habrastorage.org/r/w1560/webt/1s/xh/6w/1sxh6w1gugkqt6fdt9ctis7utoy.jpeg)|![](https://habrastorage.org/r/w1560/webt/7h/hr/ck/7hhrckgyvd9i8lsyr57ol0thh-k.png)|![](https://habrastorage.org/r/w1560/webt/rt/fj/tb/rtfjtbmpw53rifnhe2pc_men4ji.jpeg)|
|---|---|---|

  
–õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –≤ –¥–∞–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –±—ã–ª–æ –±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –∫—ç—à–∞. –° –ø–æ–º–æ—â—å—é SW –º—ã –º–æ–∂–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç, –≥–æ–≤–æ—Ä—è—â–∏–π –æ —Ç–æ–º, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω–µ —Å–µ—Ç–∏ –∏ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω.  
  
![](https://habrastorage.org/r/w1560/webt/fu/p0/aw/fup0awvk0bdbwmb5z0caeqw4sfa.png)  
**–†–µ—à–µ–Ω–∏–µ**  
  
–ù—É–∂–Ω–æ –æ—Ç–¥–∞—Ç—å fallback-–¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º (—Å–µ—Ç—å –∏ –∫—ç—à).  
–î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ –∏ –∫–ª–∞–¥—É—Ç—Å—è –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ SW.  
  

```
const CACHE = 'offline-fallback-v1';// –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–æ—Ä–∫–µ—Ä–∞ –º—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞—Ç–∏–∫—É).self.addEventListener('install', (event) => {    event.waitUntil(        caches            .open(CACHE)            .then((cache) => cache.addAll(['/img/background']))            // `skipWaiting()` –Ω–µ–æ–±—Ö–æ–¥–∏–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å SW            // –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å—Ä–∞–∑—É, –∞ –Ω–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.            .then(() => self.skipWaiting())    );});self.addEventListener('activate', (event) => {    // `self.clients.claim()` –ø–æ–∑–≤–æ–ª—è–µ—Ç SW –Ω–∞—á–∞—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞,    // —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å `skipWaiting()`, –ø–æ–∑–≤–æ–ª—è—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fallback` —Å —Å–∞–º—ã—Ö –ø–µ—Ä–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.    event.waitUntil(self.clients.claim());});self.addEventListener('fetch', function(event) {    // –ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–ø–∏—Å–∞–Ω–Ω—É—é –≤—ã—à–µ.    // –ï—Å–ª–∏ –æ–Ω–∞ –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–π—Ç–µ `Embedded fallback`.    event.respondWith(networkOrCache(event.request)        .catch(() => useFallback()));});function networkOrCache(request) {    return fetch(request)        .then((response) => response.ok ? response : fromCache(request))        .catch(() => fromCache(request));}// –ù–∞—à Fallback –≤–º–µ—Å—Ç–µ —Å –Ω–∞—à–∏–º —Å–æ–±—Å–≤–µ–Ω–Ω—ã–º –î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫–æ–º.const FALLBACK =    '<div>\n' +    '    <div>App Title</div>\n' +    '    <div>you are offline</div>\n' +    '    <img src="/svg/or/base64/of/your/dinosaur" alt="dinosaur"/>\n' +    '</div>';// –û–Ω –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–ø–∞–¥–µ—Ç, —Ç.–∫ –º—ã –≤—Å–µ–≥–¥–∞ –æ—Ç–¥–∞–µ–º –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.function useFallback() {    return Promise.resolve(new Response(FALLBACK, { headers: {        'Content-Type': 'text/html; charset=utf-8'    }}));}function fromCache(request) {    return caches.open(CACHE).then((cache) =>        cache.match(request).then((matching) =>            matching || Promise.reject('no-match')        ));}
```

  


##### —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, function declaration/expression

###### –£ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ—Ç "this"

[](https://github.com/javascript-tutorial/ru.javascript.info/blob/master/1-js/06-advanced-functions/12-arrow-functions/article.md#%D1%83-%D1%81%D1%82%D1%80%D0%B5%D0%BB%D0%BE%D1%87%D0%BD%D1%8B%D1%85-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B9-%D0%BD%D0%B5%D1%82-this)

–ö–∞–∫ –º—ã –ø–æ–º–Ω–∏–º –∏–∑ –≥–ª–∞–≤—ã info:object-methods, —É —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ—Ç¬†`this`. –ï—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫¬†`this`, –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±–µ—Ä—ë—Ç—Å—è —Å–Ω–∞—Ä—É–∂–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –æ–±—ä–µ–∫—Ç–∞:

```js
let group = {
  title: "Our Group",
  students: ["John", "Pete", "Alice"],

  showList() {
*!*
    this.students.forEach(
      student => alert(this.title + ': ' + student)
    );
*/!*
  }
};

group.showList();
```

–ó–¥–µ—Å—å –≤–Ω—É—Ç—Ä–∏¬†`forEach`¬†–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º¬†`this.title`¬†–≤ –Ω–µ–π –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–∞–∫ –≤ –º–µ—Ç–æ–¥–µ¬†`showList`:¬†`group.title`.

–ï—Å–ª–∏ –±—ã –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ "–æ–±—ã—á–Ω—É—é" —Ñ—É–Ω–∫—Ü–∏—é, –±—ã–ª–∞ –±—ã –æ—à–∏–±–∫–∞:

```js
let group = {
  title: "Our Group",
  students: ["John", "Pete", "Alice"],

  showList() {
*!*
    this.students.forEach(function(student) {
      // Error: Cannot read property 'title' of undefined
      alert(this.title + ': ' + student)
    });
*/!*
  }
};

group.showList();
```

–û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ¬†`forEach`¬†–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Å¬†`this`, —Ä–∞–≤–Ω—ã–º¬†`undefined`, –∏ –≤ –∏—Ç–æ–≥–µ –º—ã –ø—ã—Ç–∞–µ–º—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫¬†`undefined.title`.

–≠—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∏—Ö –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç¬†`this`.

```warn header="–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å¬†`new`" –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `this` –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤–µ–¥—ë—Ç –∫ –¥—Ä—É–≥–æ–º—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é: —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã. –û–Ω–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã —Å `new`.

````

```smart header="–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ VS bind"
–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–Ω–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π `=>` –∏ –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –≤—ã–∑–≤–∞–Ω–Ω–æ–π —Å `.bind(this)`:

- `.bind(this)` —Å–æ–∑–¥–∞—ë—Ç "—Å–≤—è–∑–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é" —Ñ—É–Ω–∫—Ü–∏–∏.
- –°—Ç—Ä–µ–ª–∫–∞ `=>` –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç. –£ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç `this`. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è `this` - –æ–Ω–æ, –∫–∞–∫ –æ–±—ã—á–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –±–µ—Ä—ë—Ç—Å—è –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
````

###### –°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –∏–º–µ—é—Ç "arguments"

[](https://github.com/javascript-tutorial/ru.javascript.info/blob/master/1-js/06-advanced-functions/12-arrow-functions/article.md#%D1%81%D1%82%D1%80%D0%B5%D0%BB%D0%BE%D1%87%D0%BD%D1%8B%D0%B5-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8-%D0%BD%D0%B5-%D0%B8%D0%BC%D0%B5%D1%8E%D1%82-arguments)

–£ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ç–∞–∫–∂–µ –Ω–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π¬†`arguments`.

–≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤, –∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –≤—ã–∑–æ–≤ —Å —Ç–µ–∫—É—â–∏–º–∏¬†`this`¬†–∏¬†`arguments`.

–ù–∞–ø—Ä–∏–º–µ—Ä,¬†`defer(f, ms)`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ë—Ä—Ç–∫—É –Ω–∞–¥ –Ω–µ–π, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤ –Ω–∞¬†`ms`¬†–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥:

```js
function defer(f, ms) {
  return function() {
    setTimeout(() => f.apply(this, arguments), ms)
  };
}

function sayHi(who) {
  alert('Hello, ' + who);
}

let sayHiDeferred = defer(sayHi, 2000);
sayHiDeferred("John"); // –≤—ã–≤–æ–¥–∏—Ç "Hello, John" —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
```

–¢–æ –∂–µ —Å–∞–º–æ–µ –±–µ–∑ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–≥–ª—è–¥–µ–ª–æ –±—ã —Ç–∞–∫:

```js
function defer(f, ms) {
  return function(...args) {
    let ctx = this;
    setTimeout(function() {
      return f.apply(ctx, args);
    }, ms);
  };
}
```

–ó–¥–µ—Å—å –º—ã –±—ã–ª–∏ –≤—ã–Ω—É–∂–¥–µ–Ω—ã —Å–æ–∑–¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ¬†`args`¬†–∏¬†`ctx`, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏¬†`setTimeout`¬†–º–æ–≥–ª–∞ –ø–æ–ª—É—á–∏—Ç—å –∏—Ö.

###### –ò—Ç–æ–≥–æ

[](https://github.com/javascript-tutorial/ru.javascript.info/blob/master/1-js/06-advanced-functions/12-arrow-functions/article.md#%D0%B8%D1%82%D0%BE%D0%B3%D0%BE)

–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- –ù–µ –∏–º–µ—é—Ç¬†`this`.
- –ù–µ –∏–º–µ—é—Ç¬†`arguments`.
- –ù–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã —Å¬†`new`.
- (–£ –Ω–∏—Ö —Ç–∞–∫–∂–µ –Ω–µ—Ç¬†`super`, –Ω–æ –º—ã –ø—Ä–æ —ç—Ç–æ –Ω–µ –≥–æ–≤–æ—Ä–∏–ª–∏. –ü—Ä–æ —ç—Ç–æ –±—É–¥–µ—Ç –≤ –≥–ª–∞–≤–µ info:class-inheritance).

–í—Å—ë —ç—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –æ–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏–º–µ–µ—Ç —Å–≤–æ–µ–≥–æ "–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞", –≤—ã–ø–æ–ª–Ω—è—è—Å—å –≤ —Ç–µ–∫—É—â–µ–º. –ò –æ–Ω–∏ –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å —ç—Ç–æ–π –∑–∞–¥–∞—á–µ–π!

###### Function Declaration (–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏)

```javascript
function sum(a, b) {
  return a + b;
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
1. –°–æ–∑–¥–∞–µ—Ç—Å—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ (–ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è "hoisting")
   - –ú–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   ```javascript
   sum(2, 3); // –†–∞–±–æ—Ç–∞–µ—Ç
   function sum(a, b) { return a + b; }
   ```
2. –í—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –∏–º—è (–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–π)
3. –°–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ —Ç–µ–∫—É—â–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

###### Function Expression (–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ)

```javascript
const sum = function(a, b) {
  return a + b;
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
1. –°–æ–∑–¥–∞–µ—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞
   - –ù–µ–ª—å–∑—è –≤—ã–∑–≤–∞—Ç—å –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   ```javascript
   sum(2, 3); // –û—à–∏–±–∫–∞!
   const sum = function(a, b) { return a + b; };
   ```
2. –ú–æ–∂–µ—Ç –±—ã—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–π –∏–ª–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–π
3. –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–∏–ª–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç)

###### –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞       | Declaration | Expression |
|----------------------|------------|------------|
| Hoisting             | –î–∞         | –ù–µ—Ç        |
| –ú–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è | –î–∞ | –ù–µ—Ç        |
| –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏          | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è    | –ì–ª–æ–±–∞–ª—å–Ω–∞—è/—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å | –¢–æ—á–∫–∞ –≤ –∫–æ–¥–µ |

###### –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**Function Declaration** –ª—É—á—à–µ –¥–ª—è:
- –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –§—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞

**Function Expression** –ª—É—á—à–µ –¥–ª—è:
- –ö–æ–ª–ª–±—ç–∫–æ–≤
- –°–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- –°–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –°–æ–∑–¥–∞–Ω–∏—è IIFE (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)

###### –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏

1. **–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ Function Expression**:
   ```javascript
   const factorial = function calc(n) {
     return n <= 1 ? 1 : n * calc(n - 1);
   };
   ```
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
   - –ò–º—è `calc` –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏

2. **–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –æ—Å–æ–±—ã–π –≤–∏–¥ Function Expression:
   ```javascript
   const sum = (a, b) => a + b;
   ```
   - –ù–µ –∏–º–µ—é—Ç —Å–≤–æ–µ–≥–æ `this`
   - –í—Å–µ–≥–¥–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ

##### –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ä—Ç–≤–∞—è –∑–æ–Ω–∞ (TDZ ‚Äì Temporal Dead Zone) –≤ JS

https://www.freecodecamp.org/news/javascript-temporal-dead-zone-and-hoisting-explained/
https://www.freecodecamp.org/news/what-is-the-temporal-dead-zone/
https://www.geeksforgeeks.org/temporal-dead-zone-in-javascript/

–í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ä—Ç–≤–∞—è –∑–æ–Ω–∞ (Temporal Dead Zone) ‚Äì —Ç–µ—Ä–º–∏–Ω, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.¬†–û–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (scope), –Ω–æ –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω—ã (not declared).

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑¬†**`let`¬†–∏**¬†**`const`**¬†—Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ TDZ –æ—Ç –Ω–∞—á–∞–ª–∞ –∏—Ö –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –∏—Ö –¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–±—ä—è–≤–ª–µ–Ω–∏—è).

```js
{
	//***
	//This is the temporal dead zone for the age variable!
	//–ï—Å–ª–∏ –º—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ age —Ç—É—Ç, —Ç–æ –º—ã –ø–æ–ª—É—á–∞–µ–º ReferenceError:
	console.log(age); //Uncaught ReferenceError: Cannot access 'age' before initialization
 	// This is the temporal dead zone for the age variable!
	//***
	let age; // –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –¢–µ–ø–µ—Ä—å TDZ –±–æ–ª—å—à–µ –Ω–µ—Ç. –¢.–µ. –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞–Ω–∞ (–æ–±—ä—è–≤–ª–µ–Ω–∞), —Ç–æ TDZ –¥–ª—è —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–ø–∞–¥–∞–µ—Ç.
	age = 27;
}
```

**`var` ‚Äì –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:**  
–í JavaScript –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º¬†`var`, –Ω–µ –∏–º–µ—é—Ç —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º—ë—Ä—Ç–≤–æ–π –∑–æ–Ω—ã (Temporal Dead Zone, TDZ).  
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ¬†`var`¬†—Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å –Ω–∞—á–∞–ª–∞ –∏—Ö –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (—Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏), –∏ –æ–Ω–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º¬†`undefined`

```js
console.log(age) //uderfinded. –¥–ª—è var –Ω–µ—Ç –ø–æ–Ω—è—Ç–∏—è TDZ
var age;
age = 28;
```

###### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º (declaration) –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π (inicialization)?

```js
function scopeExample() {

    let age; // 1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ (Declaring) –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º –∏–º—è –≤ –ø–∞–º—è—Ç–∏ –≤ —Ç–µ–∫—É—â–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (scope).
    age = 20; // 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (Initialising a variable) ‚Äî —ç—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (setting the value of the variable).
    let hands = 2; // 3. —Ç–∞–∫–∂–µ –º—ã –º–æ–∂–µ–º —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å 1. –∏ 2.
}
```

###### –ü—Ä–∏–º–µ—Ä—ã, –≥–¥–µ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å TDZ:

```js
function createTDZ(a=b, b) {
}
createTDZ(undefined, 1);
//–í—ã–≤–µ–¥–µ—Ç: Cannot access 'b' before initialization
//–ü–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π a, –∏–¥–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π b, –∫–æ—Ç–æ—Ä–∞—è –µ—â–µ –Ω–µ –ø—Ä–æ–ø–∞—Ä—Å–µ–Ω–∞ –¥–≤–∏–∂–∫–æ–º JS.
```

```js
let tdzTest = tdzTest;
//ReferenceError: Cannot access 'tdzTest' before initialization
```


–ù–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–æ–¥ —Å var —É–∂–µ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫–∏:

```js
var tdzTest = tdzTest; //underfined
```


–ò –∑–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–π¬†[–ø—Ä–∏–º–µ—Ä](https://github.com/google/traceur-compiler/issues/1382#issuecomment-57182072)¬†–æ—Ç Erik Arvindson, –∫–æ—Ç–æ—Ä—ã–π —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ ECMAScript:

```js
let a = f(); // 1
const b = 2;
function f() { return b; } // 2, b is in the TDZ
```


–í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –º—ã –≤—ã–∑—ã–≤–∞–µ–º¬†`f`¬†—Ñ—É–Ω–∫—Ü–∏—é, –∞ –∑–∞—Ç–µ–º –ø—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫¬†`b`¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–∫–æ—Ç–æ—Ä–∞—è –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É¬†`ReferenceError`. –ü–æ—Å–∫–æ–ª—å–∫—É¬†`b`¬†–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ TDZ).

###### –ó–∞—á–µ–º –Ω–∞–º –Ω—É–∂–µ–Ω TDZ?

Alex –ù–∞–ø–∏—Å–∞–ª¬†[—Å—Ç–∞—Ç—å—é](https://2ality.com/2015/10/why-tdz.html), –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –æ–± —ç—Ç–æ–º.

- –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏;
- –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∞ –±—É–¥–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∞, —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ–π;

–ò–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å TDZ –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –≤–µ—Ä—Ö—É –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.

–ù–∞ –æ—Å–Ω–æ–≤–µ: https://www.freecodecamp.org/news/what-is-the-temporal-dead-zone/

###### –ó–∞–¥–∞—á–∏:

###### –ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –¥–∞–Ω–Ω—ã–π –∫–æ–¥?

–í–∑—è—Ç–æ —Å: https://learn.javascript.ru/task/let-scope

```js
let x = 1;

function func() {
  console.log(x); // ?

  let x = 2;
}

func();
```



–û—Ç–≤–µ—Ç: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ ¬´–Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º¬ª (¬´uninitialized¬ª) —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –≤—Ö–æ–¥–∞ –≤ –±–ª–æ–∫ –∫–æ–¥–∞ (–∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é). –ò –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ let. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –¥–æ let.

```js
function func() {
  // –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è x –∏–∑–≤–µ—Å—Ç–Ω–∞ –¥–≤–∏–∂–∫—É —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏,
  // –Ω–æ –æ–Ω–∞ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞ ("uninitialized") –¥–æ let ("–º—ë—Ä—Ç–≤–∞—è –∑–æ–Ω–∞")
  // —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ—à–∏–±–∫–∞

  console.log(x); // ReferenceError: Cannot access 'x' before initialization

  let x = 2;
}
```

##### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ '?.'

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ `?.` ‚Äî —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∫–æ–µ-–ª–∏–±–æ –∏–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

###### –ü—Ä–æ–±–ª–µ–º–∞ "–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞"

–ï—Å–ª–∏ –≤—ã —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–∏ —á–∏—Ç–∞—Ç—å —É—á–µ–±–Ω–∏–∫ –∏ –∏–∑—É—á–∞—Ç—å JavaScript, —Ç–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤–∞—Å –µ—â—ë –Ω–µ –∫–æ—Å–Ω—É–ª–∞—Å—å, –Ω–æ –æ–Ω–∞ –¥–æ–≤–æ–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∞.

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç—ã `user`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.

–£ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –Ω–∞—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –µ—Å—Ç—å –∞–¥—Ä–µ—Å–∞ –≤ —Å–≤–æ–π—Å—Ç–≤–µ `user.address` —Å —É–ª–∏—Ü–µ–π `user.address.street`, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –∏—Ö –Ω–µ —É–∫–∞–∑–∞–ª–∏.

–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å `user.address.street`, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∫–∞–∂–µ—Ç—Å—è –±–µ–∑ –∞–¥—Ä–µ—Å–∞, –º—ã –ø–æ–ª—É—á–∏–º –æ—à–∏–±–∫—É:

```js run
let user = {}; // –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ —Å–≤–æ–π—Å—Ç–≤–∞ "address"

alert(user.address.street); // –û—à–∏–±–∫–∞!
```

–≠—Ç–æ –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. JavaScript —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º. –ü–æ—Å–∫–æ–ª—å–∫—É `user.address` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `undefined`, –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å `user.address.street` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π.

–í–æ –º–Ω–æ–≥–∏—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º—ã –±—ã –ø—Ä–µ–¥–ø–æ—á–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –∑–¥–µ—Å—å `undefined` –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏ (—á—Ç–æ –æ–∑–Ω–∞—á–∞–ª–æ –±—ã "—É–ª–∏—Ü—ã –Ω–µ—Ç").

...–ò–ª–∏ –µ—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä. –í –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç—É –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞, —Ç–∞–∫–æ–≥–æ –∫–∞–∫ `document.querySelector('.elem')`, –∏ –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`, –∫–æ–≥–¥–∞ —Ç–∞–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Ç.

```js run
// document.querySelector('.elem') —Ä–∞–≤–µ–Ω null, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Ç
let html = document.querySelector('.elem').innerHTML; // –æ—à–∏–±–∫–∞, –µ—Å–ª–∏ –æ–Ω —Ä–∞–≤–µ–Ω null
```

–ï—â—ë —Ä–∞–∑, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –º—ã –ø–æ–ª—É—á–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤—É `.innerHTML` —É `null`. –ò –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º, –º—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–Ω—è—Ç—å `html = null` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

–ö–∞–∫ –º—ã –º–æ–∂–µ–º —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?

–û—á–µ–≤–∏–¥–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –±—ã–ª–æ –±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `if` –∏–ª–∏ —É—Å–ª–æ–≤–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `?`, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤—É, –≤–æ—Ç —Ç–∞–∫:

```js
let user = {};

alert(user.address ? user.address.street : undefined);
```

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç—É—Ç –Ω–µ—Ç –æ—à–∏–±–∫–∏... –ù–æ —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–µ—ç–ª–µ–≥–∞–Ω—Ç–Ω–æ. –ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, `"user.address"` –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–¥–µ –¥–≤–∞–∂–¥—ã.

–í–æ—Ç –∫–∞–∫ —Ç–æ –∂–µ —Å–∞–º–æ–µ –≤—ã–≥–ª—è–¥–µ–ª–æ –±—ã –¥–ª—è `document.querySelector`:

```js run
let html = document.querySelector('.elem') ? document.querySelector('.elem').innerHTML : null;
```

–ö–∞–∫ –≤–∏–¥–Ω–æ, –ø–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ `document.querySelector('.elem')` –∑–¥–µ—Å—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã, —á—Ç–æ –Ω–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ.

–î–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ —ç—Ç–æ –µ—â—ë –º–µ–Ω–µ–µ –∫—Ä–∞—Å–∏–≤–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π.

–ö –ø—Ä–∏–º–µ—Ä—É, –¥–∞–≤–∞–π—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤—ã—á–∏—Å–ª–∏–º `user.address.street.name`.

–ù–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫ `user.address`, —Ç–∞–∫ –∏ `user.address.street`:

```js
let user = {}; // —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –∞–¥—Ä–µ—Å–∞

alert(user.address ? user.address.street ? user.address.street.name : null : null);
```

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —É–∂–∞—Å–Ω–æ, —É –∫–æ–≥–æ-—Ç–æ –º–æ–≥—É—Ç –¥–∞–∂–µ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º —Ç–∞–∫–æ–≥–æ –∫–æ–¥–∞.

–ï—Å—Ç—å –Ω–µ–º–Ω–æ–≥–æ –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –Ω–∞–ø–∏—Å–∞—Ç—å —ç—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É—è –æ–ø–µ—Ä–∞—Ç–æ—Ä `&&`:

```js run
let user = {}; // –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –∞–¥—Ä–µ—Å–∞

alert( user.address && user.address.street && user.address.street.name ); // undefined (–±–µ–∑ –æ—à–∏–±–∫–∏)
```

–ü—Ä–æ—Ö–æ–¥ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ò `&&` —á–µ—Ä–µ–∑ –≤–µ—Å—å –ø—É—Ç—å –∫ —Å–≤–æ–π—Å—Ç–≤—É –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç (–µ—Å–ª–∏ –Ω–µ—Ç, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è), –Ω–æ —Ç–∞–∫–∂–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–¥–µ–∞–ª—å–Ω—ã–º.

–ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, –∏–º–µ–Ω–∞ —Å–≤–æ–π—Å—Ç–≤ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–¥–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –≤—ã—à–µ –∫–æ–¥–µ `user.address` –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–∏ —Ä–∞–∑–∞.

–í–æ—Ç –ø–æ—á–µ–º—É –≤ —è–∑—ã–∫ –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ `?.`. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É - —Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞!

###### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ `?.` –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ `?.` —Ä–∞–≤–Ω–æ `undefined` –∏–ª–∏ `null`.

**–î–∞–ª–µ–µ –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ, –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏, –º—ã –±—É–¥–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å, —á—Ç–æ —á—Ç–æ-—Ç–æ "—Å—É—â–µ—Å—Ç–≤—É–µ—Ç", –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è `null` –∏ –Ω–µ `undefined`.**

–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, `value?.prop`:
- —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ `value.prop`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `value` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç,
- –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ (–∫–æ–≥–¥–∞ `value` —Ä–∞–≤–Ω–æ `undefined/null`) –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`.

–í–æ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ `user.address.street`, –∏—Å–ø–æ–ª—å–∑—É—è `?.`:

```js run
let user = {}; // –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –∞–¥—Ä–µ—Å–∞

alert( user?.address?.street ); // undefined (–±–µ–∑ –æ—à–∏–±–∫–∏)
```

–ö–æ–¥ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π, –≤ –Ω–µ–º –≤–æ–æ–±—â–µ –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

–ê –≤–æ—Ç –ø—Ä–∏–º–µ—Ä —Å `document.querySelector`:

```js run
let html = document.querySelector('.elem')?.innerHTML; // –±—É–¥–µ—Ç undefined, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Ç
```

–°—á–∏—Ç—ã–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ —Å –ø–æ–º–æ—â—å—é `user?.address` —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç `user` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:

```js run
let user = null;

alert( user?.address ); // undefined
alert( user?.address.street ); // undefined
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `?.` –¥–µ–ª–∞–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –Ω–∏–º, –Ω–æ –Ω–µ –∫–∞–∫–æ–µ-–ª–∏–±–æ –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ.

–¢–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∑–∞–ø–∏—Å–∏ `user?.address.street.name` `?.` –ø–æ–∑–≤–æ–ª—è–µ—Ç `user` –±–µ–∑–æ–ø–∞—Å–Ω–æ –±—ã—Ç—å `null/undefined` (–∏ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`), –Ω–æ —ç—Ç–æ —Ç–∞–∫ —Ç–æ–ª—å–∫–æ –¥–ª—è `user`. –î–æ—Å—Ç—É–ø –∫ –ø–æ—Å–ª–µ–¥—É—é—â–∏–º —Å–≤–æ–π—Å—Ç–≤–∞–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –±—ã–ª–∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏, —Ç–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å –±–æ–ª—å—à–µ `.` –Ω–∞ `?.`.

```warn header="–ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ü–µ–ø–æ—á–∫–æ–π"
–ù–∞–º —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `?.` —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —á—Ç–æ —á–µ–≥–æ-—Ç–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–ö –ø—Ä–∏–º–µ—Ä—É, –µ—Å–ª–∏, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª–æ–≥–∏–∫–æ–π –Ω–∞—à–µ–≥–æ –∫–æ–¥–∞, –æ–±—ä–µ–∫—Ç `user` –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å, –Ω–æ `address` —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º, —Ç–æ –Ω–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–∏—Å–∞—Ç—å `user.address?.street`, –Ω–æ –Ω–µ `user?.address?.street`.

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤–¥—Ä—É–≥ `user` –æ–∫–∞–∂–µ—Ç—Å—è `undefined`, –º—ã —É–≤–∏–¥–∏–º –ø—Ä–æ–≥—Ä–∞–º–º–Ω—É—é –æ—à–∏–±–∫—É –ø–æ —ç—Ç–æ–º—É –ø–æ–≤–æ–¥—É –∏ –∏—Å–ø—Ä–∞–≤–∏–º –µ—ë. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `?.`, –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –∑–∞–º–∞–ª—á–∏–≤–∞—Ç—å—Å—è —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –Ω–µ—É–º–µ—Å—Ç–Ω–æ, –∏ –∏—Ö –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å.
```

````warn header="–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥ `?.` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∞"
–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `user` –≤–æ–æ–±—â–µ –Ω–µ—Ç, —Ç–æ `user?.anything` –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ:

```js run
// ReferenceError: user is not defined
user?.address;
```
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∞ (–∫ –ø—Ä–∏–º–µ—Ä—É, –∫–∞–∫ `let/const/var user` –∏–ª–∏ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏). –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.


###### –°–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ

–ö–∞–∫ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ —Ä–∞–Ω–µ–µ, `?.` –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –ª–µ–≤–∞—è —á–∞—Å—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–¢–∞–∫ —á—Ç–æ –µ—Å–ª–∏ –ø–æ—Å–ª–µ `?.` –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ç–æ –æ–Ω–∏ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
let user = null;
let x = 0;

user?.sayHi(x++); // –Ω–µ—Ç "user", –ø–æ—ç—Ç–æ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –≤—ã–∑–æ–≤–∞ sayHi –∏ x++

alert(x); // 0, –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å
```

###### –î—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: ?.(), ?.[]

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ `?.` ‚Äî —ç—Ç–æ –Ω–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä, –∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, `?.()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å.

–í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –Ω–∏–∂–µ –∫–æ–¥–µ —É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –µ—Å—Ç—å –º–µ—Ç–æ–¥ `admin`, –∞ —É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –µ–≥–æ –Ω–µ—Ç:

```js run
let userAdmin = {
  admin() {
    alert("–Ø –∞–¥–º–∏–Ω");
  }
};

let userGuest = {};

*!*
userAdmin.admin?.(); // –Ø –∞–¥–º–∏–Ω
*/!*

*!*
userGuest.admin?.(); // –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç (—Ç–∞–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ –Ω–µ—Ç)
*/!*
```

–ó–¥–µ—Å—å –≤ –æ–±–µ–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö –º—ã —Å–Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—á–∫—É (`userAdmin.admin`), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `admin`, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç `userAdmin` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–∞–∫ —á—Ç–æ —á–∏—Ç–∞—Ç—å –∏–∑ –Ω–µ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ.

–ó–∞—Ç–µ–º `?.()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–µ–≤—É—é —á–∞—Å—Ç—å: –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è `admin` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ –æ–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (—ç—Ç–æ —Ç–∞–∫ –¥–ª—è `userAdmin`). –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ (–¥–ª—è `userGuest`) –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å `?.[]` —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫–æ–±–∫–∏ `[]` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –≤–º–µ—Å—Ç–æ —Ç–æ—á–∫–∏ `.`. –ö–∞–∫ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–ª—É—á–∞—è—Ö, –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å—á–∏—Ç—ã–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –∏–∑ –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å.

```js
let key = "firstName";

let user1 = {
  firstName: "John"
};

let user2 = null;

alert( user1?.[key] ); // John
alert( user2?.[key] ); // undefined
```

–¢–∞–∫–∂–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `?.` —Å `delete`:

```js run
delete user?.name; // —É–¥–∞–ª—è–µ—Ç user.name –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

````warn header="–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `?.` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è, –Ω–æ –Ω–µ –¥–ª—è –∑–∞–ø–∏—Å–∏"
–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ `?.` –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ –≤ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è.

–ù–∞–ø—Ä–∏–º–µ—Ä:
```js run
let user = null;

user?.name = "John"; // –û—à–∏–±–∫–∞, –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
// —Ç–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å undefined = "John"
```
###### –ò—Ç–æ–≥–æ

–°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏ `?.` –∏–º–µ–µ—Ç —Ç—Ä–∏ —Ñ–æ—Ä–º—ã:

1. `obj?.prop` -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `obj.prop` –µ—Å–ª–∏ `obj` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ `undefined`.
2. `obj?.[prop]` -- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `obj[prop]` –µ—Å–ª–∏ `obj` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ `undefined`.
3. `obj.method?.()` -- –≤—ã–∑—ã–≤–∞–µ—Ç `obj.method()`, –µ—Å–ª–∏ `obj.method` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`.

–ö–∞–∫ –º—ã –≤–∏–¥–∏–º, –≤—Å–µ –æ–Ω–∏ –ø—Ä–æ—Å—Ç—ã –∏ –ø–æ–Ω—è—Ç–Ω—ã –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏. `?.` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–µ–≤—É—é —á–∞—Å—Ç—å –Ω–∞ `null/undefined` –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ç–∞–∫.

–¶–µ–ø–æ—á–∫–∞ `?.` –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º.

–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –º—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `?.` –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –ø–æ –ª–æ–≥–∏–∫–µ –∫–æ–¥–∞ –¥–æ–ø—É—Å—Ç–∏–º–æ, —á—Ç–æ –ª–µ–≤–∞—è —á–∞—Å—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ß—Ç–æ–±—ã –æ–Ω –Ω–µ —Å–∫—Ä—ã–≤–∞–ª –æ—Ç –Ω–∞—Å –æ—à–∏–±–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç.

##### call/apply/bind

https://learn.javascript.ru/call-apply-decorators#prozrachnoe-keshirovanie

–≠—Ç–∏ —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`this`) —Ñ—É–Ω–∫—Ü–∏–π –≤ JavaScript, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–º–Ω–æ–≥–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É.

###### 1. call()

–ú–µ—Ç–æ–¥ `call()` –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `this` –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```javascript
func.call(thisArg, arg1, arg2, ...)
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
function greet(greeting, punctuation) {
  console.log(`${greeting}, ${this.name}${punctuation}`);
}

const person = { name: 'Alice' };

greet.call(person, 'Hello', '!'); // "Hello, Alice!"
```

###### 2. apply()

–ú–µ—Ç–æ–¥ `apply()` –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω `call()`, –Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ (–∏–ª–∏ –º–∞—Å—Å–∏–≤–æ–ø–æ–¥–æ–±–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞).

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```javascript
func.apply(thisArg, [argsArray])
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
function greet(greeting, punctuation) {
  console.log(`${greeting}, ${this.name}${punctuation}`);
}

const person = { name: 'Bob' };
const args = ['Hi', '!!!'];

greet.apply(person, args); // "Hi, Bob!!!"
```

###### 3. bind()

–ú–µ—Ç–æ–¥ `bind()` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º `this` –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ (—á–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ). –§—É–Ω–∫—Ü–∏—è –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```javascript
const boundFunc = func.bind(thisArg, arg1, arg2, ...)
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
function greet(greeting, punctuation) {
  console.log(`${greeting}, ${this.name}${punctuation}`);
}

const person = { name: 'Charlie' };
const greetCharlie = greet.bind(person, 'Hey');

greetCharlie('...'); // "Hey, Charlie..."
```

###### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ú–µ—Ç–æ–¥  | –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ | –ê—Ä–≥—É–º–µ–Ω—Ç—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|--------|---------------|-----------|------------|
| call() | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ    | –°–ø–∏—Å–æ–∫    | –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ |
| apply()| –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ    | –ú–∞—Å—Å–∏–≤    | –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ |
| bind() | –ù–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è | –°–ø–∏—Å–æ–∫    | –ù–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º |

###### –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- **call()** - –∫–æ–≥–¥–∞ –∑–Ω–∞–µ—Ç–µ —Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- **apply()** - –∫–æ–≥–¥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–ª–∏ –≤ –º–∞—Å—Å–∏–≤–µ
- **bind()** - –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—ã–∑–æ–≤–∞

###### –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

–í ES6+ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–º–µ—é—Ç —Å–≤–æ–µ–≥–æ `this`) –∏–ª–∏ spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä:

```javascript
// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç apply() —Å spread
greet.call(person, ...args);

// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç bind() —Å–æ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π
const boundFunc = (...args) => greet.call(person, ...args);
```

###### –ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

1. **–ó–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤**:
```javascript
const obj1 = { name: 'Alice' };
const obj2 = { name: 'Bob' };

function showName() {
  console.log(this.name);
}

showName.call(obj1); // "Alice"
showName.call(obj2); // "Bob"
```

2. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–ø–æ–¥–æ–±–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤**:
```javascript
function argsToArray() {
  return [].slice.call(arguments);
}

argsToArray(1, 2, 3); // [1, 2, 3]
```

3. **–ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:
```javascript
function multiply(a, b) {
  return a * b;
}

const double = multiply.bind(null, 2);
double(5); // 10
```

##### –û–±—ä–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–∏, NFE

–ö–∞–∫ –º—ã —É–∂–µ –∑–Ω–∞–µ–º, –≤ JavaScript —Ñ—É–Ω–∫—Ü–∏—è -- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ JavaScript –∏–º–µ–µ—Ç —Å–≤–æ–π —Ç–∏–ø. –ê —Ñ—É–Ω–∫—Ü–∏—è -- —ç—Ç–æ –∫–∞–∫–æ–π —Ç–∏–ø?

–í JavaScript —Ñ—É–Ω–∫—Ü–∏–∏ -- —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã.

–ú–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ "–æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ". –§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –≤—ã–∑—ã–≤–∞—Ç—å, –Ω–æ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã: –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö –ø–æ —Å—Å—ã–ª–∫–µ –∏ —Ç.–¥.


###### –°–≤–æ–π—Å—Ç–≤–æ "name"

–û–±—ä–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–º –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–æ "name":

```js run
function sayHi() {
  alert("Hi");
}

alert(sayHi.name); // sayHi
```

–ß—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –∑–∞–±–∞–≤–Ω–æ, –ª–æ–≥–∏–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è `name` –≤–µ—Å—å–º–∞ —É–º–Ω–∞—è. –û–Ω–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–º—è –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –±–µ–∑ –∏–º–µ–Ω–∏ –∏ —Ç—É—Ç –∂–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è, –≤–æ—Ç —Ç–∞–∫:

```js run
let sayHi = function() {
  alert("Hi");
};

alert(sayHi.name); // sayHi (–µ—Å—Ç—å –∏–º—è!)
```

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```js run
function f(sayHi = function() {}) {
  alert(sayHi.name); // sayHi (—Ä–∞–±–æ—Ç–∞–µ—Ç!)
}

f();
```

–í —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –∏–º—è": –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –∏–º–µ–µ—Ç name, —Ç–æ JavaScript –ø—ã—Ç–∞–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–≥–æ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

–¢–∞–∫–∂–µ –∏–º–µ–Ω–∞ –∏–º–µ—é—Ç –∏ –º–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–∞:

```js run
let user = {

  sayHi() {
    // ...
  },

  sayBye: function() {
    // ...
  }

}

alert(user.sayHi.name); // sayHi
alert(user.sayBye.name); // sayBye
```

–í —ç—Ç–æ–º –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –º–∞–≥–∏–∏. –ë—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–º—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —Å–≤–æ–π—Å—Ç–≤–æ name –∏–º–µ–µ—Ç –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
// —Ñ—É–Ω–∫—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –º–∞—Å—Å–∏–≤–∞
let arr = [function() {}];

alert( arr[0].name ); // <–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞>
// –∑–¥–µ—Å—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–º—è, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –Ω–µ—Ç
```

–í–ø—Ä–æ—á–µ–º, –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Ç–∞–∫–æ–µ –±—ã–≤–∞–µ—Ç —Ä–µ–¥–∫–æ, –æ–±—ã—á–Ω–æ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç `name`.

###### –°–≤–æ–π—Å—Ç–≤–æ "length"

–ï—â—ë –æ–¥–Ω–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ "length" —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –µ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:

```js run
function f1(a) {}
function f2(a, b) {}
function many(a, b, ...more) {}

alert(f1.length); // 1
alert(f2.length); // 2
alert(many.length); // 2
```

–ö–∞–∫ –º—ã –≤–∏–¥–∏–º, —Ç—Ä–æ–µ—Ç–æ—á–∏–µ, –æ–±–æ–∑–Ω–∞—á–∞—é—â–µ–µ "–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã", –∑–¥–µ—Å—å –∫–∞–∫ –±—ã "–Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è".

–°–≤–æ–π—Å—Ç–≤–æ `length` –∏–Ω–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è [–∏–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏–π](https://ru.wikipedia.org/wiki/–ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è_(–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)) –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ–¥–µ –Ω–∏–∂–µ —Ñ—É–Ω–∫—Ü–∏—è `ask` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ–ø—Ä–æ—Å `question` –∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ—Ç–≤–µ—Ç–∞ `handler`.

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å, —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏. –ú—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –¥–≤–∞ —Ç–∏–ø–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

- –§—É–Ω–∫—Ü–∏—é –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.
- –§—É–Ω–∫—Ü–∏—é —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—Ç–≤–µ—Ç.

–ß—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `handler` –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –±—É–¥–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `handler.length`.

–ò–¥–µ—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (–Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Å–ª—É—á–∞–π), –Ω–æ —Ç–∞–∫–∂–µ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:

```js run
function ask(question, ...handlers) {
  let isYes = confirm(question);

  for(let handler of handlers) {
    if (handler.length == 0) {
      if (isYes) handler();
    } else {
      handler(isYes);
    }
  }

}

// –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –æ–±–∞ —Ç–∏–ø–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
// –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö - —Ç–æ–ª—å–∫–æ –≤—Ç–æ—Ä–æ–≥–æ —Ç–∏–ø–∞
ask("–í–æ–ø—Ä–æ—Å?", () => alert('–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –¥–∞'), result => alert(result));
```

–≠—Ç–æ —á–∞—Å—Ç–Ω—ã–π —Å–ª—É—á–∞–π —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–≥–æ [Ad-hoc-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞](https://ru.wikipedia.org/wiki/–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º_(–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞)#Ad-hoc-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º) -- –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö —Ç–∏–ø–∞ –∏–ª–∏, –∫–∞–∫ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ -- –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è `length`. –≠—Ç–∞ –∏–¥–µ—è –∏–º–µ–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö JavaScript.

###### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞

–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞.

–î–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º —Å–≤–æ–π—Å—Ç–≤–æ `counter` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–∑–æ–≤–æ–≤:

```js run
function sayHi() {
  alert("Hi");

  *!*
  // –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å—á–∏—Ç–∞–µ–º, —Å–∫–æ–ª—å–∫–æ –≤—ã–∑–æ–≤–æ–≤ –º—ã —Å–¥–µ–ª–∞–ª–∏
  sayHi.counter++;
  */!*
}
sayHi.counter = 0; // –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

sayHi(); // Hi
sayHi(); // Hi

alert( `–í—ã–∑–≤–∞–Ω–∞ ${sayHi.counter} —Ä–∞–∑–∞` ); // –í—ã–∑–≤–∞–Ω–∞ 2 —Ä–∞–∑–∞
```

```warn header="–°–≤–æ–π—Å—Ç–≤–æ –Ω–µ –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è"
–°–≤–æ–π—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –∫–∞–∫ `sayHi.counter = 0`, –Ω–µ *–æ–±—ä—è–≤–ª—è–µ—Ç* –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `counter` –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Å–≤–æ–π—Å—Ç–≤–æ `counter` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `let counter` - —ç—Ç–æ –¥–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –≤–µ—â–∏.

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –æ–±—ä–µ–∫—Ç, —Ö—Ä–∞–Ω–∏—Ç—å –≤ –Ω–µ–π —Å–≤–æ–π—Å—Ç–≤–∞, –Ω–æ –æ–Ω–∏ –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ -- —ç—Ç–æ –Ω–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç. –≠—Ç–æ –¥–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –º–∏—Ä–∞.
```

–ò–Ω–æ–≥–¥–∞ —Å–≤–æ–π—Å—Ç–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é-—Å—á—ë—Ç—á–∏–∫ –∏–∑ –≥–ª–∞–≤—ã <info:closure>, –∏—Å–ø–æ–ª—å–∑—É—è –µ—ë —Å–≤–æ–π—Å—Ç–≤–æ:

```js run
function makeCounter() {
  // –≤–º–µ—Å—Ç–æ
  // let count = 0

  function counter() {
    return counter.count++;
  };

  counter.count = 0;

  return counter;
}

let counter = makeCounter();
alert( counter() ); // 0
alert( counter() ); // 1
```

–°–≤–æ–π—Å—Ç–≤–æ `count` —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø—Ä—è–º–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ –≤ –µ—ë –≤–Ω–µ—à–Ω–µ–º –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

–≠—Ç–æ —Ö—É–∂–µ –∏–ª–∏ –ª—É—á—à–µ, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ?

–û—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `count` –∂–∏–≤—ë—Ç –≤–æ –≤–Ω–µ—à–Ω–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, —Ç–æ –æ–Ω–æ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–¥–∞. –ò–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ê –µ—Å–ª–∏ –æ–Ω–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–æ –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ –º—ã –º–æ–∂–µ–º –µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å:

```js run
function makeCounter() {

  function counter() {
    return counter.count++;
  };

  counter.count = 0;

  return counter;
}

let counter = makeCounter();

*!*
counter.count = 10;
alert( counter() ); // 10
*/!*
```

–ü–æ—ç—Ç–æ–º—É –≤—ã–±–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—à–∏—Ö —Ü–µ–ª–µ–π.

###### Named Function Expression

Named Function Expression –∏–ª–∏ NFE -- —ç—Ç–æ —Ç–µ—Ä–º–∏–Ω –¥–ª—è Function Expression, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –∏–º—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–≤–∞–π—Ç–µ –æ–±—ä—è–≤–∏–º Function Expression:

```js
let sayHi = function(who) {
  alert(`Hello, ${who}`);
};
```

–ò –ø—Ä–∏—Å–≤–æ–∏–º –µ–º—É –∏–º—è:

```js
let sayHi = function *!*func*/!*(who) {
  alert(`Hello, ${who}`);
};
```

–ß–µ–≥–æ –º—ã –∑–¥–µ—Å—å –¥–æ—Å—Ç–∏–≥–ª–∏? –ö–∞–∫–æ–≤–∞ —Ü–µ–ª—å —ç—Ç–æ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–º–µ–Ω–∏ `func`?

–î–ª—è –Ω–∞—á–∞–ª–∞ –∑–∞–º–µ—Ç–∏–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—Å—ë –µ—â—ë –∑–∞–¥–∞–Ω–∞ –∫–∞–∫ Function Expression. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `"func"` –ø–æ—Å–ª–µ `function` –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ Function Declaration, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ –≤—Å–µ –µ—â—ë —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–∫–æ–≥–æ –∏–º–µ–Ω–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞–µ—Ç.

–§—É–Ω–∫—Ü–∏—è –≤—Å–µ –µ—â—ë –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–∞–∫ `sayHi()`:

```js run
let sayHi = function *!*func*/!*(who) {
  alert(`Hello, ${who}`);
};

sayHi("John"); // Hello, John
```

–ï—Å—Ç—å –¥–≤–µ –≤–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–∏ `func`, —Ä–∞–¥–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω–æ –¥–∞—ë—Ç—Å—è:

1. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å–µ–±—è –∂–µ.
2. –û–Ω–æ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∏–∂–µ —Ñ—É–Ω–∫—Ü–∏—è `sayHi` –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ–±—è —Å `"Guest"`, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `who`:

```js run
let sayHi = function *!*func*/!*(who) {
  if (who) {
    alert(`Hello, ${who}`);
  } else {
*!*
    func("Guest"); // –∏—Å–ø–æ–ª—å–∑—É–µ—Ç func, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ –≤—ã–∑–≤–∞—Ç—å —Å–µ–±—è –∂–µ
*/!*
  }
};

sayHi(); // Hello, Guest

// –ê –≤–æ—Ç —Ç–∞–∫ - –Ω–µ c—Ä–∞–±–æ—Ç–∞–µ—Ç:
func(); // –û—à–∏–±–∫–∞, func –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏)
```

–ü–æ—á–µ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `func`? –ü–æ—á–µ–º—É –ø—Ä–æ—Å—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sayHi` –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞?

–í–æ–æ–±—â–µ, –æ–±—ã—á–Ω–æ –º—ã –º–æ–∂–µ–º —Ç–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å:

```js
let sayHi = function(who) {
  if (who) {
    alert(`Hello, ${who}`);
  } else {
*!*
    sayHi("Guest");
*/!*
  }
};
```

–û–¥–Ω–∞–∫–æ, —É —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ `sayHi` –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ. –§—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –¥—Ä—É–≥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∏ —Ç–æ–≥–¥–∞ –∫–æ–¥ –Ω–∞—á–Ω—ë—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫–∏:

```js run
let sayHi = function(who) {
  if (who) {
    alert(`Hello, ${who}`);
  } else {
*!*
    sayHi("Guest"); // –û—à–∏–±–∫–∞: sayHi –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π
*/!*
  }
};

let welcome = sayHi;
sayHi = null;

welcome(); // –û—à–∏–±–∫–∞, –≤–ª–æ–∂–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ sayHi –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

–¢–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –±–µ—Ä—ë—Ç `sayHi` –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –¢–∞–∫ –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `sayHi` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω—è—è. –ò –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞ —ç—Ç–∞ –≤–Ω–µ—à–Ω—è—è `sayHi` —Ä–∞–≤–Ω–∞ `null`.

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ Function Expression, –∫–∞–∫ —Ä–∞–∑ –∏ –ø—Ä–∏–∑–≤–∞–Ω–æ —Ä–µ—à–∞—Ç—å —Ç–∞–∫–æ–≥–æ —Ä–æ–¥–∞ –ø—Ä–æ–±–ª–µ–º—ã.

–î–∞–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ, —á—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞—à –∫–æ–¥:

```js run
let sayHi = function *!*func*/!*(who) {
  if (who) {
    alert(`Hello, ${who}`);
  } else {
*!*
    func("Guest"); // –¢–µ–ø–µ—Ä—å –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ
*/!*
  }
};

let welcome = sayHi;
sayHi = null;

welcome(); // Hello, Guest (–≤–ª–æ–∂–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

–¢–µ–ø–µ—Ä—å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º—è `"func"` –ª–æ–∫–∞–ª—å–Ω–æ–µ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –¢–µ–ø–µ—Ä—å –æ–Ω–æ –≤–∑—è—Ç–æ –Ω–µ —Å–Ω–∞—Ä—É–∂–∏ (–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –æ—Ç—Ç—É–¥–∞). –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–Ω–æ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Ç–µ–∫—É—â—É—é —Ñ—É–Ω–∫—Ü–∏—é.

–í–Ω–µ—à–Ω–∏–π –∫–æ–¥ –≤—Å–µ –µ—â—ë —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `sayHi` –∏ `welcome`, –Ω–æ —Ç–µ–ø–µ—Ä—å `func` -- —ç—Ç–æ "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏", —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ–Ω–∞ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å —Å–µ–±—è –∏–∑–Ω—É—Ç—Ä–∏.

```smart header="–≠—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Function Declaration"
–¢—Ä—é–∫ —Å "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º" –∏–º–µ–Ω–µ–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤—ã—à–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è Function Expression –∏ *–Ω–µ* —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è Function Declaration. –î–ª—è Function Declaration —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –Ω–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—ä—è–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ" –∏–º—è.

–ó–∞—á–∞—Å—Ç—É—é, –∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞–¥—ë–∂–Ω–æ–µ "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ" –∏–º—è, —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å Function Declaration –Ω–∞ Named Function Expression.
```

###### –ò—Ç–æ–≥–æ

–§—É–Ω–∫—Ü–∏–∏ -- —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã.

–ò—Ö —Å–≤–æ–π—Å—Ç–≤–∞:

- `name` -- –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏. –û–±—ã—á–Ω–æ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ –µ—Å–ª–∏ —Ç–∞–º –Ω–µ—Ç - JavaScript –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç—å –µ–≥–æ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
- `length` -- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –¢—Ä–æ–µ—Ç–æ—á–∏–µ ("–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã") –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è.

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –∫–∞–∫ Function Expression (–≤–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∫–æ–¥–∞) –∏ –∏–º–µ–µ—Ç –∏–º—è, —Ç–æ–≥–¥–∞ —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è Named Function Expression (–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –í—ã—Ä–∞–∂–µ–Ω–∏–µ–º). –≠—Ç–æ –∏–º—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–µ–±—è –∂–µ, –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∏ —Ç.–ø.

–¢–∞–∫–∂–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞. –ú–Ω–æ–≥–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏—Å–∫—É—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å.

–û–Ω–∏ —Å–æ–∑–¥–∞—é—Ç "–æ—Å–Ω–æ–≤–Ω—É—é" —Ñ—É–Ω–∫—Ü–∏—é –∏ –¥–æ–±–∞–≤–ª—è—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ "–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö" —Ñ—É–Ω–∫—Ü–∏–π –≤–Ω—É—Ç—Ä—å –ø–µ—Ä–≤–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ [jQuery](https://jquery.com) —Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å –∏–º–µ–Ω–µ–º `$`. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ [lodash](https://lodash.com) —Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é `_`, –∞ –ø–æ—Ç–æ–º –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–µ—ë  `_.clone`, `_.keyBy` –∏ –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ (—á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ –Ω–µ–π –ø–æ–±–æ–ª—å—à–µ —Å–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://lodash.com/docs)). –û–Ω–∏ –¥–µ–ª–∞—é—Ç —ç—Ç–æ, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∑–∞—Å–æ—Ä–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Ç–æ–≥–æ, —á—Ç–æ –æ–¥–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, —É–º–µ–Ω—å—à–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏–º—ë–Ω.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ, –Ω–æ —Ç–∞–∫–∂–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª–µ–∑–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–≤–æ–∏ —Å–≤–æ–π—Å—Ç–≤–∞.


##### MutationObserver: –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

`MutationObserver` - —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –Ω–∞–±–ª—é–¥–∞—é—â–∏–π –∑–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–º –∏ –∑–∞–ø—É—Å–∫–∞—é—â–∏–π –∫–æ–ª–±—ç–∫ –≤ —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–°–Ω–∞—á–∞–ª–∞ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º, –∞ –∑–∞—Ç–µ–º —Ä–∞–∑–±–µ—Ä—ë–º –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

###### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

`MutationObserver` –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

–°–Ω–∞—á–∞–ª–∞ –º—ã —Å–æ–∑–¥–∞—ë–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–ª–±—ç–∫-—Ñ—É–Ω–∫—Ü–∏–∏:

```js
let observer = new MutationObserver(callback);
```

–ü–æ—Ç–æ–º –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º –µ–≥–æ –∫ DOM-—É–∑–ª—É:

```js
observer.observe(node, config);
```

`config` - —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Å –±—É–ª–µ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ "–Ω–∞ –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å":
- `childList` -- –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ—Ç—è—Ö `node`,
- `subtree` -- –≤–æ –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–∞—Ö `node`,
- `attributes` -- –≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö `node`,
- `attributeFilter` -- –º–∞—Å—Å–∏–≤ –∏–º—ë–Ω –∞—Ç—Ä–∏–±—É—Ç–æ–≤, —á—Ç–æ–±—ã –Ω–∞–±–ª—é–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏.
- `characterData` -- –Ω–∞–±–ª—é–¥–∞—Ç—å –ª–∏ –∑–∞ `node.data` (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ),

–ò –µ—â—ë –ø–∞—Ä–∞ –æ–ø—Ü–∏–π:
- `characterDataOldValue` -- –µ—Å–ª–∏ `true`, –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ —Å—Ç–∞—Ä–æ–µ, –∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `node.data` –≤ –∫–æ–ª–±—ç–∫ (—Å–º –¥–∞–ª–µ–µ), –∏–Ω–∞—á–µ —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ–µ (—Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ü–∏—è `characterData`),
- `attributeOldValue` -- –µ—Å–ª–∏ `true`, –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ —Å—Ç–∞—Ä–æ–µ, –∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –≤ –∫–æ–ª–±—ç–∫ (—Å–º –¥–∞–ª–µ–µ), –∏–Ω–∞—á–µ —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ–µ (—Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ü–∏—è `attributes`).

–ó–∞—Ç–µ–º, –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `callback`, –≤ –∫–æ—Ç–æ—Ä—ã–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –∫–∞–∫ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ [MutationRecord](https://dom.spec.whatwg.org/#mutationrecord), –∞ —Å–∞–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∏–¥—ë—Ç –≤—Ç–æ—Ä—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º.

–û–±—ä–µ–∫—Ç—ã [MutationRecord](https://dom.spec.whatwg.org/#mutationrecord) –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:

- `type` -- —Ç–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ–¥–∏–Ω –∏–∑:
   - `"attributes"` –∏–∑–º–µ–Ω—ë–Ω –∞—Ç—Ä–∏–±—É—Ç,
   - `"characterData"` –∏–∑–º–µ–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ `elem.data`, —ç—Ç–æ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —É–∑–ª–æ–≤
   - `"childList"` –¥–æ–±–∞–≤–ª–µ–Ω—ã/—É–¥–∞–ª–µ–Ω—ã –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã,
- `target` -- –≥–¥–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è `"attributes"`, —Ç–µ–∫—Å—Ç–æ–≤—ã–π —É–∑–µ–ª –¥–ª—è `"characterData"` –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è `"childList"`,
- `addedNodes/removedNodes`  -- –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ/—É–¥–∞–ª—ë–Ω–Ω—ã–µ —É–∑–ª—ã,
- `previousSibling/nextSibling` -- –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π –æ–¥–Ω–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö/—É–¥–∞–ª—ë–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤,
- `attributeName/attributeNamespace` -- –∏–º—è/–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω (–¥–ª—è XML) –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞,
- `oldValue` -- –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–∞ –∏–ª–∏ —Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –æ–ø—Ü–∏—è `attributeOldValue`/`characterDataOldValue`.

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤–æ–∑—å–º—ë–º `<div>` —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `contentEditable`. –≠—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∏–∫–Ω—É–≤, –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

```html run untrusted
<div contentEditable id="elem">–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π <b>–º–µ–Ω—è</b>, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞</div>

<script>
let observer = new MutationObserver(mutationRecords => {
  console.log(mutationRecords); // console.log(–∏–∑–º–µ–Ω–µ–Ω–∏—è)
});

// –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –≤—Å–µ–º, –∫—Ä–æ–º–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
observer.observe(elem, {
  childList: true, // –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–µ—Ç—å–º–∏
  subtree: true, // –∏ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏–º–∏ –ø–æ—Ç–æ–º–∫–∞–º–∏
  characterDataOldValue: true // –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–ª–±—ç–∫
});
</script>
```

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –º—ã –∏–∑–º–µ–Ω–∏–º —Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ `<b>–º–µ–Ω—è</b>`, –º—ã –ø–æ–ª—É—á–∏–º –µ–¥–∏–Ω–∏—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:

```js
mutationRecords = [{
  type: "characterData",
  oldValue: "–º–µ–Ω—è",
  target: <text node>,
  // –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –ø—É—Å—Ç—ã
}];
```

–ï—Å–ª–∏ –º—ã –≤—ã–±–µ—Ä–µ–º –∏–ª–∏ —É–¥–∞–ª–∏–º `<b>–º–µ–Ω—è</b>` –ø–æ–ª–Ω–æ—Å—Ç—å—é, –º—ã –ø–æ–ª—É—á–∏–º —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```js
mutationRecords = [{
  type: "childList",
  target: <div#elem>,
  removedNodes: [<b>],
  nextSibling: <text node>,
  previousSibling: <text node>
  // –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –ø—É—Å—Ç—ã
}, {
  type: "characterData"
  target: <text node>
  // ...–¥–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–∞–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
  // –æ–Ω –º–æ–∂–µ—Ç —Å–æ–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —É–∑–ª–∞ "–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π " –∏ ", –ø–æ–∂–∞–ª—É–π—Å—Ç–∞" –≤ –æ–¥–∏–Ω —É–∑–µ–ª
  // –∏–ª–∏ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –∏—Ö —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —É–∑–ª–∞–º–∏
}];
```

–¢–∞–∫ —á—Ç–æ, `MutationObserver` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ DOM-–ø–æ–¥–¥–µ—Ä–µ–≤–µ.

###### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–ö–æ–≥–¥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–∂–Ω–æ?

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –≤—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–∞–∫—É—é-—Ç–æ –ø–æ–ª–µ–∑–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –¥–µ–ª–∞–µ—Ç —á—Ç–æ-—Ç–æ –ª–∏—à–Ω–µ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∫–ª–∞–º—É `<div class="ads">–ù–µ–Ω—É–∂–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞</div>`.

–†–∞–∑—É–º–µ–µ—Ç—Å—è, —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –Ω–µ –¥–∞—ë—Ç –∫–∞–∫–∏—Ö-—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –µ—ë —É–±—Ä–∞—Ç—å.

–ò—Å–ø–æ–ª—å–∑—É—è `MutationObserver`, –º—ã –º–æ–∂–µ–º –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –∫–æ–≥–¥–∞ –≤ –Ω–∞—à–µ–º DOM –ø–æ—è–≤–∏—Ç—Å—è —Ç–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –∏ —É–¥–∞–ª–∏—Ç—å –µ–≥–æ. –ê –ø–æ–ª–µ–∑–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–≤–∏—Ç—å. –•–æ—Ç—è, –∫–æ–Ω–µ—á–Ω–æ, —Å–æ–∑–¥–∞—Ç–µ–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –≤—Ä—è–¥ –ª–∏ –æ–±—Ä–∞–¥—É—é—Ç—Å—è, —á—Ç–æ –≤—ã –∏—Ö –ø–æ–ª–µ–∑–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –≤–∑—è–ª–∏, –∞ —Ä–µ–∫–ª–∞–º—É —É–¥–∞–ª–∏–ª–∏.

–ï—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —á—Ç–æ-—Ç–æ –≤ –Ω–∞—à –¥–æ–∫—É–º–µ–Ω—Ç, –∏ –º—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –∫–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, —á—Ç–æ–±—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–º–µ–Ω—è—Ç—å –∫–∞–∫–∏–µ-—Ç–æ —Ä–∞–∑–º–µ—Ä—ã –∏ —Ç.–ø.

`MutationObserver` –¥–ª—è —ç—Ç–æ–≥–æ –∫–∞–∫ —Ä–∞–∑ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç.

###### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ï—Å—Ç—å –∏ —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ `MutationObserver` —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è.

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã —Å–æ–∑–¥–∞—ë–º —Å–∞–π—Ç –æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —Å—Ç–∞—Ç—å–∏ –Ω–∞ –Ω—ë–º –∏ –¥—Ä—É–≥–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.

–¢–∞–∫–æ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –≤ HTML-—Ä–∞–∑–º–µ—Ç–∫–µ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```html
...
<pre class="language-javascript"><code>
  // –≤–æ—Ç –∫–æ–¥
  let hello = "world";
</code></pre>
...
```

–¢–∞–∫–∂–µ –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä [Prism.js](https://prismjs.com/). –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `Prism.highlightElem(pre)` –∏—â–µ—Ç —Ç–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã `pre` –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–∏—Ö —Å—Ç–∏–ª–∏ –∏ —Ç–µ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤ –∏—Ç–æ–≥–µ –¥–∞—é—Ç —Ü–≤–µ—Ç–Ω—É—é –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –ø–æ–¥–æ–±–Ω–æ —Ç–æ–π, –∫–æ—Ç–æ—Ä—É—é –≤—ã –≤–∏–¥–∏—Ç–µ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –∑–¥–µ—Å—å, –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

–ö–æ–≥–¥–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –Ω–∞–º –≤—ã–∑–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–¥—Å–≤–µ—Ç–∫–∏? –ú–æ–∂–Ω–æ –ø–æ —Å–æ–±—ã—Ç–∏—é `DOMContentLoaded` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –≤—Å–µ `pre[class*="language"]` –∏ –≤—ã–∑—ã–≤–∞—Ç—å `Prism.highlightElem` –¥–ª—è –Ω–∏—Ö:

```js
// –≤—ã–¥–µ–ª–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
document.querySelectorAll('pre[class*="language"]').forEach(Prism.highlightElem);
```

–ü–æ–∫–∞ –≤—Å—ë –ø—Ä–æ—Å—Ç–æ, –ø—Ä–∞–≤–¥–∞? –í HTML –µ—Å—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞ –≤ `<pre>`, –∏ –¥–ª—è –Ω–∏—Ö –º—ã –≤–∫–ª—é—á–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.

–ò–¥—ë–º –¥–∞–ª—å—à–µ. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Å —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–∑–∂–µ –≤ —É—á–µ–±–Ω–∏–∫–µ –º—ã –∏–∑—É—á–∏–º [—Å–ø–æ—Å–æ–±—ã –¥–ª—è —ç—Ç–æ–≥–æ](info:fetch). –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –º—ã –ø–æ–ª—É—á–∞–µ–º HTML-—Å—Ç–∞—Ç—å—é —Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ—ë –ø–æ –∑–∞–ø—Ä–æ—Å—É:

```js
let article = /* –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é —Å —Å–µ—Ä–≤–µ—Ä–∞ */
articleElem.innerHTML = article;
```

HTML –ø–æ–¥–≥—Ä—É–∂—ë–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏ `article` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞. –ù–∞–º –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å `Prism.highlightElem` –¥–ª—è –Ω–∏—Ö, —á—Ç–æ–±—ã –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.

**–ö—Ç–æ –∏ –∫–æ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å `Prism.highlightElem` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏?**

–ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ –∫ –∫–æ–¥—É, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç–∞—Ç—å—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:

```js
let article = /* –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é —Å —Å–µ—Ä–≤–µ—Ä–∞ */
articleElem.innerHTML = article;

*!*
let snippets = articleElem.querySelectorAll('pre[class*="language-"]');
snippets.forEach(Prism.highlightElem);
*/!*
```

...–ù–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –º–Ω–æ–≥–æ –º–µ—Å—Ç –≤ –∫–æ–¥–µ, –≥–¥–µ –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º —á—Ç–æ-–ª–∏–±–æ: —Å—Ç–∞—Ç—å–∏, –æ–ø—Ä–æ—Å—ã, –ø–æ—Å—Ç—ã —Ñ–æ—Ä—É–º–∞. –ù—É–∂–Ω–æ –ª–∏ –Ω–∞–º –≤ –∫–∞–∂–¥—ã–π —Ç–∞–∫–æ–π –≤—ã–∑–æ–≤ –¥–æ–±–∞–≤–ª—è—Ç—å `Prism.highlightElem`? –ü–æ–ª—É—á–∏—Ç—Å—è –Ω–µ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ, –¥–∞ –∏ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–±—ã—Ç—å —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ.

–ê —á—Ç–æ, –µ—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤–æ–æ–±—â–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –∫–æ–¥–æ–º? –ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å —Ñ–æ—Ä—É–º, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –¥—Ä—É–≥–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º, –∑–∞–≥—Ä—É–∂–∞—é—â–∏–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –∏ –Ω–∞–º –∑–∞—Ö–æ—Ç–µ–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –∫ –Ω–µ–º—É –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞. –ù–∏–∫—Ç–æ –Ω–µ –ª—é–±–∏—Ç –ø—Ä–∞–≤–∏—Ç—å —á—É–∂–∏–µ —Å–∫—Ä–∏–ø—Ç—ã.

–ö —Å—á–∞—Å—Ç—å—é, –µ—Å—Ç—å –¥—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç.

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `MutationObserver`, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –∏—Ö.

–¢–æ–≥–¥–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –±—É–¥–µ—Ç –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –∞ –º—ã –±—É–¥–µ–º –∏–∑–±–∞–≤–ª–µ–Ω—ã –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ—ë.

###### –ü—Ä–∏–º–µ—Ä –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

–í–æ—Ç —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–∏–º–µ—Ä.

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥, –æ–Ω –Ω–∞—á–Ω—ë—Ç –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–º –Ω–∏–∂–µ, –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—è –∫–æ–¥ –ª—é–±–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–∞–º:

```js run
let observer = new MutationObserver(mutations => {

  for(let mutation of mutations) {
    // –ø—Ä–æ–≤–µ—Ä–∏–º –Ω–æ–≤—ã–µ —É–∑–ª—ã, –µ—Å—Ç—å –ª–∏ —á—Ç–æ-—Ç–æ, —á—Ç–æ –Ω–∞–¥–æ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å?

    for(let node of mutation.addedNodes) {
      // –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —É–∑–ª—ã-—ç–ª–µ–º–µ–Ω—Ç—ã, –¥—Ä—É–≥–∏–µ (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ) –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
      if (!(node instanceof HTMLElement)) continue;

      // –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–∏–º–µ—Ä–æ–º –∫–æ–¥–∞
      if (node.matches('pre[class*="language-"]')) {
        Prism.highlightElement(node);
      }

      // –∏–ª–∏, –º–æ–∂–µ—Ç –±—ã—Ç—å, –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –µ—Å—Ç—å –≤ –µ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–µ?
      for(let elem of node.querySelectorAll('pre[class*="language-"]')) {
        Prism.highlightElement(elem);
      }
    }
  }

});

let demoElem = document.getElementById('highlight-demo');

observer.observe(demoElem, {childList: true, subtree: true});
```

–ù–∏–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è HTML-—ç–ª–µ–º–µ–Ω—Ç –∏ JavaScript, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç –ø—Ä–∏–º–µ—Ä–æ–º –∫–æ–¥–∞ —á–µ—Ä–µ–∑ `innerHTML`.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥ (–æ–Ω –Ω–∞–±–ª—é–¥–∞–µ—Ç –∑–∞ —ç—Ç–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º), –∞ –∑–∞—Ç–µ–º –∫–æ–¥, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –Ω–∏–∂–µ. –í—ã —É–≤–∏–¥–∏—Ç–µ –∫–∞–∫ `MutationObserver` –æ–±–Ω–∞—Ä—É–∂–∏—Ç –∏ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞.

<p id="highlight-demo" style="border: 1px solid #ddd">–î–µ–º–æ-—ç–ª–µ–º–µ–Ω—Ç —Å <code>id="highlight-demo"</code>, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥–∏—Ç –∫–æ–¥ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã—à–µ.</p>

```js run
let demoElem = document.getElementById('highlight-demo');

// –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∫ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞
demoElem.innerHTML = `–§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞ –Ω–∏–∂–µ:
  <pre class="language-javascript"><code> let hello = "world!"; </code></pre>
  <div>–ï—â—ë –æ–¥–∏–Ω:</div>
  <div>
    <pre class="language-css"><code>.class { margin: 5px; } </code></pre>
  </div>
`;
```

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å `MutationObserver`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å—Ç–∞–≤–∫—É –∫–æ–¥–∞ –≤ –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∏–ª–∏ –≤–æ –≤—Å—ë–º –¥–æ–∫—É–º–µ–Ω—Ç–µ. –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞ –≤ HTML, –Ω–µ –∑–∞–¥—É–º—ã–≤–∞—è—Å—å –æ–± –∏—Ö –ø–æ–¥—Å–≤–µ—Ç–∫–µ.

###### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

–ú–µ—Ç–æ–¥, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —É–∑–ª–æ–º:

- `observer.disconnect()` -- –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ.

–í–º–µ—Å—Ç–µ —Å –Ω–∏–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ—Ç–æ–¥:

- `mutationRecords = observer.takeRecords()` -- –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏–∑–æ—à–ª–∏, –Ω–æ –∫–æ–ª–±—ç–∫ –¥–ª—è –Ω–∏—Ö –µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è.

```js
// –º—ã –æ—Ç–∫–ª—é—á–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å
observer.disconnect();

// –æ–Ω, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–µ —É—Å–ø–µ–ª –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
let mutationRecords = observer.takeRecords();
// –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å mutationRecords
```

###### –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞

–û–±—ä–µ–∫—Ç—ã `MutationObserver` –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ ["—Å–ª–∞–±—ã–µ —Å—Å—ã–ª–∫–∏"](https://ru.wikipedia.org/wiki/%D0%A1%D0%BB%D0%B0%D0%B1%D0%B0%D1%8F_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0) –Ω–∞ —É–∑–ª—ã, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–º–æ—Ç—Ä—è—Ç. –¢–∞–∫ —á—Ç–æ –µ—Å–ª–∏ —É–∑–µ–ª —É–¥–∞–ª—ë–Ω –∏–∑ DOM –∏ –±–æ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç–∏–∂–∏–º, —Ç–æ –æ–Ω –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –ø–∞–º—è—Ç–∏ –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.


###### –ò—Ç–æ–≥–æ

`MutationObserver` –º–æ–∂–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ DOM: –∞—Ç—Ä–∏–±—É—Ç—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ/—É–¥–∞–ª—ë–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ –¥—Ä—É–≥–∏–º–∏ —á–∞—Å—Ç—è–º–∏ –Ω–∞—à–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –∞ —Ç–∞–∫–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏.

`MutationObserver` –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –†–∞–∑–Ω—ã–µ –æ–ø—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ "—á—Ç–æ –Ω–∞–±–ª—é–¥–∞—Ç—å" –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ –ª–∏—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã –∫–æ–ª–±—ç–∫–∞.


##### Proto / prototype –≤ javascript
https://stackoverflow.com/questions/9959727/what-is-the-difference-between-prototype-and-proto

###### –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã (Prototype) –≤ JavaScript

–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è JavaScript, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ª–∏—á–∞–µ—Ç –µ–≥–æ –æ—Ç –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

###### 1. `__proto__` (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ)

–°–≤–æ–π—Å—Ç–≤–æ `__proto__` - —ç—Ç–æ –≥–µ—Ç—Ç–µ—Ä/—Å–µ—Ç—Ç–µ—Ä –¥–ª—è `[[Prototype]]` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞).

```javascript
const animal = { eats: true };
const rabbit = { jumps: true };

rabbit.__proto__ = animal; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ—Ç–æ—Ç–∏–ø

console.log(rabbit.eats); // true (–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç animal)
```

‚ö†Ô∏è `__proto__` —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∫–æ–¥–µ.

###### 2. `Object.getPrototypeOf` / `Object.setPrototypeOf`

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞–º–∏:

```javascript
const animal = { eats: true };
const rabbit = { jumps: true };

Object.setPrototypeOf(rabbit, animal); // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

console.log(Object.getPrototypeOf(rabbit) === animal); // true
```

###### 3. `prototype` (—É —Ñ—É–Ω–∫—Ü–∏–π)

–°–≤–æ–π—Å—Ç–≤–æ `prototype` –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —Ñ—É–Ω–∫—Ü–∏–π –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `new`.

```javascript
function Animal(name) {
  this.name = name;
}

Animal.prototype.eats = true; // –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø

const rabbit = new Animal('Rabbit');
console.log(rabbit.eats); // true
```

###### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `__proto__`, `prototype` –∏ `[[Prototype]]`

1. **`[[Prototype]]`** - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–µ –Ω–∞–ø—Ä—è–º—É—é
2. **`__proto__`** - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –≥–µ—Ç—Ç–µ—Ä/—Å–µ—Ç—Ç–µ—Ä –¥–ª—è `[[Prototype]]`
3. **`prototype`** - —Å–≤–æ–π—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤

###### –¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤

–ö–æ–≥–¥–∞ JS –∏—â–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ –≤ –æ–±—ä–µ–∫—Ç–µ:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∞–º–æ —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç, –∏—â–µ—Ç –≤ `[[Prototype]]`
3. –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏–¥—Ç–∏ –ø–æ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –¥–æ `null`

```javascript
const grandparent = { a: 1 };
const parent = { b: 2 };
const child = { c: 3 };

Object.setPrototypeOf(parent, grandparent);
Object.setPrototypeOf(child, parent);

console.log(child.a); // 1 (–∏–∑ grandparent)
console.log(child.b); // 2 (–∏–∑ parent)
console.log(child.c); // 3 (—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ)
```

###### –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞–º–∏

###### –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º

```javascript
const animal = { eats: true };
const rabbit = Object.create(animal); // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º

console.log(rabbit.eats); // true
```

###### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤

```javascript
console.log(Object.getPrototypeOf(rabbit) === animal); // true
console.log(animal.isPrototypeOf(rabbit)); // true
```


###### 1. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

```javascript
function Animal(name) {
  this.name = name;
}

Animal.prototype.speak = function() {
  console.log(`${this.name} makes a noise.`);
};

function Dog(name) {
  Animal.call(this, name); // –í—ã–∑—ã–≤–∞–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
}

// –ù–∞—Å–ª–µ–¥—É–µ–º –ø—Ä–æ—Ç–æ—Ç–∏–ø
Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;

Dog.prototype.speak = function() {
  console.log(`${this.name} barks.`);
};

const dog = new Dog('Rex');
dog.speak(); // "Rex barks."
```

###### 2. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (–∫–ª–∞—Å—Å—ã)

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∫–ª–∞—Å—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:

```javascript
class Animal {
  constructor(name) {
    this.name = name;
  }
  
  speak() {
    console.log(`${this.name} makes a noise.`);
  }
}

class Dog extends Animal {
  speak() {
    console.log(`${this.name} barks.`);
  }
}

const dog = new Dog('Rex');
dog.speak(); // "Rex barks."
```

###### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã

1. –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
2. –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏ (–º–µ—Ç–æ–¥—ã –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
3. –î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)

```javascript
// –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
Array.prototype.last = function() {
  return this[this.length - 1];
};

console.log([1, 2, 3].last()); // 3
```

–ü—Ä–æ—Ç–æ—Ç–∏–ø—ã - –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º JavaScript, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º.

`__proto__`¬†is the actual object that is used in the lookup chain to resolve methods, etc.¬†`prototype`¬†is the object that is used to build¬†`__proto__`¬†when you create an object with¬†`new`:

```javascript
( new Foo ).__proto__ === Foo.prototype
( new Foo ).prototype === undefined
```


##### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `for...in` –∏ `Object.keys()` –≤ JavaScript

https://stackoverflow.com/questions/25052758/for-in-vs-object-keys-foreach-without-inherited-properties

–û–±–∞ –º–µ—Ç–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞, –Ω–æ –∏–º–µ—é—Ç –≤–∞–∂–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:

###### 1. `for...in`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤—Å–µ **–ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º—ã–µ** (enumerable) —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞, –≤–∫–ª—é—á–∞—è —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
- –ü–æ—Ä—è–¥–æ–∫ –ø–µ—Ä–µ–±–æ—Ä–∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω (—Ö–æ—Ç—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –æ–±—ã—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—è–¥–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∫–ª—é—á–∏ (–∏–º–µ–Ω–∞ —Å–≤–æ–π—Å—Ç–≤)**

```javascript
const obj = { a: 1, b: 2 };
Object.defineProperty(obj, 'c', { value: 3, enumerable: false });

for (const key in obj) {
  console.log(key); // 'a', 'b' (–Ω–æ –Ω–µ 'c')
}
```

###### 2. `Object.keys()`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ç–æ–ª—å–∫–æ **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö** (–Ω–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö) –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞
- –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—è–¥–∫—É, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `for...in`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫** - –∏–º–µ–Ω —Å–≤–æ–π—Å—Ç–≤

```javascript
const obj = { a: 1, b: 2 };
Object.defineProperty(obj, 'c', { value: 3, enumerable: false });

console.log(Object.keys(obj)); // ['a', 'b']
```

###### –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞       | `for...in`               | `Object.keys()`          |
|----------------------|--------------------------|--------------------------|
| **–£–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞** | –í–∫–ª—é—á–∞–µ—Ç | –ù–µ –≤–∫–ª—é—á–∞–µ—Ç |
| **–¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**   | –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–∞–º       | –ú–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–π            |
| **–ù–µ–ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞** | –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç | –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–∏–∑-–∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤) | –ë—ã—Å—Ç—Ä–µ–µ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**    | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞, –≤–∫–ª—é—á–∞—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ |

###### –ü—Ä–∏–º–µ—Ä —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞–º–∏

```javascript
function Parent() { this.parentProp = 'parent'; }
Parent.prototype.inheritedProp = 'inherited';

function Child() { this.childProp = 'child'; }
Child.prototype = new Parent();

const obj = new Child();

// for...in
for (const key in obj) {
  console.log(key); // 'childProp', 'parentProp', 'inheritedProp'
}

// Object.keys()
console.log(Object.keys(obj)); // ['childProp', 'parentProp']
```

###### –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `for...in` –∫–æ–≥–¥–∞:**
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞, –≤–∫–ª—é—á–∞—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ
- –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, –≥–¥–µ –≤–∞–∂–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Object.keys()` –∫–æ–≥–¥–∞:**
- –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞
- –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–π –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –í–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

###### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

–î–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è:
- `Object.getOwnPropertyNames()` - –≤—Å–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (–≤–∫–ª—é—á–∞—è –Ω–µ–ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º—ã–µ)
- `Object.getOwnPropertySymbols()` - —Å–≤–æ–π—Å—Ç–≤–∞-—Å–∏–º–≤–æ–ª—ã
- `Reflect.ownKeys()` - –≤—Å–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏ (–≤–∫–ª—é—á–∞—è —Å–∏–º–≤–æ–ª—ã)

###### –†–∞–∑–Ω–∏—Ü–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É `for...in` –∏ `Object.keys()`

–î–∞, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –¥–≤—É–º—è –ø–æ–¥—Ö–æ–¥–∞–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏–ª–∏ –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—á–∞—Å—Ç–∫–∞—Ö –∫–æ–¥–∞.

###### –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **`Object.keys()` –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ**:
   - –í —Å—Ä–µ–¥–Ω–µ–º –≤ 2-4 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ `for...in` –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–≤–∏–∂–∫–∞—Ö JavaScript
   - –†–∞–∑–Ω–∏—Ü–∞ –æ—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–∞ –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö (1000+ —Å–≤–æ–π—Å—Ç–≤)

2. **–ü—Ä–∏—á–∏–Ω—ã —Ä–∞–∑–Ω–∏—Ü—ã**:
   - `for...in` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å—é —Ü–µ–ø–æ—á–∫—É –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
   - `Object.keys()` —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞
   - `Object.keys()` —Å–æ–∑–¥–∞–µ—Ç –º–∞—Å—Å–∏–≤ –æ–¥–∏–Ω —Ä–∞–∑, –∑–∞—Ç–µ–º –º–æ–∂–Ω–æ –µ–≥–æ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

###### –ë–µ–Ω—á–º–∞—Ä–∫–∏ (—Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ —Å 10,000 —Å–≤–æ–π—Å—Ç–≤:

```javascript
const largeObj = {};
for (let i = 0; i < 10000; i++) {
  largeObj[`prop${i}`] = i;
}

// –¢–µ—Å—Ç for...in
console.time('for...in');
for (const key in largeObj) {
  if (largeObj.hasOwnProperty(key)) {
    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
    const value = largeObj[key];
  }
}
console.timeEnd('for...in');

// –¢–µ—Å—Ç Object.keys()
console.time('Object.keys()');
const keys = Object.keys(largeObj);
for (let i = 0; i < keys.length; i++) {
  const value = largeObj[keys[i]];
}
console.timeEnd('Object.keys()');
```

–¢–∏–ø–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (Chrome, Node.js):
- `for...in`: ~5-8ms
- `Object.keys()`: ~1-3ms

###### –ö–æ–≥–¥–∞ —Ä–∞–∑–Ω–∏—Ü–∞ –Ω–∞–∏–±–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω–∞

1. **–ë–æ–ª—å—à–∏–µ –æ–±—ä–µ–∫—Ç—ã** (1000+ —Å–≤–æ–π—Å—Ç–≤)
2. **–ß–∞—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** (–≤ —Ü–∏–∫–ª–∞—Ö –∞–Ω–∏–º–∞—Ü–∏–∏, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π)
3. **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–∫–∏ –∫–æ–¥–∞**

###### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:
   ```javascript
   const keys = Object.keys(obj);
   for (let i = 0; i < keys.length; i++) {
     const value = obj[keys[i]];
   }
   ```

2. **–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –∏ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞**:
   ```javascript
   for (const key in obj) {
     if (obj.hasOwnProperty(key)) { // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
       const value = obj[key];
     }
   }
   ```

3. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (ES2015+):
   ```javascript
   // Object.entries() + –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è
   for (const [key, value] of Object.entries(obj)) {
     // ...
   }
   ```

###### –í—ã–≤–æ–¥—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Object.keys()`** –∫–æ–≥–¥–∞:
   - –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
   - –í–∞–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `for...in`** –∫–æ–≥–¥–∞:
   - –ù—É–∂–Ω—ã –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞, –≤–∫–ª—é—á–∞—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ
   - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞
   - –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏

–†–∞–∑–Ω–∏—Ü–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–∞ –≤:
- –ò–≥—Ä–æ–≤—ã—Ö –¥–≤–∏–∂–∫–∞—Ö
- –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- –°–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- –ú–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏

##### Async/await

–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–º–∏—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "async/await". –û–Ω —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

###### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ù–∞—á–Ω—ë–º —Å –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `async`. –û–Ω–æ —Å—Ç–∞–≤–∏—Ç—Å—è –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π, –≤–æ—Ç —Ç–∞–∫:

```js
async function f() {
  return 1;
}
```

–£ —Å–ª–æ–≤–∞ `async` –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–æ–π —Å–º—ã—Å–ª: —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å. –ó–Ω–∞—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–º–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `1`:

```js run
async function f() {
  return 1;
}

f().then(alert); // 1
```

–ú–æ–∂–Ω–æ –∏ —è–≤–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–º–∏—Å, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º:

```js run
async function f() {
  return Promise.resolve(1);
}

f().then(alert); // 1
```

–¢–∞–∫ —á—Ç–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `async` –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –≤–µ—Ä–Ω—ë—Ç –ø—Ä–æ–º–∏—Å. –°–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ? –ù–æ —ç—Ç–æ –µ—â—ë –Ω–µ –≤—Å—ë. –ï—Å—Ç—å –¥—Ä—É–≥–æ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ - `await`, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ `async`-—Ñ—É–Ω–∫—Ü–∏–π.

###### Await

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```js
// —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ async‚Äì—Ñ—É–Ω–∫—Ü–∏–π
let value = await promise;
```

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `await` –∑–∞—Å—Ç–∞–≤–∏—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä JavaScript –∂–¥–∞—Ç—å –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å —Å–ø—Ä–∞–≤–∞ –æ—Ç `await` –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è. –ü–æ—Å–ª–µ —á–µ–≥–æ –æ–Ω–æ –≤–µ—Ä–Ω—ë—Ç –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è.

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–æ–º–∏—Å —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É:

```js run
async function f() {

  let promise = new Promise((resolve, reject) => {
    setTimeout(() => resolve("–≥–æ—Ç–æ–≤–æ!"), 1000)
  });

*!*
  let result = await promise; // –±—É–¥–µ—Ç –∂–¥–∞—Ç—å, –ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è (*)
*/!*

  alert(result); // "–≥–æ—Ç–æ–≤–æ!"
}

f();
```

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–æ–∫–µ `(*)` –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è. –≠—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏. –ü–æ—Å–ª–µ —á–µ–≥–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `result` –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞, –∏ –±—Ä–∞—É–∑–µ—Ä –æ—Ç–æ–±—Ä–∞–∑–∏—Ç alert-–æ–∫–Ω–æ "–≥–æ—Ç–æ–≤–æ!".

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —Ö–æ—Ç—è `await` –∏ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç JavaScript –¥–æ–∂–∏–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞, —ç—Ç–æ –Ω–µ –æ—Ç–Ω–∏–º–∞–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –ü–æ–∫–∞ –ø—Ä–æ–º–∏—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, JS-–¥–≤–∏–∂–æ–∫ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏: –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ—á–∏–µ —Å–∫—Ä–∏–ø—Ç—ã, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ —Ç.–ø.

–ü–æ —Å—É—Ç–∏, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ "—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–º–∏—Å–∞, –±–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–Ω—ã–π, —á–µ–º `promise.then`.

````warn header="`await` –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö"
–ï—Å–ª–∏ –º—ã –ø–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `await` –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–π –±–µ–∑ `async`, –ø–æ–ª—É—á–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫—É—é –æ—à–∏–±–∫—É:

```js run
function f() {
  let promise = Promise.resolve(1);
*!*
  let result = await promise; // SyntaxError
*/!*
}
```

–û—à–∏–±–∫–∏ –Ω–µ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –º—ã —É–∫–∞–∂–µ–º –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `async` –ø–µ—Ä–µ–¥ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏. –ö–∞–∫ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ —Ä–∞–Ω—å—à–µ, `await` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ `async`‚Äì—Ñ—É–Ω–∫—Ü–∏–π.
````

–î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–ø–∏—à–µ–º –ø—Ä–∏–º–µ—Ä `showAvatar()` –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ <info:promise-chaining> —Å –ø–æ–º–æ—â—å—é `async/await`:

1. –ù–∞–º –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã `.then` –Ω–∞ `await`.
2. –ò –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `async` –ø–µ—Ä–µ–¥ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏.

```js run
async function showAvatar() {

  // –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  let response = await fetch('/article/promise-chaining/user.json');
  let user = await response.json();

  // –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏–∑ github
  let githubResponse = await fetch(`https://api.github.com/users/${user.name}`);
  let githubUser = await githubResponse.json();

  // –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∞–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  let img = document.createElement('img');
  img.src = githubUser.avatar_url;
  img.className = "promise-avatar-example";
  document.body.append(img);

  // –∂–¥—ë–º 3 —Å–µ–∫—É–Ω–¥—ã –∏ –∑–∞—Ç–µ–º —Å–∫—Ä—ã–≤–∞–µ–º –∞–≤–∞—Ç–∞—Ä
  await new Promise((resolve, reject) => setTimeout(resolve, 3000));

  img.remove();

  return githubUser;
}

showAvatar();
```

–ü–æ–ª—É—á–∏–ª–æ—Å—å –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –∏ —á–∏—Ç–∞–µ–º–æ, –ø—Ä–∞–≤–¥–∞? –ì–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ, —á–µ–º —Ä–∞–Ω—å—à–µ.

````smart header="`await` –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏"
–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã, —É–∑–Ω–∞–≤ –æ–± `await`, —á–∞—Å—Ç–æ –ø—ã—Ç–∞—é—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (–≤–Ω–µ —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏). –ù–æ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ `await` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ `async`‚Äì—Ñ—É–Ω–∫—Ü–∏–π, —Ç–∞–∫ —Å–¥–µ–ª–∞—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è:

```js run
// SyntaxError –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
let response = await fetch('/article/promise-chaining/user.json');
let user = await response.json();
```

–ú–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –≤ –∞–Ω–æ–Ω–∏–º–Ω—É—é `async`‚Äì—Ñ—É–Ω–∫—Ü–∏—é, —Ç–æ–≥–¥–∞ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç:

```js
(async () => {
  let response = await fetch('/article/promise-chaining/user.json');
  let user = await response.json();
  ...
})();
```


````
````smart header="`await` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å \"thenable\"‚Äì–æ–±—ä–µ–∫—Ç–∞–º–∏"
–ö–∞–∫ –∏ `promise.then`, `await` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–º–∏—Å‚Äì—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏. –ò–¥–µ—è –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ —É –æ–±—ä–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ `then`, —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —Å `await`.

–í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ, —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–∞ `Thenable` –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å `await`:

```js run
class Thenable {
  constructor(num) {
    this.num = num;
  }
  then(resolve, reject) {
    alert(resolve);
    // –≤—ã–ø–æ–ª–Ω–∏—Ç—å resolve —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º this.num * 2 —á–µ—Ä–µ–∑ 1000–º—Å
    setTimeout(() => resolve(this.num * 2), 1000); // (*)
  }
};

async function f() {
  // –∫–æ–¥ –±—É–¥–µ—Ç –∂–¥–∞—Ç—å 1 —Å–µ–∫—É–Ω–¥—É,
  // –ø–æ—Å–ª–µ —á–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ result —Å—Ç–∞–Ω–µ—Ç —Ä–∞–≤–Ω—ã–º 2
  let result = await new Thenable(1);
  alert(result);
}

f();
```

–ö–æ–≥–¥–∞ `await` –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å `.then`, –Ω–µ —è–≤–ª—è—é—â–∏–π—Å—è –ø—Ä–æ–º–∏—Å–æ–º, JavaScript –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—ã ‚Äì –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `resolve` –∏ `reject`. –ó–∞—Ç–µ–º `await` –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, –ø–æ–∫–∞ –ª—é–±–∞—è –∏–∑ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ (–≤ –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ `(*)`). –ü–æ—Å–ª–µ —á–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `resolve` –∏–ª–∏ `reject` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.
````

````smart header="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–æ–≤"
–î–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å `async` –ø–µ—Ä–µ–¥ –∏–º–µ–Ω–µ–º:

```js run
class Waiter {
*!*
  async wait() {
*/!*
    return await Promise.resolve(1);
  }
}

new Waiter()
  .wait()
  .then(alert); // 1
```
–ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, —Ç–∞–∫–æ–π –º–µ—Ç–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∏ –≤ –µ–≥–æ —Ç–µ–ª–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `await`.

````
###### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ö–æ–≥–¥–∞ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, `await promise` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ö–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π ‚Äì –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –ö–∞–∫ –µ—Å–ª–∏ –±—ã –Ω–∞ —ç—Ç–æ–º –º–µ—Å—Ç–µ –Ω–∞—Ö–æ–¥–∏–ª–æ—Å—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `throw`.

–¢–∞–∫–æ–π –∫–æ–¥:

```js
async function f() {
*!*
  await Promise.reject(new Error("–£–ø—Å!"));
*/!*
}
```

–î–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ —Ç–∞–∫–æ–π:

```js
async function f() {
*!*
  throw new Error("–£–ø—Å!");
*/!*
}
```

–ù–æ –µ—Å—Ç—å –æ—Ç–ª–∏—á–∏–µ: –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø—Ä–æ–º–∏—Å –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π –Ω–µ —Å—Ä–∞–∑—É, –∞ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∞, –∞ –∑–∞—Ç–µ–º `await` –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

–¢–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–∂–Ω–æ –ª–æ–≤–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è `try..catch`, –∫–∞–∫ —Å –æ–±—ã—á–Ω—ã–º `throw`:

```js run
async function f() {

  try {
    let response = await fetch('http://no-such-url');
  } catch(err) {
*!*
    alert(err); // TypeError: failed to fetch
*/!*
  }
}

f();
```

–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `try` –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä—ã–≥–∞–µ—Ç –≤ –Ω–∞—á–∞–ª–æ –±–ª–æ–∫–∞ `catch`. –ë–ª–æ–∫–æ–º `try` –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫:

```js run
async function f() {

  try {
    let response = await fetch('/no-user-here');
    let user = await response.json();
  } catch(err) {
    // –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç –ª—é–±—É—é –æ—à–∏–±–∫—É –≤ –±–ª–æ–∫–µ try: –∏ –≤ fetch, –∏ –≤ response.json
    alert(err);
  }
}

f();
```

–ï—Å–ª–∏ —É –Ω–∞—Å –Ω–µ—Ç `try..catch`, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è —Å –æ—à–∏–±–∫–æ–π –ø—Ä–æ–º–∏—Å (–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `rejected`). –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `.catch` –ø—Ä–æ–º–∏—Å–∞, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É:

```js run
async function f() {
  let response = await fetch('http://no-such-url');
}

// f() –≤–µ—Ä–Ω—ë—Ç –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ rejected
*!*
f().catch(alert); // TypeError: failed to fetch // (*)
*/!*
```

–ï—Å–ª–∏ –∑–∞–±—ã—Ç—å –¥–æ–±–∞–≤–∏—Ç—å `.catch`, —Ç–æ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—à–∏–±–∫–∞ "Uncaught promise error" –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç—Ç–æ–º –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–∞ –≤ –∫–æ–Ω—Å–æ–ª—å. –¢–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–∂–Ω–æ –ø–æ–π–º–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º, –æ —á—ë–º –ø–æ–¥—Ä–æ–±–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ <info:promise-error-handling>.

```smart header="`async/await` –∏ `promise.then/catch`"
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å `async/await`, `.then` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ—á–∞—Å—Ç–æ, —Ç–∞–∫ –∫–∞–∫ `await` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ–±—ã—á–Ω–æ (–Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞) –≥–æ—Ä–∞–∑–¥–æ —É–¥–æ–±–Ω–µ–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è `try..catch`, –Ω–µ–∂–µ–ª–∏ —á–µ–º `.catch`.

–ù–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (–≤–Ω–µ `async`‚Äì—Ñ—É–Ω–∫—Ü–∏–π) `await` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è, –ø–æ—ç—Ç–æ–º—É `.then/catch` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–ª–∏ –æ—à–∏–±–æ–∫ ‚Äì –æ–±—ã—á–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

–¢–∞–∫ —Å–¥–µ–ª–∞–Ω–æ –≤ —Å—Ç—Ä–æ–∫–µ `(*)` –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ.
```

````smart header="`async/await` –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `Promise.all`"
–ö–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –∏—Ö –≤ `Promise.all`, –∏ –∑–∞—Ç–µ–º `await`:

```js
// await –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤
let results = await Promise.all([
  fetch(url1),
  fetch(url2),
  ...
]);
```

–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∫–∞–∫ –æ–±—ã—á–Ω–æ: –æ—Ç –∑–∞–≤–µ—Ä—à–∏–≤—à–µ–≥–æ—Å—è —Å –æ—à–∏–±–∫–æ–π –ø—Ä–æ–º–∏—Å–∞ –∫ `Promise.all`. –ê –ø–æ—Å–ª–µ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–≤–∏—Ç—å, –æ–±–µ—Ä–Ω—É–≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ `try..catch`.
###### –ò—Ç–æ–≥–æ

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `async` –ø–µ—Ä–µ–¥ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏:

1. –û–±—è–∑—ã–≤–∞–µ—Ç –µ—ë –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–æ–º–∏—Å.
2. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `await` –≤ —Ç–µ–ª–µ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `await` –ø–µ—Ä–µ–¥ –ø—Ä–æ–º–∏—Å–æ–º –∑–∞—Å—Ç–∞–≤–∏—Ç JavaScript –¥–æ–∂–¥–∞—Ç—å—Å—è –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –ø–æ—Å–ª–µ —á–µ–≥–æ:

1. –ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –Ω–∞ —ç—Ç–æ–º –º–µ—Å—Ç–µ –Ω–∞—Ö–æ–¥–∏–ª–æ—Å—å `throw`.
2. –ò–Ω–∞—á–µ –≤–µ—Ä–Ω—ë—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–º–∏—Å–∞.

–í–º–µ—Å—Ç–µ –æ–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –æ—Ç–ª–∏—á–Ω—ã–π –∫–∞—Ä–∫–∞—Å –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. –¢–∞–∫–æ–π –∫–æ–¥ –ª–µ–≥–∫–æ –∏ –ø–∏—Å–∞—Ç—å, –∏ —á–∏—Ç–∞—Ç—å.

–•–æ—Ç—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å `async/await` –º–æ–∂–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å—Å—è –±–µ–∑ `promise.then/catch`, –∏–Ω–æ–≥–¥–∞ –≤—Å—ë-—Ç–∞–∫–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –º–µ—Ç–æ–¥—ã (–Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä). –¢–∞–∫–∂–µ `await` –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å `Promise.all`, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

##### –û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á (Microtask Queue) –≤ JavaScript

https://doka.guide/js/queuemicrotask/
https://purpleschool.ru/knowledge-base/article/queuemicrotask
https://learn.javascript.ru/event-loop
https://learn.javascript.ru/microtask-queue

–û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤ Event Loop JavaScript, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º.

###### –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –ø–µ—Ä–µ–¥ –º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏ (—Ç–∞–∫–∏–º–∏ –∫–∞–∫ setTimeout)
2. **–ú–µ—Å—Ç–æ –≤ Event Loop**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏ Event Loop
3. **–¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π**:
   - –ü—Ä–æ–º–∏—Å—ã (Promise callbacks)
   - `queueMicrotask()`
   - `MutationObserver`
   - `process.nextTick()` (–≤ Node.js)

###### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á

```javascript
console.log('–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ 1');

// –ú–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞
setTimeout(() => console.log('setTimeout'), 0);

// –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞
Promise.resolve().then(() => console.log('–ü—Ä–æ–º–∏—Å'));

console.log('–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ 2');

// –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ 1
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ 2
// –ü—Ä–æ–º–∏—Å (–º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞)
// setTimeout (–º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞)
```

###### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏

###### 1. –Ø–≤–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏

```javascript
queueMicrotask(() => {
  console.log('–≠—Ç–æ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞');
});
```

###### 2. –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Promise

```javascript
Promise.resolve().then(() => {
  console.log('–ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–º–∏—Å');
});
```

###### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–ü–æ–ª–Ω–æ–µ –æ–ø—É—Å—Ç–æ—à–µ–Ω–∏–µ**: –û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ Event Loop
2. **–†–µ–∫—É—Ä—Å–∏—è**: –ï—Å–ª–∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –¥–æ–±–∞–≤–ª—è—é—Ç –Ω–æ–≤—ã–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏, –æ–Ω–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ –ø–æ–ª–Ω–æ–≥–æ –æ–ø—É—Å—Ç–æ—à–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏
3. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞**: –î–æ–ª–≥–∏–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫

###### –ü—Ä–∏–º–µ—Ä —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏

```javascript
function recursiveMicrotask(count = 0) {
  if (count >= 3) return;
  
  queueMicrotask(() => {
    console.log(`–ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞ ${count + 1}`);
    recursiveMicrotask(count + 1);
  });
}

recursiveMicrotask();

setTimeout(() => console.log('setTimeout'), 0);

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞ 1
// –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞ 2
// –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞ 3
// setTimeout
```

###### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

1. **–ë–∞—Ç—á–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π DOM**:
   ```javascript
   function batchDOMUpdates() {
     queueMicrotask(() => {
       // –í—Å–µ DOM-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –æ–¥–Ω–æ–π –ø–∞—á–∫–æ–π
       document.getElementById('el').style.color = 'red';
       document.getElementById('el').style.fontSize = '20px';
     });
   }
   ```

2. **–û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**:
   ```javascript
   function defer(fn) {
     queueMicrotask(fn);
   }
   ```

3. **–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:
   ```javascript
   let data;
   fetch('/api').then(res => res.json())
     .then(json => {
       data = json;
       queueMicrotask(() => processData(data));
     });
   ```

###### –û—Ç–ª–∏—á–∏—è –æ—Ç –º–∞–∫—Ä–æ–∑–∞–¥–∞—á (setTimeout)

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞      | –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏               | –ú–∞–∫—Ä–æ–∑–∞–¥–∞—á–∏ (setTimeout) |
|---------------------|---------------------------|--------------------------|
| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç          | –í—ã—à–µ                      | –ù–∏–∂–µ                     |
| –û—á–µ—Ä–µ–¥—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | –ú–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏ Event Loop   | –í —Ñ–∞–∑–µ —Ç–∞–π–º–µ—Ä–æ–≤          |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ      | –ü—Ä–æ–º–∏—Å—ã, queueMicrotask   | setTimeout, setInterval  |
| –ì–ª—É–±–∏–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | –ü–æ–ª–Ω–æ–µ –æ–ø—É—Å—Ç–æ—à–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏| –ü–æ –æ–¥–Ω–æ–π –Ω–∞ —Ñ–∞–∑—É         |

–ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ - –≤–∞–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º –≤ JavaScript, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.



##### –§–∞–∑—ã Event Loop –≤ JavaScript

Event Loop (—Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π) - —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ JavaScript. –û–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–∑, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á.

###### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–∑—ã Event Loop

1. **Timers (–¢–∞–π–º–µ—Ä—ã)**:
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `setTimeout()` –∏ `setInterval()`
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–ª–±—ç–∫–∏, –≤—Ä–µ–º—è –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏—à–ª–æ

2. **Pending I/O (–û–∂–∏–¥–∞—é—â–∏–µ I/O –æ–ø–µ—Ä–∞—Ü–∏–∏)**:
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–ª–±—ç–∫–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞

3. **Idle/Prepare** (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ–∞–∑–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤–∏–∂–∫–æ–º)

4. **Poll (–û–ø—Ä–æ—Å)**:
   - –ü–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ I/O —Å–æ–±—ã—Ç–∏—è
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–ª–±—ç–∫–∏ –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ú–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è, –æ–∂–∏–¥–∞—è –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

5. **Check (–ü—Ä–æ–≤–µ—Ä–∫–∞)**:
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `setImmediate()` –∫–æ–ª–±—ç–∫–∏ (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è Node.js)

6. **Close Callbacks (–ó–∞–∫—Ä—ã—Ç–∏–µ)**:
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–±—ç–∫–∏ –¥–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π/—Ä–µ—Å—É—Ä—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `socket.on('close', ...)`)

###### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏

–ú–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏ Event Loop –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–æ—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á** (Microtask Queue):

1. **–ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏** (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –ü—Ä–æ–º–∏—Å—ã (`then/catch/finally`)
   - `queueMicrotask()`
   - `MutationObserver` (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)
   - `process.nextTick()` (–≤ Node.js)

2. **–ú–∞–∫—Ä–æ–∑–∞–¥–∞—á–∏** (–Ω–∏–∑—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - `setTimeout/setInterval`
   - `setImmediate` (Node.js)
   - I/O –æ–ø–µ—Ä–∞—Ü–∏–∏
   - UI —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)

###### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```mermaid
graph TD
    A[–ù–∞—á–∞–ª–æ] --> B[Timers]
    B --> C[Pending I/O]
    C --> D[Idle/Prepare]
    D --> E[Poll]
    E --> F[Check]
    F --> G[Close Callbacks]
    G --> H[–ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏?]
    H -- –î–∞ --> I[–í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏]
    I --> B
    H -- –ù–µ—Ç --> B
```

###### –ü—Ä–∏–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞

```javascript
console.log('1. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥');

setTimeout(() => console.log('2. setTimeout'), 0);

Promise.resolve().then(() => console.log('3. –ü—Ä–æ–º–∏—Å'));

queueMicrotask(() => console.log('4. queueMicrotask'));

console.log('5. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥');

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// 1. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥
// 5. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥
// 3. –ü—Ä–æ–º–∏—Å
// 4. queueMicrotask
// 2. setTimeout
```

###### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ª–µ–¥—Å—Ç–≤–∏—è

1. **–ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–æ –º–∞–∫—Ä–æ–∑–∞–¥–∞—á**:
   ```javascript
   setTimeout(() => console.log('–º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞'), 0);
   Promise.resolve().then(() => console.log('–º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞'));
   // –°–Ω–∞—á–∞–ª–∞ "–º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞", –ø–æ—Ç–æ–º "–º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞"
   ```

2. **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å Event Loop**:
   ```javascript
   function recursiveMicrotask() {
     Promise.resolve().then(recursiveMicrotask);
   }
   recursiveMicrotask();
   // –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á
   ```

3. **–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ Node.js**:
   ```javascript
   setImmediate(() => console.log('setImmediate'));
   setTimeout(() => console.log('setTimeout'), 0);
   // –ü–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è
   ```

###### –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ Node.js

| –§–∞–∑–∞               | –ë—Ä–∞—É–∑–µ—Ä           | Node.js           |
|--------------------|-------------------|-------------------|
| `process.nextTick` | –ù–µ—Ç               | –í—ã—à–µ –≤—Å–µ—Ö –º–∏–∫—Ä–æ–∑–∞–¥–∞—á |
| `setImmediate`     | –ù–µ—Ç               | –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ–∞–∑–∞ Check |
| –†–µ–Ω–¥–µ—Ä–∏–Ω–≥          | –ü–æ—Å–ª–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á  | –ù–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ      |

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ñ–∞–∑ Event Loop –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

##### –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –≤ JavaScrip

https://habr.com/ru/articles/786330/


–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, JavaScript –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–∞–∫ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π —è–∑—ã–∫, –Ω–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞.
###### 1. Web Workers (–≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö)

Web Workers –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –≤ —Ñ–æ–Ω–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö:

```javascript
// main.js
const worker = new Worker('worker.js');

worker.postMessage('Hello!'); // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

worker.onmessage = (e) => {
  console.log('From worker:', e.data);
};

// worker.js
self.onmessage = (e) => {
  console.log('From main:', e.data);
  self.postMessage('Hi back!');
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Web Workers**:
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ DOM
- –û–±—â–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è (postMessage)
- –û—Ç–¥–µ–ª—å–Ω–æ–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç –ø–∞–º—è—Ç—å)

###### 2. Worker Threads (–≤ Node.js)

–ê–Ω–∞–ª–æ–≥ Web Workers –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ JavaScript:

```javascript
// main.js
const { Worker } = require('worker_threads');

const worker = new Worker('./worker.js');

worker.on('message', (msg) => {
  console.log('From worker:', msg);
});

worker.postMessage('Hello!');

// worker.js
const { parentPort } = require('worker_threads');

parentPort.on('message', (msg) => {
  console.log('From main:', msg);
  parentPort.postMessage('Hi back!');
});
```

###### 3. SharedArrayBuffer –∏ Atomics (—Ä–∞–∑–¥–µ–ª—è–µ–º–∞—è –ø–∞–º—è—Ç—å)

–ü–æ–∑–≤–æ–ª—è—é—Ç –¥–µ–ª–∏—Ç—å—Å—è –ø–∞–º—è—Ç—å—é –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏:

```javascript
// main.js
const worker = new Worker('worker.js');
const sharedBuffer = new SharedArrayBuffer(16);
const sharedArray = new Int32Array(sharedBuffer);

worker.postMessage({ sharedBuffer });

// worker.js
self.onmessage = (e) => {
  const sharedArray = new Int32Array(e.data.sharedBuffer);
  Atomics.add(sharedArray, 0, 1); // –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
};
```

###### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ JavaScript

1. **–ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ DOM** –∏–∑ –≤–æ—Ä–∫–µ—Ä–æ–≤
2. **–û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è** (–∫—Ä–æ–º–µ SharedArrayBuffer)
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** SharedArrayBuffer –∏–∑-–∑–∞ Spectre/Meltdown
4. **–í—ã—Å–æ–∫–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã** –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–æ–≤

###### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º—É

###### 1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Event Loop –¥–ª—è –ø—Å–µ–≤–¥–æ–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞:

```javascript
// –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
fetch('/api').then(processData);
setTimeout(doLater, 1000);
```

###### 2. WebAssembly + Threads

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ WebAssembly:

```javascript
const importObject = {
  env: {
    memoryBase: 0,
    tableBase: 0,
    memory: new WebAssembly.Memory({ initial: 256 }),
    table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })
  }
};

WebAssembly.instantiateStreaming(fetch('module.wasm'), importObject)
  .then(obj => {
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π WASM
  });
```

###### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Workers –¥–ª—è**:
   - –û–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - –°–ª–æ–∂–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
   - –§–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á

2. **–ò–∑–±–µ–≥–∞–π—Ç–µ Workers –¥–ª—è**:
   - –ü—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã)
   - –ß–∞—Å—Ç–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
   - –û–ø–µ—Ä–∞—Ü–∏–π —Å DOM

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏**:
   - Transferable Objects –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SharedArrayBuffer —Ç–∞–º, –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

–ü—Ä–∏–º–µ—Ä —Å Transferable Objects:

```javascript
const largeBuffer = new ArrayBuffer(10000000);
worker.postMessage(largeBuffer, [largeBuffer]); // –ü–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è
```

###### –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏

1. **Service Workers** - –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á –∏ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç—ã
2. **Worklets** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ –≤–æ—Ä–∫–µ—Ä—ã –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á (–∞—É–¥–∏–æ, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥)
3. **ParallelJS** - —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ API –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–∞—Å—Å–∏–≤–∞–º–∏

–•–æ—Ç—è JavaScript –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–º, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ API –ø–æ–∑–≤–æ–ª—è—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

##### Event Loop –∏ –µ–≥–æ –∑–∞–¥–∞—á–∏
https://doka.guide/js/micro-and-macro-tasks/


Event Loop (—Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π) - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–º JavaScript. –í–æ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –µ–≥–æ —Ä–∞–±–æ—Ç—ã:

###### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ Event Loop

1. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞**:
   - –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ä—è–¥–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏**:
   - –†–∞–∑—Ä–µ—à–∞–µ—Ç –∫–æ–ª–±—ç–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤ (–º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏)
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–π–º–µ—Ä—ã –∏ —Å–æ–±—ã—Ç–∏—è (–º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∏)
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç UI —Å–æ–±—ã—Ç–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö

###### –î–µ—Ç–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Event Loop

```mermaid
graph TD
    A[–°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤] --> B[–û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á]
    B --> C[–û—á–µ—Ä–µ–¥—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞]
    C --> D[–û—á–µ—Ä–µ–¥—å –º–∞–∫—Ä–æ–∑–∞–¥–∞—á]
    D --> A
```

###### 1. –°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (Call Stack)
- –í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É Web API

###### 2. –û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á (Microtask Queue)
- **–¢–∏–ø—ã –∑–∞–¥–∞—á**:
  - –ü—Ä–æ–º–∏—Å—ã (`.then/catch/finally`)
  - `queueMicrotask()`
  - `MutationObserver` (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)
  - `process.nextTick()` (–≤ Node.js)
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
  - –ü–æ–ª–Ω–æ–µ –æ–ø—É—Å—Ç–æ—à–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ Event Loop

###### 3. –û—á–µ—Ä–µ–¥—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (Render Queue, –±—Ä–∞—É–∑–µ—Ä—ã)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM –∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏ –∏ –º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏

###### 4. –û—á–µ—Ä–µ–¥—å –º–∞–∫—Ä–æ–∑–∞–¥–∞—á (Macrotask Queue/Task Queue)
- **–¢–∏–ø—ã –∑–∞–¥–∞—á**:
  - `setTimeout/setInterval`
  - –°–æ–±—ã—Ç–∏—è DOM (`click`, `keypress` –∏ —Ç.–¥.)
  - `setImmediate()` (Node.js)
  - I/O –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ü–æ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ –∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é Event Loop
  - –ù–∏–∑—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏

###### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã Event Loop

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤–µ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –∏–∑ —Å—Ç–µ–∫–∞
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ (–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—É—Å—Ç–æ—à–∏—Ç—å –æ—á–µ—Ä–µ–¥—å)
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ - –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)
4. –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω—É –º–∞–∫—Ä–æ–∑–∞–¥–∞—á—É (–µ—Å–ª–∏ –µ—Å—Ç—å)
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ü–∏–∫–ª

###### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

###### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```javascript
console.log('–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥');

setTimeout(() => console.log('setTimeout'), 0);

Promise.resolve().then(() => console.log('–ü—Ä–æ–º–∏—Å'));

queueMicrotask(() => console.log('queueMicrotask'));

console.log('–ö–æ–Ω–µ—Ü —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞');

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥
// –ö–æ–Ω–µ—Ü —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
// –ü—Ä–æ–º–∏—Å
// queueMicrotask
// setTimeout
```

###### –ü—Ä–∏–º–µ—Ä 2: –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

```javascript
setTimeout(() => console.log('timeout1'));

Promise.resolve()
  .then(() => {
    console.log('promise1');
    queueMicrotask(() => console.log('microtask1'));
  })
  .then(() => console.log('promise2'));

setTimeout(() => console.log('timeout2'));

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// promise1
// microtask1
// promise2
// timeout1
// timeout2
```

###### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö

###### –í –±—Ä–∞—É–∑–µ—Ä–µ:
- –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–æ–π DOM
- `requestAnimationFrame` –∏–º–µ–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –æ—á–µ—Ä–µ–¥—å

###### –í Node.js:
- –ï—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∑—ã (timers, pending callbacks, idle/prepare, poll, check, close callbacks)
- `process.nextTick` –∏–º–µ–µ—Ç –¥–∞–∂–µ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏

###### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

1. **–ó–∞–≤–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**:
   ```javascript
   // –ü–ª–æ—Ö–æ - –¥–æ–ª–≥–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞
   function longTask() {
     let sum = 0;
     for (let i = 0; i < 1e9; i++) sum += i;
   }
   
   // –†–µ—à–µ–Ω–∏–µ - —Ä–∞–∑–±–∏—Ç—å –Ω–∞ —á–∞—Å—Ç–∏
   async function chunkedTask() {
     let sum = 0;
     for (let i = 0; i < 1e6; i++) {
       sum += i;
       if (i % 1000 === 0) await Promise.resolve();
     }
   }
   ```

2. **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏**:
   ```javascript
   // –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª - –±–ª–æ–∫–∏—Ä—É–µ—Ç Event Loop
   function recursiveMicrotask() {
     Promise.resolve().then(recursiveMicrotask);
   }
   ```

3. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–≤**:
   ```javascript
   // –ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Ç–æ—á–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
   setTimeout(() => {}, 100);
   
   // –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
   function preciseDelay(fn, ms) {
     const start = performance.now();
     function check() {
       if (performance.now() - start >= ms) fn();
       else requestAnimationFrame(check);
     }
     check();
   }
   ```

Event Loop - —ç—Ç–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥, –∏–∑–±–µ–≥–∞—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

##### –ß—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ü–∏–∫–ª–∏—á–Ω—É—é –º–∞–∫—Ä–æ–∑–∞–¥–∞—á—É –∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á—É?

–º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∏ - —Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, —Ç.–∫. –∑–∞ –æ–¥–∏–Ω —Ç–∏–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–Ω–∞ –º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞

–º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞ - –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è - –±—Ä–∞—É–∑–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –∑–∞ –æ–¥–∏–Ω —Ç–∏–∫
